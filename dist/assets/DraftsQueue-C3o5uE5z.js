import{Q as be,U as M,W as ye,h as d,Y as je,_ as Ne,$ as ve,a0 as ke,a1 as E,a2 as we,a3 as Se,w as b,q as e,a4 as Ce,k as U,v as Pe,G as I,F,x as H,E as ze,A as P,X as A,B as j,C as $,O as q,a5 as Le}from"./index-DA9us14W.js";import{C as Q}from"./check-C3zPQPiO.js";import{S as X}from"./square-DETVvttf.js";import{F as De}from"./filter-DjXM9LrQ.js";import{M as Ie,S as O,a as R,L as Ae}from"./share-2-CyhqAvWh.js";function Te(...t){const r=!Array.isArray(t[0]),i=r?0:-1,s=t[0+i],l=t[1+i],n=t[2+i],o=t[3+i],m=be(l,n,o);return r?m(s):m}function W(t){const r=M(()=>ye(t)),{isStatic:i}=d.useContext(je);if(i){const[,s]=d.useState(t);d.useEffect(()=>r.on("change",s),[])}return r}function Y(t,r){const i=W(r()),s=()=>i.set(r());return s(),Ne(()=>{const l=()=>ve.preRender(s,!1,!0),n=t.map(o=>o.on("change",l));return()=>{n.forEach(o=>o()),ke(s)}}),i}function Me(t){E.current=[],t();const r=Y(E.current,t);return E.current=void 0,r}function $e(t,r,i,s){if(typeof t=="function")return Me(t);const l=typeof r=="function"?r:Te(r,i,s);return Array.isArray(t)?B(t,l):B([t],([n])=>l(n))}function B(t,r){const i=M(()=>[]);return Y(t,()=>{i.length=0;const s=t.length;for(let l=0;l<s;l++)i[l]=t[l].get();return r(i)})}const Z=d.createContext(null);function Ee(t,r,i,s){if(!s)return t;const l=t.findIndex(u=>u.value===r);if(l===-1)return t;const n=s>0?1:-1,o=t[l+n];if(!o)return t;const m=t[l],c=o.layout,p=we(c.min,c.max,.5);return n===1&&m.layout.max+i>p||n===-1&&m.layout.min+i<p?Se(t,l,l+n):t}function Oe({children:t,as:r="ul",axis:i="y",onReorder:s,values:l,...n},o){const m=M(()=>b[r]),c=[],p=d.useRef(!1),u={axis:i,registerItem:(v,x)=>{const N=c.findIndex(g=>v===g.value);N!==-1?c[N].layout=x[i]:c.push({value:v,layout:x[i]}),c.sort(Fe)},updateOrder:(v,x,N)=>{if(p.current)return;const g=Ee(c,v,x,N);c!==g&&(p.current=!0,s(g.map(Ve).filter(k=>l.indexOf(k)!==-1)))}};return d.useEffect(()=>{p.current=!1}),e.jsx(m,{...n,ref:o,ignoreStrict:!0,children:e.jsx(Z.Provider,{value:u,children:t})})}const Ue=d.forwardRef(Oe);function Ve(t){return t.value}function Fe(t,r){return t.layout.min-r.layout.min}function G(t,r=0){return Ce(t)?t:W(r)}function Re({children:t,style:r={},value:i,as:s="li",onDrag:l,layout:n=!0,...o},m){const c=M(()=>b[s]),p=d.useContext(Z),u={x:G(r.x),y:G(r.y)},v=$e([u.x,u.y],([k,S])=>k||S?1:"unset"),{axis:x,registerItem:N,updateOrder:g}=p;return e.jsx(c,{drag:x,...o,dragSnapToOrigin:!0,style:{...r,x:u.x,y:u.y,zIndex:v},layout:n,onDrag:(k,S)=>{const{velocity:z}=S;z[x]&&g(i,u[x].get(),z[x]),l&&l(k,S)},onLayoutMeasure:k=>N(i,k),ref:m,ignoreStrict:!0,children:t})}const Be=d.forwardRef(Re);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=U("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=U("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=U("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),T={twitter:{id:"twitter",name:"Twitter / X",maxLength:280,hashtagLimit:3,supportsImages:!0,supportsVideo:!0,supportsLinks:!0,optimalTimes:["9:00 AM","12:00 PM","5:00 PM"],audienceActive:"Weekdays, business hours"},linkedin:{id:"linkedin",name:"LinkedIn",maxLength:3e3,hashtagLimit:5,supportsImages:!0,supportsVideo:!0,supportsLinks:!0,optimalTimes:["7:00 AM","12:00 PM","5:00 PM"],audienceActive:"Weekdays, especially Tue-Thu"},instagram:{id:"instagram",name:"Instagram",maxLength:2200,hashtagLimit:30,supportsImages:!0,supportsVideo:!0,supportsLinks:!1,optimalTimes:["11:00 AM","2:00 PM","7:00 PM"],audienceActive:"Evenings and weekends"},tiktok:{id:"tiktok",name:"TikTok",maxLength:300,hashtagLimit:5,supportsImages:!1,supportsVideo:!0,supportsLinks:!1,optimalTimes:["7:00 PM","8:00 PM","9:00 PM"],audienceActive:"Evenings, especially weekends"}};function qe(t,r,i){const s=T[i],l=[],n=[];let o=!1,m=t;t.length>s.maxLength&&(m=t.slice(0,s.maxLength-3)+"...",o=!0,l.push(`Content truncated to ${s.maxLength} characters`));const c=r.slice(0,s.hashtagLimit);switch(r.length>s.hashtagLimit&&l.push(`Only ${s.hashtagLimit} hashtags will be included (${r.length} provided)`),i){case"twitter":t.length>200&&n.push("Consider using a thread for longer content"),!t.includes("?")&&!t.includes("!")&&n.push("Adding a question or call-to-action may boost engagement");break;case"linkedin":t.includes(`
`)||n.push("Use line breaks for better readability"),t.length<100&&n.push("Longer posts (500-1000 chars) perform better on LinkedIn");break;case"instagram":r.length<10&&n.push("Consider using more hashtags (10-20 recommended)"),!s.supportsLinks&&t.includes("http")&&(l.push("Links in captions are not clickable on Instagram"),n.push('Use "link in bio" instead of direct URLs'));break;case"tiktok":t.length>150&&n.push("Shorter captions work better on TikTok");break}return{platform:i,content:m,truncated:o,characterCount:m.length,maxCharacters:s.maxLength,hashtags:c,hashtagsIncluded:c.length,warnings:l,optimizations:n}}function Qe(t,r){return Object.keys(T).map(i=>qe(t,r,i))}const _={twitter:"X",linkedin:"in",instagram:"IG",tiktok:"TT"},J={twitter:"bg-gray-800 text-white",linkedin:"bg-blue-600 text-white",instagram:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",tiktok:"bg-black text-white"},Xe={draft:{label:"Draft",color:"bg-gray-500/20 text-gray-400"},scheduled:{label:"Scheduled",color:"bg-primary/20 text-primary"},published:{label:"Published",color:"bg-success/20 text-success"},failed:{label:"Failed",color:"bg-critical/20 text-critical"}};function We({post:t,onEdit:r,onDelete:i,onSchedule:s,onPublish:l,onCrossPost:n,isSelected:o,onSelect:m,showDragHandle:c}){const p=Xe[t.status],u=J[t.platform],v=_[t.platform];return e.jsxs(b.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:`glass-panel rounded-xl p-5 border transition-all duration-300 ${o?"border-primary bg-primary/5":"border-glass-border hover:border-primary/30"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[c&&e.jsx("div",{className:"cursor-grab active:cursor-grabbing text-gray-500 hover:text-gray-300 -ml-1",children:e.jsx(Ge,{size:16})}),m&&e.jsx("button",{onClick:()=>m(t.id),className:"text-gray-400 hover:text-white transition-colors",children:o?e.jsx(V,{size:18,className:"text-primary"}):e.jsx(X,{size:18})}),e.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ${u}`,children:v}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${p.color}`,children:p.label})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>r(t),className:"p-2 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white transition-colors",title:"Edit",children:e.jsx(He,{size:16})}),e.jsx("button",{onClick:()=>i(t.id),className:"p-2 rounded-lg hover:bg-critical/10 text-gray-400 hover:text-critical transition-colors",title:"Delete",children:e.jsx(q,{size:16})})]})]}),e.jsxs("div",{className:"mb-3",children:[t.imageUrl&&e.jsx("div",{className:"mb-3 rounded-lg overflow-hidden bg-white/5 aspect-video flex items-center justify-center",children:e.jsx("img",{src:t.imageUrl,alt:"Post preview",className:"w-full h-full object-cover",onError:x=>{x.currentTarget.style.display="none"}})}),e.jsx("p",{className:"text-sm text-gray-300 line-clamp-3",children:t.content||t.caption})]}),t.hashtags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[t.hashtags.slice(0,4).map((x,N)=>e.jsxs("span",{className:"text-xs text-primary bg-primary/10 px-2 py-0.5 rounded",children:["#",x]},N)),t.hashtags.length>4&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.hashtags.length-4," more"]})]}),t.scheduledAt&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-3",children:[e.jsx(H,{size:12}),e.jsxs("span",{children:[new Date(t.scheduledAt).toLocaleDateString()," at"," ",new Date(t.scheduledAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-glass-border",children:[t.status==="draft"&&e.jsxs(e.Fragment,{children:[e.jsxs(j,{variant:"secondary",size:"sm",onClick:()=>s(t),className:"flex-1",children:[e.jsx($,{size:14,className:"mr-1"}),"Schedule"]}),e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>n(t),title:"Preview on all platforms",children:e.jsx(R,{size:14})}),e.jsxs(j,{variant:"primary",size:"sm",onClick:()=>l(t),className:"flex-1",children:[e.jsx(O,{size:14,className:"mr-1"}),"Publish"]})]}),t.status==="scheduled"&&e.jsxs(e.Fragment,{children:[e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>n(t),title:"Preview on all platforms",children:e.jsx(R,{size:14})}),e.jsxs(j,{variant:"secondary",size:"sm",onClick:()=>l(t),className:"flex-1",children:[e.jsx(O,{size:14,className:"mr-1"}),"Publish Now"]})]})]})]})}function Ye({post:t,onClose:r,onSave:i}){const[s,l]=d.useState(t.content||t.caption||""),[n,o]=d.useState(t.hashtags.join(", ")),m=()=>{i({content:s,caption:s,hashtags:n.split(",").map(c=>c.trim().replace(/^#/,"")).filter(Boolean)}),r()};return e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:e.jsxs(b.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"glass-panel rounded-2xl p-6 w-full max-w-lg border border-glass-border",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Draft"}),e.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white",children:e.jsx(A,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content"}),e.jsx("textarea",{value:s,onChange:c=>l(c.target.value),rows:6,className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hashtags"}),e.jsx("input",{type:"text",value:n,onChange:c=>o(c.target.value),placeholder:"tag1, tag2, tag3",className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separate hashtags with commas"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(j,{variant:"secondary",onClick:r,className:"flex-1",children:"Cancel"}),e.jsxs(j,{variant:"primary",onClick:m,className:"flex-1",children:[e.jsx(Q,{size:16,className:"mr-1"}),"Save Changes"]})]})]})]})})}function Ze({post:t,onClose:r,onSchedule:i}){const[s,l]=d.useState(""),[n,o]=d.useState(""),m=()=>{if(s&&n){const c=new Date(`${s}T${n}`);i(c),r()}};return d.useState(()=>{const c=new Date;c.setDate(c.getDate()+1),c.setHours(9,0,0,0),l(c.toISOString().split("T")[0]),o("09:00")}),e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:e.jsxs(b.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"glass-panel rounded-2xl p-6 w-full max-w-md border border-glass-border",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Schedule Post"}),e.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white",children:e.jsx(A,{size:20})})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-4 line-clamp-2",children:t.content||t.caption}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:s,onChange:c=>l(c.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white focus:border-primary transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Time"}),e.jsx("input",{type:"time",value:n,onChange:c=>o(c.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white focus:border-primary transition-colors"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(j,{variant:"secondary",onClick:r,className:"flex-1",children:"Cancel"}),e.jsxs(j,{variant:"primary",onClick:m,className:"flex-1",disabled:!s||!n,children:[e.jsx($,{size:16,className:"mr-1"}),"Schedule"]})]})]})]})})}function _e({post:t,onClose:r}){const i=Qe(t.content||t.caption||"",t.hashtags);return e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:e.jsxs(b.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"glass-panel rounded-2xl p-6 w-full max-w-3xl border border-glass-border max-h-[80vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Cross-Platform Preview"}),e.jsx("p",{className:"text-sm text-gray-400",children:"See how your content looks on each platform"})]}),e.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white",children:e.jsx(A,{size:20})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(s=>e.jsxs("div",{className:`p-4 rounded-xl border ${s.platform===t.platform?"border-primary/50 bg-primary/5":"border-glass-border bg-white/5"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ${J[s.platform]}`,children:_[s.platform]}),e.jsx("span",{className:"font-medium text-white",children:T[s.platform].name})]}),s.platform===t.platform&&e.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-0.5 rounded",children:"Original"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[s.characterCount," / ",s.maxCharacters," characters"]}),s.truncated&&e.jsx("span",{className:"text-xs text-warning",children:"Truncated"})]}),e.jsx("div",{className:"w-full h-1 bg-white/10 rounded-full mb-3",children:e.jsx("div",{className:`h-full rounded-full transition-all ${s.characterCount/s.maxCharacters>.9?"bg-warning":"bg-primary"}`,style:{width:`${Math.min(100,s.characterCount/s.maxCharacters*100)}%`}})}),e.jsx("p",{className:"text-sm text-gray-300 line-clamp-3 mb-3",children:s.content}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[s.hashtags.map((l,n)=>e.jsxs("span",{className:"text-xs text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:["#",l]},n)),s.hashtags.length<t.hashtags.length&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.hashtags.length-s.hashtags.length," hidden"]})]}),s.warnings.length>0&&e.jsx("div",{className:"space-y-1 mb-2",children:s.warnings.map((l,n)=>e.jsxs("div",{className:"flex items-start gap-1.5 text-xs text-warning",children:[e.jsx(Le,{size:12,className:"mt-0.5 flex-shrink-0"}),e.jsx("span",{children:l})]},n))}),s.optimizations.length>0&&e.jsx("div",{className:"space-y-1",children:s.optimizations.map((l,n)=>e.jsxs("div",{className:"flex items-start gap-1.5 text-xs text-accent-purple",children:[e.jsx(Ae,{size:12,className:"mt-0.5 flex-shrink-0"}),e.jsx("span",{children:l})]},n))})]},s.platform))}),e.jsx("div",{className:"mt-6 pt-4 border-t border-glass-border",children:e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Multi-platform publishing coming soon. Currently publishing to ",T[t.platform].name," only."]})})]})})}function Je({selectedCount:t,onScheduleAll:r,onPublishAll:i,onDeleteAll:s,onClearSelection:l}){const[n,o]=d.useState(!1);return t===0?null:e.jsxs("div",{className:"relative",children:[e.jsxs(j,{variant:"secondary",size:"sm",onClick:()=>o(!n),className:"flex items-center gap-2",children:[e.jsx(V,{size:16}),e.jsxs("span",{children:[t," selected"]}),e.jsx(Ie,{size:14})]}),e.jsx(P,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),e.jsx(b.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-48 bg-surface border border-glass-border rounded-xl shadow-xl z-50 overflow-hidden",children:e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:()=>{r(),o(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-300 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:[e.jsx($,{size:16,className:"text-primary"}),"Schedule All"]}),e.jsxs("button",{onClick:()=>{i(),o(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-300 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:[e.jsx(O,{size:16,className:"text-success"}),"Publish All"]}),e.jsx("div",{className:"border-t border-glass-border my-1"}),e.jsxs("button",{onClick:()=>{s(),o(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-critical hover:bg-critical/10 rounded-lg transition-colors",children:[e.jsx(q,{size:16}),"Delete All"]}),e.jsx("div",{className:"border-t border-glass-border my-1"}),e.jsxs("button",{onClick:()=>{l(),o(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:[e.jsx(A,{size:16}),"Clear Selection"]})]})})]})})]})}function rt(){const{posts:t,setPosts:r,updatePost:i,deletePost:s,addNotification:l,addActivity:n}=Pe(),[o,m]=d.useState(""),[c,p]=d.useState("all"),[u,v]=d.useState("all"),[x,N]=d.useState(null),[g,k]=d.useState(null),[S,z]=d.useState(null),[f,C]=d.useState(new Set),[K,L]=d.useState(!1),w=t.filter(a=>{const h=(a.content||a.caption||"").toLowerCase().includes(o.toLowerCase()),y=c==="all"||a.status===c,D=u==="all"||a.platform===u;return h&&y&&D}),ee=d.useCallback(a=>{C(h=>{const y=new Set(h);return y.has(a)?y.delete(a):y.add(a),y})},[]),te=d.useCallback(()=>{f.size===w.length?C(new Set):C(new Set(w.map(a=>a.id)))},[w,f.size]),se=d.useCallback(()=>{C(new Set)},[]),ae=d.useCallback(a=>{const h=new Set(a.map(D=>D.id)),y=t.filter(D=>!h.has(D.id));r([...a,...y])},[t,r]),le=d.useCallback(()=>{L(!0)},[]),re=d.useCallback(a=>{const h=t.filter(y=>f.has(y.id));h.forEach(y=>{i(y.id,{status:"scheduled",scheduledAt:a,scheduledFor:a.toISOString()})}),l({type:"success",title:"Posts Scheduled",message:`${h.length} posts scheduled for ${a.toLocaleDateString()}`}),n({id:crypto.randomUUID(),action:"Bulk Schedule",description:`Scheduled ${h.length} posts`,timestamp:new Date().toISOString(),status:"success"}),C(new Set),L(!1)},[t,f,i,l,n]),ie=d.useCallback(()=>{const a=t.filter(h=>f.has(h.id));a.forEach(h=>{i(h.id,{status:"published",publishedAt:new Date})}),l({type:"success",title:"Posts Published",message:`${a.length} posts published successfully`}),n({id:crypto.randomUUID(),action:"Bulk Publish",description:`Published ${a.length} posts`,timestamp:new Date().toISOString(),status:"success"}),C(new Set)},[t,f,i,l,n]),ne=d.useCallback(()=>{const a=f.size;f.forEach(h=>{s(h)}),l({type:"info",title:"Posts Deleted",message:`${a} posts removed from queue`}),C(new Set)},[f,s,l]),ce=t.filter(a=>a.status==="draft").length,oe=t.filter(a=>a.status==="scheduled").length,de=t.filter(a=>a.status==="published").length,me=a=>{N(a)},xe=a=>{x&&(i(x.id,a),l({type:"success",title:"Draft Updated",message:"Your changes have been saved"}))},ue=a=>{s(a),l({type:"info",title:"Post Deleted",message:"The post has been removed from your drafts"})},he=a=>{k(a)},pe=a=>{z(a)},ge=a=>{g&&(i(g.id,{status:"scheduled",scheduledAt:a}),l({type:"success",title:"Post Scheduled",message:`Scheduled for ${a.toLocaleDateString()} at ${a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}),n({id:crypto.randomUUID(),action:"Post Scheduled",description:`Scheduled post for ${g.platform}`,timestamp:new Date().toISOString(),status:"success",platform:g.platform}))},fe=a=>{i(a.id,{status:"published",publishedAt:new Date}),l({type:"success",title:"Post Published",message:`Successfully published to ${a.platform}`}),n({id:crypto.randomUUID(),action:"Post Published",description:`Published post to ${a.platform}`,timestamp:new Date().toISOString(),status:"success",platform:a.platform})};return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Content Queue"}),e.jsx("p",{className:"text-gray-400",children:"Manage your drafts and scheduled posts"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(Je,{selectedCount:f.size,onScheduleAll:le,onPublishAll:ie,onDeleteAll:ne,onClearSelection:se})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(I,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(F,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:ce})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Drafts"})]}),e.jsxs(I,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(H,{size:16,className:"text-primary"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:oe})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Scheduled"})]}),e.jsxs(I,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(Q,{size:16,className:"text-success"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:de})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Published"})]})]}),e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[w.length>0&&e.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-colors",children:[f.size===w.length?e.jsx(V,{size:18,className:"text-primary"}):e.jsx(X,{size:18}),e.jsx("span",{className:"text-sm",children:"Select All"})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ze,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search posts...",value:o,onChange:a=>m(a.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-2.5 pl-10 pr-4 text-white placeholder-gray-500 focus:border-primary transition-colors"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{size:16,className:"text-gray-500"}),e.jsxs("select",{value:c,onChange:a=>p(a.target.value),className:"bg-white/5 border border-glass-border rounded-xl py-2.5 px-4 text-white focus:border-primary transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Drafts"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"published",children:"Published"})]})]}),e.jsxs("select",{value:u,onChange:a=>v(a.target.value),className:"bg-white/5 border border-glass-border rounded-xl py-2.5 px-4 text-white focus:border-primary transition-colors",children:[e.jsx("option",{value:"all",children:"All Platforms"}),e.jsx("option",{value:"twitter",children:"Twitter / X"}),e.jsx("option",{value:"linkedin",children:"LinkedIn"}),e.jsx("option",{value:"instagram",children:"Instagram"}),e.jsx("option",{value:"tiktok",children:"TikTok"})]})]})}),w.length>0?e.jsx(Ue,{axis:"y",values:w,onReorder:ae,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.jsx(P,{mode:"popLayout",children:w.map(a=>e.jsx(Be,{value:a,dragListener:!1,children:e.jsx(We,{post:a,onEdit:me,onDelete:ue,onSchedule:he,onPublish:fe,onCrossPost:pe,isSelected:f.has(a.id),onSelect:ee,showDragHandle:!0})},a.id))})}):e.jsxs(I,{className:"p-12 text-center",children:[e.jsx(F,{size:48,className:"mx-auto text-gray-600 mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"No posts found"}),e.jsx("p",{className:"text-sm text-gray-500",children:t.length===0?"Create content in Content Lab to see it here":"Try adjusting your filters"})]}),e.jsx(P,{children:x&&e.jsx(Ye,{post:x,onClose:()=>N(null),onSave:xe})}),e.jsx(P,{children:g&&e.jsx(Ze,{post:g,onClose:()=>k(null),onSchedule:ge})}),e.jsx(P,{children:S&&e.jsx(_e,{post:S,onClose:()=>z(null)})}),e.jsx(P,{children:K&&e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>L(!1),children:e.jsxs(b.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"glass-panel rounded-2xl p-6 w-full max-w-md border border-glass-border",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Schedule ",f.size," Posts"]}),e.jsx("button",{onClick:()=>L(!1),className:"p-2 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white",children:e.jsx(A,{size:20})})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"All selected posts will be scheduled for the same date and time."}),e.jsx(Ke,{onSchedule:re,onCancel:()=>L(!1)})]})})})]})}function Ke({onSchedule:t,onCancel:r}){const[i,s]=d.useState(""),[l,n]=d.useState("");d.useState(()=>{const m=new Date;m.setDate(m.getDate()+1),m.setHours(9,0,0,0),s(m.toISOString().split("T")[0]),n("09:00")});const o=()=>{if(i&&l){const m=new Date(`${i}T${l}`);t(m)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:i,onChange:m=>s(m.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white focus:border-primary transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Time"}),e.jsx("input",{type:"time",value:l,onChange:m=>n(m.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white focus:border-primary transition-colors"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(j,{variant:"secondary",onClick:r,className:"flex-1",children:"Cancel"}),e.jsxs(j,{variant:"primary",onClick:o,className:"flex-1",disabled:!i||!l,children:[e.jsx($,{size:16,className:"mr-1"}),"Schedule All"]})]})]})}export{rt as DraftsQueue};
