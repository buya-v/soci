import{k as G,v as q,h as t,q as e,w as C,B as y,Y as I,G as F,I as O,D as B,F as V,_ as Q,M as R,y as K,X as $}from"./index-Bvg4IV0D.js";import{B as H}from"./Badge-T62NmWhM.js";import{F as X}from"./filter-CQ78wK4l.js";import{C as Y}from"./check-DBZNUY53.js";import{C as J}from"./copy-BR0v6IyD.js";import{P as W}from"./pen-V78rA_fI.js";import{B as Z}from"./bar-chart-2-DLlfABJz.js";import{C as U}from"./chevron-down-D09phEjB.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=G("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),z=[{id:"promotional",label:"Promotional",color:"text-pink-400"},{id:"educational",label:"Educational",color:"text-blue-400"},{id:"engagement",label:"Engagement",color:"text-green-400"},{id:"storytelling",label:"Storytelling",color:"text-purple-400"},{id:"announcement",label:"Announcement",color:"text-orange-400"},{id:"behind-the-scenes",label:"Behind the Scenes",color:"text-yellow-400"},{id:"user-generated",label:"User Generated",color:"text-teal-400"},{id:"trending",label:"Trending",color:"text-red-400"}],M=[{id:"all",label:"All Platforms"},{id:"instagram",label:"Instagram"},{id:"twitter",label:"Twitter"},{id:"linkedin",label:"LinkedIn"},{id:"tiktok",label:"TikTok"}];function se({template:r,onClose:g,onSave:D}){const[u,A]=t.useState((r==null?void 0:r.name)||""),[d,b]=t.useState((r==null?void 0:r.description)||""),[i,n]=t.useState((r==null?void 0:r.content)||""),[o,c]=t.useState((r==null?void 0:r.hashtags)||[]),[k,P]=t.useState((r==null?void 0:r.platform)||"all"),[x,f]=t.useState((r==null?void 0:r.category)||"promotional"),[p,T]=t.useState(""),j=()=>{const a=p.replace(/^#/,"").trim();a&&!o.includes(a)&&c([...o,a]),T("")},v=a=>{c(o.filter(m=>m!==a))},L=()=>{if(!u.trim()||!i.trim())return;const a=new Date().toISOString(),m={id:(r==null?void 0:r.id)||crypto.randomUUID(),name:u.trim(),description:d.trim()||void 0,content:i.trim(),hashtags:o,platform:k,category:x,variables:N(i),createdAt:(r==null?void 0:r.createdAt)||a,updatedAt:a,usageCount:(r==null?void 0:r.usageCount)||0};D(m),g()},N=a=>{const m=a.match(/\{\{(\w+)\}\}/g)||[];return[...new Set(m)].map(E=>({name:E.replace(/\{\{|\}\}/g,""),defaultValue:""}))},S=N(i);return e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:g,children:e.jsxs(C.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"glass-panel rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:r?"Edit Template":"Create Template"}),e.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-white/5 transition-colors",children:e.jsx($,{size:20,className:"text-gray-400"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Template Name *"}),e.jsx("input",{type:"text",value:u,onChange:a=>A(a.target.value),placeholder:"e.g., Product Launch Announcement",className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),e.jsx("input",{type:"text",value:d,onChange:a=>b(a.target.value),placeholder:"Brief description of when to use this template",className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:x,onChange:a=>f(a.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white appearance-none cursor-pointer focus:border-primary transition-colors",children:z.map(a=>e.jsx("option",{value:a.id,className:"bg-gray-900",children:a.label},a.id))}),e.jsx(U,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:k,onChange:a=>P(a.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white appearance-none cursor-pointer focus:border-primary transition-colors",children:M.map(a=>e.jsx("option",{value:a.id,className:"bg-gray-900",children:a.label},a.id))}),e.jsx(U,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Template Content *"}),e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Use ","{{variable}}"," syntax for dynamic placeholders (e.g., ","{{product_name}}",")"]}),e.jsx("textarea",{value:i,onChange:a=>n(a.target.value),placeholder:`Example:

Introducing {{product_name}}!

{{key_benefit}} that will transform your {{use_case}}.

Get yours today and experience the difference.`,rows:6,className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors resize-none font-mono text-sm"}),S.length>0&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Detected variables:"}),S.map(a=>e.jsx("span",{className:"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded",children:a.name},a.name))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Default Hashtags"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:o.map(a=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm bg-white/5 text-gray-300 border border-glass-border",children:["#",a,e.jsx("button",{onClick:()=>v(a),className:"ml-1 hover:text-critical transition-colors",children:e.jsx($,{size:12})})]},a))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:p,onChange:a=>T(a.target.value),onKeyDown:a=>a.key==="Enter"&&j(),placeholder:"Add hashtag...",className:"flex-1 bg-white/5 border border-glass-border rounded-xl py-2 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors text-sm"}),e.jsxs(y,{variant:"secondary",size:"sm",onClick:j,children:[e.jsx(I,{size:16}),"Add"]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-glass-border",children:[e.jsx(y,{variant:"secondary",className:"flex-1",onClick:g,children:"Cancel"}),e.jsx(y,{variant:"primary",className:"flex-1",onClick:L,disabled:!u.trim()||!i.trim(),children:r?"Save Changes":"Create Template"})]})]})})}function de(){const{templates:r,addTemplate:g,updateTemplate:D,deleteTemplate:u,incrementTemplateUsage:A,addNotification:d}=q(),[b,i]=t.useState(""),[n,o]=t.useState("all"),[c,k]=t.useState("all"),[P,x]=t.useState(!1),[f,p]=t.useState(null),[T,j]=t.useState(null),[v,L]=t.useState(!1),N=t.useMemo(()=>r.filter(s=>{var h;if(b){const l=b.toLowerCase();if(!(s.name.toLowerCase().includes(l)||s.content.toLowerCase().includes(l)||((h=s.description)==null?void 0:h.toLowerCase().includes(l))||s.hashtags.some(_=>_.toLowerCase().includes(l))))return!1}return!(n!=="all"&&s.category!==n||c!=="all"&&s.platform!=="all"&&s.platform!==c)}),[r,b,n,c]),S=async s=>{await navigator.clipboard.writeText(s.content),j(s.id),A(s.id),setTimeout(()=>j(null),2e3),d({type:"success",title:"Copied!",message:`Template "${s.name}" copied to clipboard`})},a=s=>{f?(D(s.id,s),d({type:"success",title:"Template Updated",message:`"${s.name}" has been updated`})):(g(s),d({type:"success",title:"Template Created",message:`"${s.name}" has been added to your library`})),p(null),x(!1)},m=s=>{confirm(`Delete "${s.name}"? This action cannot be undone.`)&&(u(s.id),d({type:"info",title:"Template Deleted",message:`"${s.name}" has been removed`}))},E=s=>{var h;return((h=z.find(l=>l.id===s))==null?void 0:h.color)||"text-gray-400"};return e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Content Templates"}),e.jsx("p",{className:"text-gray-400",children:"Save and reuse your best-performing content templates"})]}),e.jsxs(y,{variant:"primary",onClick:()=>x(!0),children:[e.jsx(I,{size:18}),"New Template"]})]}),e.jsxs(F,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(O,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:b,onChange:s=>i(s.target.value),placeholder:"Search templates...",className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 pl-11 pr-4 text-white placeholder-gray-500 focus:border-primary transition-colors"})]}),e.jsxs(y,{variant:v?"primary":"secondary",onClick:()=>L(!v),children:[e.jsx(X,{size:18}),"Filters",(n!=="all"||c!=="all")&&e.jsx("span",{className:"ml-1 w-2 h-2 rounded-full bg-primary"})]})]}),e.jsx(B,{children:v&&e.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 mt-4 border-t border-glass-border",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Category"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>o("all"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${n==="all"?"bg-primary/20 text-primary border border-primary/30":"bg-white/5 text-gray-400 border border-glass-border hover:border-glass-border-hover"}`,children:"All"}),z.map(s=>e.jsx("button",{onClick:()=>o(s.id),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${n===s.id?"bg-primary/20 text-primary border border-primary/30":"bg-white/5 text-gray-400 border border-glass-border hover:border-glass-border-hover"}`,children:s.label},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Platform"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(s=>e.jsx("button",{onClick:()=>k(s.id),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${c===s.id?"bg-primary/20 text-primary border border-primary/30":"bg-white/5 text-gray-400 border border-glass-border hover:border-glass-border-hover"}`,children:s.label},s.id))})]})]})})})]}),N.length===0?e.jsxs(F,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mx-auto mb-4",children:e.jsx(V,{size:32,className:"text-gray-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:r.length===0?"No templates yet":"No matching templates"}),e.jsx("p",{className:"text-gray-400 mb-4",children:r.length===0?"Create your first template to speed up content creation":"Try adjusting your search or filters"}),r.length===0&&e.jsxs(y,{variant:"primary",onClick:()=>x(!0),children:[e.jsx(I,{size:18}),"Create Template"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map((s,h)=>{var l;return e.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.05},children:e.jsxs(F,{className:"p-4 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-white truncate",children:s.name}),s.description&&e.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:s.description})]}),e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[e.jsx("button",{onClick:()=>S(s),className:"p-2 rounded-lg hover:bg-white/5 transition-colors",title:"Copy to clipboard",children:T===s.id?e.jsx(Y,{size:16,className:"text-success"}):e.jsx(J,{size:16,className:"text-gray-400"})}),e.jsx("button",{onClick:()=>p(s),className:"p-2 rounded-lg hover:bg-white/5 transition-colors",title:"Edit template",children:e.jsx(W,{size:16,className:"text-gray-400"})}),e.jsx("button",{onClick:()=>m(s),className:"p-2 rounded-lg hover:bg-white/5 transition-colors",title:"Delete template",children:e.jsx(Q,{size:16,className:"text-gray-400 hover:text-critical"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs(H,{variant:"default",size:"sm",children:[e.jsx(ee,{size:10,className:E(s.category)}),(l=z.find(w=>w.id===s.category))==null?void 0:l.label]}),s.platform!=="all"&&e.jsx(H,{variant:"info",size:"sm",children:s.platform})]}),e.jsx("div",{className:"flex-1 bg-white/5 rounded-lg p-3 mb-3",children:e.jsx("p",{className:"text-sm text-gray-300 line-clamp-4 font-mono",children:s.content})}),s.hashtags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[s.hashtags.slice(0,4).map(w=>e.jsxs("span",{className:"text-xs text-primary bg-primary/10 px-2 py-0.5 rounded",children:["#",w]},w)),s.hashtags.length>4&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",s.hashtags.length-4]})]}),s.variables.length>0&&e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(R,{size:12,className:"text-purple-400"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[s.variables.length," variable",s.variables.length!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-3 border-t border-glass-border",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{size:12}),new Date(s.updatedAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{size:12}),"Used ",s.usageCount,"x"]})]})]})},s.id)})}),e.jsx(B,{children:(P||f)&&e.jsx(se,{template:f||void 0,onClose:()=>{x(!1),p(null)},onSave:a})})]})}export{de as TemplatesLibrary};
