const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-BWll6YSO.js","assets/export-PBqL4860.js","assets/format-Cjfd9sfQ.js","assets/users-DmJ-z0lw.js","assets/play-DSc14mkH.js","assets/chevron-down-Ddol0Fnx.js","assets/arrow-up-right-DET_1LXk.js","assets/TrendEngine-Be-FT-2K.js","assets/external-link-5h9TP0QF.js","assets/ContentLab-DJjwNFEF.js","assets/message-circle-kigLw-K-.js","assets/send-Dne5krf5.js","assets/target-C-shcEXG.js","assets/check-BzChNA_O.js","assets/chevron-right-DZvUjHbJ.js","assets/copy-DVhqKQHn.js","assets/share-2-BMkXaOL5.js","assets/TemplatesLibrary-BictWaU4.js","assets/Badge-Cs1JRGzp.js","assets/filter-BSdLwGmA.js","assets/pen-ByZRv-pl.js","assets/bar-chart-2-xVev9gbH.js","assets/HashtagCollections-DdTUAm-X.js","assets/palette-CjYjs7n2.js","assets/MediaLibrary-CPwNn4Td.js","assets/DraftsQueue-BsiTWq5i.js","assets/twitter-CvhaymRg.js","assets/square-Cs4EzwXJ.js","assets/PublishedPosts-Dyo5EPbv.js","assets/CalendarView-BBXNTb8n.js","assets/VideoLab-vykhTCh1.js","assets/AutomationHub-D69LemYx.js","assets/BudgetManager-CrOdyqXJ.js"])))=>i.map(i=>d[i]);
var Ok=Object.defineProperty;var Hp=t=>{throw TypeError(t)};var jk=(t,e,n)=>e in t?Ok(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Eo=(t,e,n)=>jk(t,typeof e!="symbol"?e+"":e,n),Pc=(t,e,n)=>e.has(t)||Hp("Cannot "+n);var P=(t,e,n)=>(Pc(t,e,"read from private field"),n?n.call(t):e.get(t)),Y=(t,e,n)=>e.has(t)?Hp("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),W=(t,e,n,r)=>(Pc(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Be=(t,e,n)=>(Pc(t,e,"access private method"),n);var To=(t,e,n,r)=>({set _(s){W(t,e,s,n)},get _(){return P(t,e,r)}});function Dk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Lk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sw={exports:{}},Uu={},iw={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=Symbol.for("react.element"),$k=Symbol.for("react.portal"),Fk=Symbol.for("react.fragment"),Vk=Symbol.for("react.strict_mode"),Bk=Symbol.for("react.profiler"),Uk=Symbol.for("react.provider"),zk=Symbol.for("react.context"),Wk=Symbol.for("react.forward_ref"),Hk=Symbol.for("react.suspense"),qk=Symbol.for("react.memo"),Kk=Symbol.for("react.lazy"),qp=Symbol.iterator;function Gk(t){return t===null||typeof t!="object"?null:(t=qp&&t[qp]||t["@@iterator"],typeof t=="function"?t:null)}var aw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ow=Object.assign,lw={};function hi(t,e,n){this.props=t,this.context=e,this.refs=lw,this.updater=n||aw}hi.prototype.isReactComponent={};hi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uw(){}uw.prototype=hi.prototype;function Ph(t,e,n){this.props=t,this.context=e,this.refs=lw,this.updater=n||aw}var Ah=Ph.prototype=new uw;Ah.constructor=Ph;ow(Ah,hi.prototype);Ah.isPureReactComponent=!0;var Kp=Array.isArray,cw=Object.prototype.hasOwnProperty,Rh={current:null},dw={key:!0,ref:!0,__self:!0,__source:!0};function fw(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)cw.call(e,r)&&!dw.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:oo,type:t,key:i,ref:a,props:s,_owner:Rh.current}}function Xk(t,e){return{$$typeof:oo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mh(t){return typeof t=="object"&&t!==null&&t.$$typeof===oo}function Qk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gp=/\/+/g;function Ac(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Qk(""+t.key):e.toString(36)}function _l(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case oo:case $k:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Ac(a,0):r,Kp(s)?(n="",t!=null&&(n=t.replace(Gp,"$&/")+"/"),_l(s,e,n,"",function(u){return u})):s!=null&&(Mh(s)&&(s=Xk(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Gp,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Kp(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+Ac(i,o);a+=_l(i,e,n,l,s)}else if(l=Gk(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+Ac(i,o++),a+=_l(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Po(t,e,n){if(t==null)return t;var r=[],s=0;return _l(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Yk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nt={current:null},Sl={transition:null},Jk={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Sl,ReactCurrentOwner:Rh};function hw(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Po,forEach:function(t,e,n){Po(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Po(t,function(){e++}),e},toArray:function(t){return Po(t,function(e){return e})||[]},only:function(t){if(!Mh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=hi;X.Fragment=Fk;X.Profiler=Bk;X.PureComponent=Ph;X.StrictMode=Vk;X.Suspense=Hk;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jk;X.act=hw;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ow({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Rh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)cw.call(e,l)&&!dw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:oo,type:t.type,key:s,ref:i,props:r,_owner:a}};X.createContext=function(t){return t={$$typeof:zk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Uk,_context:t},t.Consumer=t};X.createElement=fw;X.createFactory=function(t){var e=fw.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:Wk,render:t}};X.isValidElement=Mh;X.lazy=function(t){return{$$typeof:Kk,_payload:{_status:-1,_result:t},_init:Yk}};X.memo=function(t,e){return{$$typeof:qk,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=Sl.transition;Sl.transition={};try{t()}finally{Sl.transition=e}};X.unstable_act=hw;X.useCallback=function(t,e){return nt.current.useCallback(t,e)};X.useContext=function(t){return nt.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return nt.current.useDeferredValue(t)};X.useEffect=function(t,e){return nt.current.useEffect(t,e)};X.useId=function(){return nt.current.useId()};X.useImperativeHandle=function(t,e,n){return nt.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return nt.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return nt.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return nt.current.useMemo(t,e)};X.useReducer=function(t,e,n){return nt.current.useReducer(t,e,n)};X.useRef=function(t){return nt.current.useRef(t)};X.useState=function(t){return nt.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return nt.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return nt.current.useTransition()};X.version="18.3.1";iw.exports=X;var A=iw.exports;const Ss=Lk(A),eD=Dk({__proto__:null,default:Ss},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk=A,eC=Symbol.for("react.element"),tC=Symbol.for("react.fragment"),nC=Object.prototype.hasOwnProperty,rC=Zk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sC={key:!0,ref:!0,__self:!0,__source:!0};function mw(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)nC.call(e,r)&&!sC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:eC,type:t,key:i,ref:a,props:s,_owner:rC.current}}Uu.Fragment=tC;Uu.jsx=mw;Uu.jsxs=mw;sw.exports=Uu;var m=sw.exports,Ld={},pw={exports:{}},St={},gw={exports:{}},yw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,B){var H=O.length;O.push(B);e:for(;0<H;){var oe=H-1>>>1,Te=O[oe];if(0<s(Te,B))O[oe]=B,O[H]=Te,H=oe;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],H=O.pop();if(H!==B){O[0]=H;e:for(var oe=0,Te=O.length,ko=Te>>>1;oe<ko;){var Sr=2*(oe+1)-1,Tc=O[Sr],br=Sr+1,Co=O[br];if(0>s(Tc,H))br<Te&&0>s(Co,Tc)?(O[oe]=Co,O[br]=H,oe=br):(O[oe]=Tc,O[Sr]=H,oe=Sr);else if(br<Te&&0>s(Co,H))O[oe]=Co,O[br]=H,oe=br;else break e}}return B}function s(O,B){var H=O.sortIndex-B.sortIndex;return H!==0?H:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,f=3,h=!1,w=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=O)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function x(O){if(v=!1,y(O),!w)if(n(l)!==null)w=!0,jn(_);else{var B=n(u);B!==null&&Q(x,B.startTime-O)}}function _(O,B){w=!1,v&&(v=!1,g(T),T=-1),h=!0;var H=f;try{for(y(B),d=n(l);d!==null&&(!(d.expirationTime>B)||O&&!j());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,f=d.priorityLevel;var Te=oe(d.expirationTime<=B);B=t.unstable_now(),typeof Te=="function"?d.callback=Te:d===n(l)&&r(l),y(B)}else r(l);d=n(l)}if(d!==null)var ko=!0;else{var Sr=n(u);Sr!==null&&Q(x,Sr.startTime-B),ko=!1}return ko}finally{d=null,f=H,h=!1}}var b=!1,C=null,T=-1,I=5,R=-1;function j(){return!(t.unstable_now()-R<I)}function se(){if(C!==null){var O=t.unstable_now();R=O;var B=!0;try{B=C(!0,O)}finally{B?dt():(b=!1,C=null)}}else b=!1}var dt;if(typeof p=="function")dt=function(){p(se)};else if(typeof MessageChannel<"u"){var en=new MessageChannel,tn=en.port2;en.port1.onmessage=se,dt=function(){tn.postMessage(null)}}else dt=function(){S(se,0)};function jn(O){C=O,b||(b=!0,dt())}function Q(O,B){T=S(function(){O(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){w||h||(w=!0,jn(_))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var H=f;f=B;try{return O()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=f;f=O;try{return B()}finally{f=H}},t.unstable_scheduleCallback=function(O,B,H){var oe=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?oe+H:oe):H=oe,O){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=H+Te,O={id:c++,callback:B,priorityLevel:O,startTime:H,expirationTime:Te,sortIndex:-1},H>oe?(O.sortIndex=H,e(u,O),n(l)===null&&O===n(u)&&(v?(g(T),T=-1):v=!0,Q(x,H-oe))):(O.sortIndex=Te,e(l,O),w||h||(w=!0,jn(_))),O},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(O){var B=f;return function(){var H=f;f=B;try{return O.apply(this,arguments)}finally{f=H}}}})(yw);gw.exports=yw;var iC=gw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC=A,_t=iC;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vw=new Set,Aa={};function as(t,e){ri(t,e),ri(t+"Capture",e)}function ri(t,e){for(Aa[t]=e,t=0;t<e.length;t++)vw.add(e[t])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$d=Object.prototype.hasOwnProperty,oC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xp={},Qp={};function lC(t){return $d.call(Qp,t)?!0:$d.call(Xp,t)?!1:oC.test(t)?Qp[t]=!0:(Xp[t]=!0,!1)}function uC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cC(t,e,n,r){if(e===null||typeof e>"u"||uC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fe[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fe[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fe[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fe[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fe[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fe[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fe[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fe[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fe[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nh=/[\-:]([a-z])/g;function Ih(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nh,Ih);Fe[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nh,Ih);Fe[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nh,Ih);Fe[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fe[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fe[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Oh(t,e,n,r){var s=Fe.hasOwnProperty(e)?Fe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cC(e,n,s,r)&&(n=null),r||s===null?lC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var On=aC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ao=Symbol.for("react.element"),bs=Symbol.for("react.portal"),ks=Symbol.for("react.fragment"),jh=Symbol.for("react.strict_mode"),Fd=Symbol.for("react.profiler"),ww=Symbol.for("react.provider"),xw=Symbol.for("react.context"),Dh=Symbol.for("react.forward_ref"),Vd=Symbol.for("react.suspense"),Bd=Symbol.for("react.suspense_list"),Lh=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),_w=Symbol.for("react.offscreen"),Yp=Symbol.iterator;function Si(t){return t===null||typeof t!="object"?null:(t=Yp&&t[Yp]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,Rc;function Xi(t){if(Rc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rc=e&&e[1]||""}return`
`+Rc+t}var Mc=!1;function Nc(t,e){if(!t||Mc)return"";Mc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Mc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xi(t):""}function dC(t){switch(t.tag){case 5:return Xi(t.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 2:case 15:return t=Nc(t.type,!1),t;case 11:return t=Nc(t.type.render,!1),t;case 1:return t=Nc(t.type,!0),t;default:return""}}function Ud(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ks:return"Fragment";case bs:return"Portal";case Fd:return"Profiler";case jh:return"StrictMode";case Vd:return"Suspense";case Bd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xw:return(t.displayName||"Context")+".Consumer";case ww:return(t._context.displayName||"Context")+".Provider";case Dh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lh:return e=t.displayName||null,e!==null?e:Ud(t.type)||"Memo";case Wn:e=t._payload,t=t._init;try{return Ud(t(e))}catch{}}return null}function fC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ud(e);case 8:return e===jh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hC(t){var e=Sw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ro(t){t._valueTracker||(t._valueTracker=hC(t))}function bw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Sw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ql(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zd(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kw(t,e){e=e.checked,e!=null&&Oh(t,"checked",e,!1)}function Wd(t,e){kw(t,e);var n=fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hd(t,e.type,fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hd(t,e,n){(e!=="number"||Ql(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qi=Array.isArray;function Bs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Qi(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fr(n)}}function Cw(t,e){var n=fr(e.value),r=fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ew(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ew(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mo,Tw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mo=Mo||document.createElement("div"),Mo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mC=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(t){mC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fa[e]=fa[t]})});function Pw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fa.hasOwnProperty(t)&&fa[t]?(""+e).trim():e+"px"}function Aw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Pw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var pC=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gd(t,e){if(e){if(pC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Xd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qd=null;function $h(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yd=null,Us=null,zs=null;function ng(t){if(t=co(t)){if(typeof Yd!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Ku(e),Yd(t.stateNode,t.type,e))}}function Rw(t){Us?zs?zs.push(t):zs=[t]:Us=t}function Mw(){if(Us){var t=Us,e=zs;if(zs=Us=null,ng(t),e)for(t=0;t<e.length;t++)ng(e[t])}}function Nw(t,e){return t(e)}function Iw(){}var Ic=!1;function Ow(t,e,n){if(Ic)return t(e,n);Ic=!0;try{return Nw(t,e,n)}finally{Ic=!1,(Us!==null||zs!==null)&&(Iw(),Mw())}}function Ma(t,e){var n=t.stateNode;if(n===null)return null;var r=Ku(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Jd=!1;if(Pn)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){Jd=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Jd=!1}function gC(t,e,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ha=!1,Yl=null,Jl=!1,Zd=null,yC={onError:function(t){ha=!0,Yl=t}};function vC(t,e,n,r,s,i,a,o,l){ha=!1,Yl=null,gC.apply(yC,arguments)}function wC(t,e,n,r,s,i,a,o,l){if(vC.apply(this,arguments),ha){if(ha){var u=Yl;ha=!1,Yl=null}else throw Error(N(198));Jl||(Jl=!0,Zd=u)}}function os(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rg(t){if(os(t)!==t)throw Error(N(188))}function xC(t){var e=t.alternate;if(!e){if(e=os(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return rg(s),t;if(i===r)return rg(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Dw(t){return t=xC(t),t!==null?Lw(t):null}function Lw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lw(t);if(e!==null)return e;t=t.sibling}return null}var $w=_t.unstable_scheduleCallback,sg=_t.unstable_cancelCallback,_C=_t.unstable_shouldYield,SC=_t.unstable_requestPaint,ge=_t.unstable_now,bC=_t.unstable_getCurrentPriorityLevel,Fh=_t.unstable_ImmediatePriority,Fw=_t.unstable_UserBlockingPriority,Zl=_t.unstable_NormalPriority,kC=_t.unstable_LowPriority,Vw=_t.unstable_IdlePriority,zu=null,fn=null;function CC(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(zu,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:PC,EC=Math.log,TC=Math.LN2;function PC(t){return t>>>=0,t===0?32:31-(EC(t)/TC|0)|0}var No=64,Io=4194304;function Yi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Yi(o):(i&=a,i!==0&&(r=Yi(i)))}else a=n&~s,a!==0?r=Yi(a):i!==0&&(r=Yi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qt(e),s=1<<n,r|=t[n],e&=~s;return r}function AC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Qt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=AC(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function ef(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bw(){var t=No;return No<<=1,!(No&4194240)&&(No=64),t}function Oc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qt(e),t[e]=n}function MC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Qt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Vh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ee=0;function Uw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zw,Bh,Ww,Hw,qw,tf=!1,Oo=[],rr=null,sr=null,ir=null,Na=new Map,Ia=new Map,Kn=[],NC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ig(t,e){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Na.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(e.pointerId)}}function ki(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=co(e),e!==null&&Bh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function IC(t,e,n,r,s){switch(e){case"focusin":return rr=ki(rr,t,e,n,r,s),!0;case"dragenter":return sr=ki(sr,t,e,n,r,s),!0;case"mouseover":return ir=ki(ir,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Na.set(i,ki(Na.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ia.set(i,ki(Ia.get(i)||null,t,e,n,r,s)),!0}return!1}function Kw(t){var e=Or(t.target);if(e!==null){var n=os(e);if(n!==null){if(e=n.tag,e===13){if(e=jw(n),e!==null){t.blockedOn=e,qw(t.priority,function(){Ww(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qd=r,n.target.dispatchEvent(r),Qd=null}else return e=co(n),e!==null&&Bh(e),t.blockedOn=n,!1;e.shift()}return!0}function ag(t,e,n){bl(t)&&n.delete(e)}function OC(){tf=!1,rr!==null&&bl(rr)&&(rr=null),sr!==null&&bl(sr)&&(sr=null),ir!==null&&bl(ir)&&(ir=null),Na.forEach(ag),Ia.forEach(ag)}function Ci(t,e){t.blockedOn===e&&(t.blockedOn=null,tf||(tf=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,OC)))}function Oa(t){function e(s){return Ci(s,t)}if(0<Oo.length){Ci(Oo[0],t);for(var n=1;n<Oo.length;n++){var r=Oo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rr!==null&&Ci(rr,t),sr!==null&&Ci(sr,t),ir!==null&&Ci(ir,t),Na.forEach(e),Ia.forEach(e),n=0;n<Kn.length;n++)r=Kn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)Kw(n),n.blockedOn===null&&Kn.shift()}var Ws=On.ReactCurrentBatchConfig,tu=!0;function jC(t,e,n,r){var s=ee,i=Ws.transition;Ws.transition=null;try{ee=1,Uh(t,e,n,r)}finally{ee=s,Ws.transition=i}}function DC(t,e,n,r){var s=ee,i=Ws.transition;Ws.transition=null;try{ee=4,Uh(t,e,n,r)}finally{ee=s,Ws.transition=i}}function Uh(t,e,n,r){if(tu){var s=nf(t,e,n,r);if(s===null)Wc(t,e,r,nu,n),ig(t,r);else if(IC(s,t,e,n,r))r.stopPropagation();else if(ig(t,r),e&4&&-1<NC.indexOf(t)){for(;s!==null;){var i=co(s);if(i!==null&&zw(i),i=nf(t,e,n,r),i===null&&Wc(t,e,r,nu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wc(t,e,r,null,n)}}var nu=null;function nf(t,e,n,r){if(nu=null,t=$h(r),t=Or(t),t!==null)if(e=os(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nu=t,null}function Gw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bC()){case Fh:return 1;case Fw:return 4;case Zl:case kC:return 16;case Vw:return 536870912;default:return 16}default:return 16}}var tr=null,zh=null,kl=null;function Xw(){if(kl)return kl;var t,e=zh,n=e.length,r,s="value"in tr?tr.value:tr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return kl=s.slice(t,1<r?1-r:void 0)}function Cl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jo(){return!0}function og(){return!1}function bt(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jo:og,this.isPropagationStopped=og,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),e}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wh=bt(mi),uo=de({},mi,{view:0,detail:0}),LC=bt(uo),jc,Dc,Ei,Wu=de({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(jc=t.screenX-Ei.screenX,Dc=t.screenY-Ei.screenY):Dc=jc=0,Ei=t),jc)},movementY:function(t){return"movementY"in t?t.movementY:Dc}}),lg=bt(Wu),$C=de({},Wu,{dataTransfer:0}),FC=bt($C),VC=de({},uo,{relatedTarget:0}),Lc=bt(VC),BC=de({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),UC=bt(BC),zC=de({},mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WC=bt(zC),HC=de({},mi,{data:0}),ug=bt(HC),qC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GC[t])?!!e[t]:!1}function Hh(){return XC}var QC=de({},uo,{key:function(t){if(t.key){var e=qC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hh,charCode:function(t){return t.type==="keypress"?Cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YC=bt(QC),JC=de({},Wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cg=bt(JC),ZC=de({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hh}),e2=bt(ZC),t2=de({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),n2=bt(t2),r2=de({},Wu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s2=bt(r2),i2=[9,13,27,32],qh=Pn&&"CompositionEvent"in window,ma=null;Pn&&"documentMode"in document&&(ma=document.documentMode);var a2=Pn&&"TextEvent"in window&&!ma,Qw=Pn&&(!qh||ma&&8<ma&&11>=ma),dg=" ",fg=!1;function Yw(t,e){switch(t){case"keyup":return i2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cs=!1;function o2(t,e){switch(t){case"compositionend":return Jw(e);case"keypress":return e.which!==32?null:(fg=!0,dg);case"textInput":return t=e.data,t===dg&&fg?null:t;default:return null}}function l2(t,e){if(Cs)return t==="compositionend"||!qh&&Yw(t,e)?(t=Xw(),kl=zh=tr=null,Cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qw&&e.locale!=="ko"?null:e.data;default:return null}}var u2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u2[t.type]:e==="textarea"}function Zw(t,e,n,r){Rw(r),e=ru(e,"onChange"),0<e.length&&(n=new Wh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pa=null,ja=null;function c2(t){cx(t,0)}function Hu(t){var e=Ps(t);if(bw(e))return t}function d2(t,e){if(t==="change")return e}var ex=!1;if(Pn){var $c;if(Pn){var Fc="oninput"in document;if(!Fc){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),Fc=typeof mg.oninput=="function"}$c=Fc}else $c=!1;ex=$c&&(!document.documentMode||9<document.documentMode)}function pg(){pa&&(pa.detachEvent("onpropertychange",tx),ja=pa=null)}function tx(t){if(t.propertyName==="value"&&Hu(ja)){var e=[];Zw(e,ja,t,$h(t)),Ow(c2,e)}}function f2(t,e,n){t==="focusin"?(pg(),pa=e,ja=n,pa.attachEvent("onpropertychange",tx)):t==="focusout"&&pg()}function h2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(ja)}function m2(t,e){if(t==="click")return Hu(e)}function p2(t,e){if(t==="input"||t==="change")return Hu(e)}function g2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jt=typeof Object.is=="function"?Object.is:g2;function Da(t,e){if(Jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$d.call(e,s)||!Jt(t[s],e[s]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,e){var n=gg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gg(n)}}function nx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rx(){for(var t=window,e=Ql();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ql(t.document)}return e}function Kh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function y2(t){var e=rx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nx(n.ownerDocument.documentElement,n)){if(r!==null&&Kh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=yg(n,i);var a=yg(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var v2=Pn&&"documentMode"in document&&11>=document.documentMode,Es=null,rf=null,ga=null,sf=!1;function vg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sf||Es==null||Es!==Ql(r)||(r=Es,"selectionStart"in r&&Kh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ga&&Da(ga,r)||(ga=r,r=ru(rf,"onSelect"),0<r.length&&(e=new Wh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Es)))}function Do(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},Vc={},sx={};Pn&&(sx=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function qu(t){if(Vc[t])return Vc[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sx)return Vc[t]=e[n];return t}var ix=qu("animationend"),ax=qu("animationiteration"),ox=qu("animationstart"),lx=qu("transitionend"),ux=new Map,wg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(t,e){ux.set(t,e),as(e,[t])}for(var Bc=0;Bc<wg.length;Bc++){var Uc=wg[Bc],w2=Uc.toLowerCase(),x2=Uc[0].toUpperCase()+Uc.slice(1);vr(w2,"on"+x2)}vr(ix,"onAnimationEnd");vr(ax,"onAnimationIteration");vr(ox,"onAnimationStart");vr("dblclick","onDoubleClick");vr("focusin","onFocus");vr("focusout","onBlur");vr(lx,"onTransitionEnd");ri("onMouseEnter",["mouseout","mouseover"]);ri("onMouseLeave",["mouseout","mouseover"]);ri("onPointerEnter",["pointerout","pointerover"]);ri("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function xg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wC(r,e,void 0,t),t.currentTarget=null}function cx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;xg(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;xg(s,o,u),i=l}}}if(Jl)throw t=Zd,Jl=!1,Zd=null,t}function ne(t,e){var n=e[cf];n===void 0&&(n=e[cf]=new Set);var r=t+"__bubble";n.has(r)||(dx(e,t,2,!1),n.add(r))}function zc(t,e,n){var r=0;e&&(r|=4),dx(n,t,r,e)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function La(t){if(!t[Lo]){t[Lo]=!0,vw.forEach(function(n){n!=="selectionchange"&&(_2.has(n)||zc(n,!1,t),zc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lo]||(e[Lo]=!0,zc("selectionchange",!1,e))}}function dx(t,e,n,r){switch(Gw(e)){case 1:var s=jC;break;case 4:s=DC;break;default:s=Uh}n=s.bind(null,e,n,t),s=void 0,!Jd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Wc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Or(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Ow(function(){var u=i,c=$h(n),d=[];e:{var f=ux.get(t);if(f!==void 0){var h=Wh,w=t;switch(t){case"keypress":if(Cl(n)===0)break e;case"keydown":case"keyup":h=YC;break;case"focusin":w="focus",h=Lc;break;case"focusout":w="blur",h=Lc;break;case"beforeblur":case"afterblur":h=Lc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=FC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=e2;break;case ix:case ax:case ox:h=UC;break;case lx:h=n2;break;case"scroll":h=LC;break;case"wheel":h=s2;break;case"copy":case"cut":case"paste":h=WC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=cg}var v=(e&4)!==0,S=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,y;p!==null;){y=p;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,g!==null&&(x=Ma(p,g),x!=null&&v.push($a(p,x,y)))),S)break;p=p.return}0<v.length&&(f=new h(f,w,null,n,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Qd&&(w=n.relatedTarget||n.fromElement)&&(Or(w)||w[An]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(w=n.relatedTarget||n.toElement,h=u,w=w?Or(w):null,w!==null&&(S=os(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=u),h!==w)){if(v=lg,x="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=cg,x="onPointerLeave",g="onPointerEnter",p="pointer"),S=h==null?f:Ps(h),y=w==null?f:Ps(w),f=new v(x,p+"leave",h,n,c),f.target=S,f.relatedTarget=y,x=null,Or(c)===u&&(v=new v(g,p+"enter",w,n,c),v.target=y,v.relatedTarget=S,x=v),S=x,h&&w)t:{for(v=h,g=w,p=0,y=v;y;y=ls(y))p++;for(y=0,x=g;x;x=ls(x))y++;for(;0<p-y;)v=ls(v),p--;for(;0<y-p;)g=ls(g),y--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=ls(v),g=ls(g)}v=null}else v=null;h!==null&&_g(d,f,h,v,!1),w!==null&&S!==null&&_g(d,S,w,v,!0)}}e:{if(f=u?Ps(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var _=d2;else if(hg(f))if(ex)_=p2;else{_=h2;var b=f2}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=m2);if(_&&(_=_(t,u))){Zw(d,_,n,c);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Hd(f,"number",f.value)}switch(b=u?Ps(u):window,t){case"focusin":(hg(b)||b.contentEditable==="true")&&(Es=b,rf=u,ga=null);break;case"focusout":ga=rf=Es=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,vg(d,n,c);break;case"selectionchange":if(v2)break;case"keydown":case"keyup":vg(d,n,c)}var C;if(qh)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Cs?Yw(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Qw&&n.locale!=="ko"&&(Cs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Cs&&(C=Xw()):(tr=c,zh="value"in tr?tr.value:tr.textContent,Cs=!0)),b=ru(u,T),0<b.length&&(T=new ug(T,t,null,n,c),d.push({event:T,listeners:b}),C?T.data=C:(C=Jw(n),C!==null&&(T.data=C)))),(C=a2?o2(t,n):l2(t,n))&&(u=ru(u,"onBeforeInput"),0<u.length&&(c=new ug("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}cx(d,e)})}function $a(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ru(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ma(t,n),i!=null&&r.unshift($a(t,i,s)),i=Ma(t,e),i!=null&&r.push($a(t,i,s))),t=t.return}return r}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _g(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Ma(n,i),l!=null&&a.unshift($a(n,l,o))):s||(l=Ma(n,i),l!=null&&a.push($a(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var S2=/\r\n?/g,b2=/\u0000|\uFFFD/g;function Sg(t){return(typeof t=="string"?t:""+t).replace(S2,`
`).replace(b2,"")}function $o(t,e,n){if(e=Sg(e),Sg(t)!==e&&n)throw Error(N(425))}function su(){}var af=null,of=null;function lf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uf=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,bg=typeof Promise=="function"?Promise:void 0,C2=typeof queueMicrotask=="function"?queueMicrotask:typeof bg<"u"?function(t){return bg.resolve(null).then(t).catch(E2)}:uf;function E2(t){setTimeout(function(){throw t})}function Hc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Oa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oa(e)}function ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pi=Math.random().toString(36).slice(2),cn="__reactFiber$"+pi,Fa="__reactProps$"+pi,An="__reactContainer$"+pi,cf="__reactEvents$"+pi,T2="__reactListeners$"+pi,P2="__reactHandles$"+pi;function Or(t){var e=t[cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[An]||n[cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kg(t);t!==null;){if(n=t[cn])return n;t=kg(t)}return e}t=n,n=t.parentNode}return null}function co(t){return t=t[cn]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ps(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Ku(t){return t[Fa]||null}var df=[],As=-1;function wr(t){return{current:t}}function re(t){0>As||(t.current=df[As],df[As]=null,As--)}function te(t,e){As++,df[As]=t.current,t.current=e}var hr={},Ke=wr(hr),lt=wr(!1),Yr=hr;function si(t,e){var n=t.type.contextTypes;if(!n)return hr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ut(t){return t=t.childContextTypes,t!=null}function iu(){re(lt),re(Ke)}function Cg(t,e,n){if(Ke.current!==hr)throw Error(N(168));te(Ke,e),te(lt,n)}function fx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,fC(t)||"Unknown",s));return de({},n,r)}function au(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hr,Yr=Ke.current,te(Ke,t),te(lt,lt.current),!0}function Eg(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=fx(t,e,Yr),r.__reactInternalMemoizedMergedChildContext=t,re(lt),re(Ke),te(Ke,t)):re(lt),te(lt,n)}var Sn=null,Gu=!1,qc=!1;function hx(t){Sn===null?Sn=[t]:Sn.push(t)}function A2(t){Gu=!0,hx(t)}function xr(){if(!qc&&Sn!==null){qc=!0;var t=0,e=ee;try{var n=Sn;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sn=null,Gu=!1}catch(s){throw Sn!==null&&(Sn=Sn.slice(t+1)),$w(Fh,xr),s}finally{ee=e,qc=!1}}return null}var Rs=[],Ms=0,ou=null,lu=0,At=[],Rt=0,Jr=null,Cn=1,En="";function Pr(t,e){Rs[Ms++]=lu,Rs[Ms++]=ou,ou=t,lu=e}function mx(t,e,n){At[Rt++]=Cn,At[Rt++]=En,At[Rt++]=Jr,Jr=t;var r=Cn;t=En;var s=32-Qt(r)-1;r&=~(1<<s),n+=1;var i=32-Qt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Cn=1<<32-Qt(e)+s|n<<s|r,En=i+t}else Cn=1<<i|n<<s|r,En=t}function Gh(t){t.return!==null&&(Pr(t,1),mx(t,1,0))}function Xh(t){for(;t===ou;)ou=Rs[--Ms],Rs[Ms]=null,lu=Rs[--Ms],Rs[Ms]=null;for(;t===Jr;)Jr=At[--Rt],At[Rt]=null,En=At[--Rt],At[Rt]=null,Cn=At[--Rt],At[Rt]=null}var xt=null,wt=null,ie=!1,Gt=null;function px(t,e){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Tg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,wt=ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jr!==null?{id:Cn,overflow:En}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,wt=null,!0):!1;default:return!1}}function ff(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hf(t){if(ie){var e=wt;if(e){var n=e;if(!Tg(t,e)){if(ff(t))throw Error(N(418));e=ar(n.nextSibling);var r=xt;e&&Tg(t,e)?px(r,n):(t.flags=t.flags&-4097|2,ie=!1,xt=t)}}else{if(ff(t))throw Error(N(418));t.flags=t.flags&-4097|2,ie=!1,xt=t}}}function Pg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function Fo(t){if(t!==xt)return!1;if(!ie)return Pg(t),ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lf(t.type,t.memoizedProps)),e&&(e=wt)){if(ff(t))throw gx(),Error(N(418));for(;e;)px(t,e),e=ar(e.nextSibling)}if(Pg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wt=ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wt=null}}else wt=xt?ar(t.stateNode.nextSibling):null;return!0}function gx(){for(var t=wt;t;)t=ar(t.nextSibling)}function ii(){wt=xt=null,ie=!1}function Qh(t){Gt===null?Gt=[t]:Gt.push(t)}var R2=On.ReactCurrentBatchConfig;function Ti(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Vo(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ag(t){var e=t._init;return e(t._payload)}function yx(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=cr(g,p),g.index=0,g.sibling=null,g}function i(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,p,y,x){return p===null||p.tag!==6?(p=Zc(y,g.mode,x),p.return=g,p):(p=s(p,y),p.return=g,p)}function l(g,p,y,x){var _=y.type;return _===ks?c(g,p,y.props.children,x,y.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wn&&Ag(_)===p.type)?(x=s(p,y.props),x.ref=Ti(g,p,y),x.return=g,x):(x=Nl(y.type,y.key,y.props,null,g.mode,x),x.ref=Ti(g,p,y),x.return=g,x)}function u(g,p,y,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=ed(y,g.mode,x),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function c(g,p,y,x,_){return p===null||p.tag!==7?(p=Gr(y,g.mode,x,_),p.return=g,p):(p=s(p,y),p.return=g,p)}function d(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Zc(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ao:return y=Nl(p.type,p.key,p.props,null,g.mode,y),y.ref=Ti(g,null,p),y.return=g,y;case bs:return p=ed(p,g.mode,y),p.return=g,p;case Wn:var x=p._init;return d(g,x(p._payload),y)}if(Qi(p)||Si(p))return p=Gr(p,g.mode,y,null),p.return=g,p;Vo(g,p)}return null}function f(g,p,y,x){var _=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:o(g,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ao:return y.key===_?l(g,p,y,x):null;case bs:return y.key===_?u(g,p,y,x):null;case Wn:return _=y._init,f(g,p,_(y._payload),x)}if(Qi(y)||Si(y))return _!==null?null:c(g,p,y,x,null);Vo(g,y)}return null}function h(g,p,y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(y)||null,o(p,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ao:return g=g.get(x.key===null?y:x.key)||null,l(p,g,x,_);case bs:return g=g.get(x.key===null?y:x.key)||null,u(p,g,x,_);case Wn:var b=x._init;return h(g,p,y,b(x._payload),_)}if(Qi(x)||Si(x))return g=g.get(y)||null,c(p,g,x,_,null);Vo(p,x)}return null}function w(g,p,y,x){for(var _=null,b=null,C=p,T=p=0,I=null;C!==null&&T<y.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var R=f(g,C,y[T],x);if(R===null){C===null&&(C=I);break}t&&C&&R.alternate===null&&e(g,C),p=i(R,p,T),b===null?_=R:b.sibling=R,b=R,C=I}if(T===y.length)return n(g,C),ie&&Pr(g,T),_;if(C===null){for(;T<y.length;T++)C=d(g,y[T],x),C!==null&&(p=i(C,p,T),b===null?_=C:b.sibling=C,b=C);return ie&&Pr(g,T),_}for(C=r(g,C);T<y.length;T++)I=h(C,g,T,y[T],x),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),p=i(I,p,T),b===null?_=I:b.sibling=I,b=I);return t&&C.forEach(function(j){return e(g,j)}),ie&&Pr(g,T),_}function v(g,p,y,x){var _=Si(y);if(typeof _!="function")throw Error(N(150));if(y=_.call(y),y==null)throw Error(N(151));for(var b=_=null,C=p,T=p=0,I=null,R=y.next();C!==null&&!R.done;T++,R=y.next()){C.index>T?(I=C,C=null):I=C.sibling;var j=f(g,C,R.value,x);if(j===null){C===null&&(C=I);break}t&&C&&j.alternate===null&&e(g,C),p=i(j,p,T),b===null?_=j:b.sibling=j,b=j,C=I}if(R.done)return n(g,C),ie&&Pr(g,T),_;if(C===null){for(;!R.done;T++,R=y.next())R=d(g,R.value,x),R!==null&&(p=i(R,p,T),b===null?_=R:b.sibling=R,b=R);return ie&&Pr(g,T),_}for(C=r(g,C);!R.done;T++,R=y.next())R=h(C,g,T,R.value,x),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?T:R.key),p=i(R,p,T),b===null?_=R:b.sibling=R,b=R);return t&&C.forEach(function(se){return e(g,se)}),ie&&Pr(g,T),_}function S(g,p,y,x){if(typeof y=="object"&&y!==null&&y.type===ks&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ao:e:{for(var _=y.key,b=p;b!==null;){if(b.key===_){if(_=y.type,_===ks){if(b.tag===7){n(g,b.sibling),p=s(b,y.props.children),p.return=g,g=p;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wn&&Ag(_)===b.type){n(g,b.sibling),p=s(b,y.props),p.ref=Ti(g,b,y),p.return=g,g=p;break e}n(g,b);break}else e(g,b);b=b.sibling}y.type===ks?(p=Gr(y.props.children,g.mode,x,y.key),p.return=g,g=p):(x=Nl(y.type,y.key,y.props,null,g.mode,x),x.ref=Ti(g,p,y),x.return=g,g=x)}return a(g);case bs:e:{for(b=y.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=s(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=ed(y,g.mode,x),p.return=g,g=p}return a(g);case Wn:return b=y._init,S(g,p,b(y._payload),x)}if(Qi(y))return w(g,p,y,x);if(Si(y))return v(g,p,y,x);Vo(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,y),p.return=g,g=p):(n(g,p),p=Zc(y,g.mode,x),p.return=g,g=p),a(g)):n(g,p)}return S}var ai=yx(!0),vx=yx(!1),uu=wr(null),cu=null,Ns=null,Yh=null;function Jh(){Yh=Ns=cu=null}function Zh(t){var e=uu.current;re(uu),t._currentValue=e}function mf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hs(t,e){cu=t,Yh=Ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(at=!0),t.firstContext=null)}function Dt(t){var e=t._currentValue;if(Yh!==t)if(t={context:t,memoizedValue:e,next:null},Ns===null){if(cu===null)throw Error(N(308));Ns=t,cu.dependencies={lanes:0,firstContext:t}}else Ns=Ns.next=t;return e}var jr=null;function em(t){jr===null?jr=[t]:jr.push(t)}function wx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,em(e)):(n.next=s.next,s.next=n),e.interleaved=n,Rn(t,r)}function Rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hn=!1;function tm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function or(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Rn(t,n)}return s=r.interleaved,s===null?(e.next=e,em(r)):(e.next=s.next,s.next=e),r.interleaved=e,Rn(t,n)}function El(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vh(t,n)}}function Rg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function du(t,e,n,r){var s=t.updateQueue;Hn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var f=o.lane,h=o.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,v=o;switch(f=e,h=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(h,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(h,d,f):w,f==null)break e;d=de({},d,f);break e;case 2:Hn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);es|=a,t.lanes=a,t.memoizedState=d}}function Mg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var fo={},hn=wr(fo),Va=wr(fo),Ba=wr(fo);function Dr(t){if(t===fo)throw Error(N(174));return t}function nm(t,e){switch(te(Ba,e),te(Va,t),te(hn,fo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kd(e,t)}re(hn),te(hn,e)}function oi(){re(hn),re(Va),re(Ba)}function _x(t){Dr(Ba.current);var e=Dr(hn.current),n=Kd(e,t.type);e!==n&&(te(Va,t),te(hn,n))}function rm(t){Va.current===t&&(re(hn),re(Va))}var le=wr(0);function fu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kc=[];function sm(){for(var t=0;t<Kc.length;t++)Kc[t]._workInProgressVersionPrimary=null;Kc.length=0}var Tl=On.ReactCurrentDispatcher,Gc=On.ReactCurrentBatchConfig,Zr=0,ce=null,Ce=null,Re=null,hu=!1,ya=!1,Ua=0,M2=0;function Ue(){throw Error(N(321))}function im(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jt(t[n],e[n]))return!1;return!0}function am(t,e,n,r,s,i){if(Zr=i,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tl.current=t===null||t.memoizedState===null?j2:D2,t=n(r,s),ya){i=0;do{if(ya=!1,Ua=0,25<=i)throw Error(N(301));i+=1,Re=Ce=null,e.updateQueue=null,Tl.current=L2,t=n(r,s)}while(ya)}if(Tl.current=mu,e=Ce!==null&&Ce.next!==null,Zr=0,Re=Ce=ce=null,hu=!1,e)throw Error(N(300));return t}function om(){var t=Ua!==0;return Ua=0,t}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ce.memoizedState=Re=t:Re=Re.next=t,Re}function Lt(){if(Ce===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var e=Re===null?ce.memoizedState:Re.next;if(e!==null)Re=e,Ce=t;else{if(t===null)throw Error(N(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Re===null?ce.memoizedState=Re=t:Re=Re.next=t}return Re}function za(t,e){return typeof e=="function"?e(t):e}function Xc(t){var e=Lt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((Zr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,ce.lanes|=c,es|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,Jt(r,e.memoizedState)||(at=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ce.lanes|=i,es|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qc(t){var e=Lt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Jt(i,e.memoizedState)||(at=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Sx(){}function bx(t,e){var n=ce,r=Lt(),s=e(),i=!Jt(r.memoizedState,s);if(i&&(r.memoizedState=s,at=!0),r=r.queue,lm(Ex.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,Wa(9,Cx.bind(null,n,r,s,e),void 0,null),Ne===null)throw Error(N(349));Zr&30||kx(n,e,s)}return s}function kx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Cx(t,e,n,r){e.value=n,e.getSnapshot=r,Tx(e)&&Px(t)}function Ex(t,e,n){return n(function(){Tx(e)&&Px(t)})}function Tx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jt(t,n)}catch{return!0}}function Px(t){var e=Rn(t,1);e!==null&&Yt(e,t,1,-1)}function Ng(t){var e=sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:t},e.queue=t,t=t.dispatch=O2.bind(null,ce,t),[e.memoizedState,t]}function Wa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ax(){return Lt().memoizedState}function Pl(t,e,n,r){var s=sn();ce.flags|=t,s.memoizedState=Wa(1|e,n,void 0,r===void 0?null:r)}function Xu(t,e,n,r){var s=Lt();r=r===void 0?null:r;var i=void 0;if(Ce!==null){var a=Ce.memoizedState;if(i=a.destroy,r!==null&&im(r,a.deps)){s.memoizedState=Wa(e,n,i,r);return}}ce.flags|=t,s.memoizedState=Wa(1|e,n,i,r)}function Ig(t,e){return Pl(8390656,8,t,e)}function lm(t,e){return Xu(2048,8,t,e)}function Rx(t,e){return Xu(4,2,t,e)}function Mx(t,e){return Xu(4,4,t,e)}function Nx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ix(t,e,n){return n=n!=null?n.concat([t]):null,Xu(4,4,Nx.bind(null,e,t),n)}function um(){}function Ox(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&im(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jx(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&im(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Dx(t,e,n){return Zr&21?(Jt(n,e)||(n=Bw(),ce.lanes|=n,es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=n)}function N2(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=Gc.transition;Gc.transition={};try{t(!1),e()}finally{ee=n,Gc.transition=r}}function Lx(){return Lt().memoizedState}function I2(t,e,n){var r=ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$x(t))Fx(e,n);else if(n=wx(t,e,n,r),n!==null){var s=tt();Yt(n,t,r,s),Vx(n,e,r)}}function O2(t,e,n){var r=ur(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($x(t))Fx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Jt(o,a)){var l=e.interleaved;l===null?(s.next=s,em(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=wx(t,e,s,r),n!==null&&(s=tt(),Yt(n,t,r,s),Vx(n,e,r))}}function $x(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function Fx(t,e){ya=hu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vh(t,n)}}var mu={readContext:Dt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},j2={readContext:Dt,useCallback:function(t,e){return sn().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:Ig,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pl(4194308,4,Nx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pl(4,2,t,e)},useMemo:function(t,e){var n=sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=I2.bind(null,ce,t),[r.memoizedState,t]},useRef:function(t){var e=sn();return t={current:t},e.memoizedState=t},useState:Ng,useDebugValue:um,useDeferredValue:function(t){return sn().memoizedState=t},useTransition:function(){var t=Ng(!1),e=t[0];return t=N2.bind(null,t[1]),sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ce,s=sn();if(ie){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Ne===null)throw Error(N(349));Zr&30||kx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ig(Ex.bind(null,r,i,t),[t]),r.flags|=2048,Wa(9,Cx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=sn(),e=Ne.identifierPrefix;if(ie){var n=En,r=Cn;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ua++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D2={readContext:Dt,useCallback:Ox,useContext:Dt,useEffect:lm,useImperativeHandle:Ix,useInsertionEffect:Rx,useLayoutEffect:Mx,useMemo:jx,useReducer:Xc,useRef:Ax,useState:function(){return Xc(za)},useDebugValue:um,useDeferredValue:function(t){var e=Lt();return Dx(e,Ce.memoizedState,t)},useTransition:function(){var t=Xc(za)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:Sx,useSyncExternalStore:bx,useId:Lx,unstable_isNewReconciler:!1},L2={readContext:Dt,useCallback:Ox,useContext:Dt,useEffect:lm,useImperativeHandle:Ix,useInsertionEffect:Rx,useLayoutEffect:Mx,useMemo:jx,useReducer:Qc,useRef:Ax,useState:function(){return Qc(za)},useDebugValue:um,useDeferredValue:function(t){var e=Lt();return Ce===null?e.memoizedState=t:Dx(e,Ce.memoizedState,t)},useTransition:function(){var t=Qc(za)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:Sx,useSyncExternalStore:bx,useId:Lx,unstable_isNewReconciler:!1};function Ut(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qu={isMounted:function(t){return(t=t._reactInternals)?os(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tt(),s=ur(t),i=Tn(r,s);i.payload=e,n!=null&&(i.callback=n),e=or(t,i,s),e!==null&&(Yt(e,t,s,r),El(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tt(),s=ur(t),i=Tn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=or(t,i,s),e!==null&&(Yt(e,t,s,r),El(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tt(),r=ur(t),s=Tn(n,r);s.tag=2,e!=null&&(s.callback=e),e=or(t,s,r),e!==null&&(Yt(e,t,r,n),El(e,t,r))}};function Og(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Da(n,r)||!Da(s,i):!0}function Bx(t,e,n){var r=!1,s=hr,i=e.contextType;return typeof i=="object"&&i!==null?i=Dt(i):(s=ut(e)?Yr:Ke.current,r=e.contextTypes,i=(r=r!=null)?si(t,s):hr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function jg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qu.enqueueReplaceState(e,e.state,null)}function gf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},tm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Dt(i):(i=ut(e)?Yr:Ke.current,s.context=si(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(pf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qu.enqueueReplaceState(s,s.state,null),du(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function li(t,e){try{var n="",r=e;do n+=dC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Yc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $2=typeof WeakMap=="function"?WeakMap:Map;function Ux(t,e,n){n=Tn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gu||(gu=!0,Tf=r),yf(t,e)},n}function zx(t,e,n){n=Tn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){yf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yf(t,e),typeof r!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Dg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=J2.bind(null,t,e,n),e.then(t,t))}function Lg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $g(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tn(-1,1),e.tag=2,or(n,e,1))),n.lanes|=1),t)}var F2=On.ReactCurrentOwner,at=!1;function Je(t,e,n,r){e.child=t===null?vx(e,null,n,r):ai(e,t.child,n,r)}function Fg(t,e,n,r,s){n=n.render;var i=e.ref;return Hs(e,s),r=am(t,e,n,r,i,s),n=om(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mn(t,e,s)):(ie&&n&&Gh(e),e.flags|=1,Je(t,e,r,s),e.child)}function Vg(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ym(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Wx(t,e,i,r,s)):(t=Nl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Da,n(a,r)&&t.ref===e.ref)return Mn(t,e,s)}return e.flags|=1,t=cr(i,r),t.ref=e.ref,t.return=e,e.child=t}function Wx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Da(i,r)&&t.ref===e.ref)if(at=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(at=!0);else return e.lanes=t.lanes,Mn(t,e,s)}return vf(t,e,n,r,s)}function Hx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Os,vt),vt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(Os,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,te(Os,vt),vt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,te(Os,vt),vt|=r;return Je(t,e,s,n),e.child}function qx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vf(t,e,n,r,s){var i=ut(n)?Yr:Ke.current;return i=si(e,i),Hs(e,s),n=am(t,e,n,r,i,s),r=om(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mn(t,e,s)):(ie&&r&&Gh(e),e.flags|=1,Je(t,e,n,s),e.child)}function Bg(t,e,n,r,s){if(ut(n)){var i=!0;au(e)}else i=!1;if(Hs(e,s),e.stateNode===null)Al(t,e),Bx(e,n,r),gf(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dt(u):(u=ut(n)?Yr:Ke.current,u=si(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&jg(e,a,r,u),Hn=!1;var f=e.memoizedState;a.state=f,du(e,r,a,s),l=e.memoizedState,o!==r||f!==l||lt.current||Hn?(typeof c=="function"&&(pf(e,n,c,r),l=e.memoizedState),(o=Hn||Og(e,n,o,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,xx(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ut(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dt(l):(l=ut(n)?Yr:Ke.current,l=si(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&jg(e,a,r,l),Hn=!1,f=e.memoizedState,a.state=f,du(e,r,a,s);var w=e.memoizedState;o!==d||f!==w||lt.current||Hn?(typeof h=="function"&&(pf(e,n,h,r),w=e.memoizedState),(u=Hn||Og(e,n,u,r,f,w,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),a.props=r,a.state=w,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return wf(t,e,n,r,i,s)}function wf(t,e,n,r,s,i){qx(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Eg(e,n,!1),Mn(t,e,i);r=e.stateNode,F2.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ai(e,t.child,null,i),e.child=ai(e,null,o,i)):Je(t,e,o,i),e.memoizedState=r.state,s&&Eg(e,n,!0),e.child}function Kx(t){var e=t.stateNode;e.pendingContext?Cg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cg(t,e.context,!1),nm(t,e.containerInfo)}function Ug(t,e,n,r,s){return ii(),Qh(s),e.flags|=256,Je(t,e,n,r),e.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function _f(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gx(t,e,n){var r=e.pendingProps,s=le.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),te(le,s&1),t===null)return hf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Zu(a,r,0,null),t=Gr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_f(n),e.memoizedState=xf,t):cm(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return V2(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=cr(o,i):(i=Gr(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?_f(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=xf,r}return i=t.child,t=i.sibling,r=cr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cm(t,e){return e=Zu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bo(t,e,n,r){return r!==null&&Qh(r),ai(e,t.child,null,n),t=cm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V2(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Yc(Error(N(422))),Bo(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zu({mode:"visible",children:r.children},s,0,null),i=Gr(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ai(e,t.child,null,a),e.child.memoizedState=_f(a),e.memoizedState=xf,i);if(!(e.mode&1))return Bo(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(N(419)),r=Yc(i,r,void 0),Bo(t,e,a,r)}if(o=(a&t.childLanes)!==0,at||o){if(r=Ne,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rn(t,s),Yt(r,t,s,-1))}return gm(),r=Yc(Error(N(421))),Bo(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Z2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wt=ar(s.nextSibling),xt=e,ie=!0,Gt=null,t!==null&&(At[Rt++]=Cn,At[Rt++]=En,At[Rt++]=Jr,Cn=t.id,En=t.overflow,Jr=e),e=cm(e,r.children),e.flags|=4096,e)}function zg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mf(t.return,e,n)}function Jc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Xx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Je(t,e,r.children,n),r=le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zg(t,n,e);else if(t.tag===19)zg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(te(le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&fu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Jc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&fu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Jc(e,!0,n,null,i);break;case"together":Jc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Al(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function B2(t,e,n){switch(e.tag){case 3:Kx(e),ii();break;case 5:_x(e);break;case 1:ut(e.type)&&au(e);break;case 4:nm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;te(uu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(te(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?Gx(t,e,n):(te(le,le.current&1),t=Mn(t,e,n),t!==null?t.sibling:null);te(le,le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Xx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(le,le.current),r)break;return null;case 22:case 23:return e.lanes=0,Hx(t,e,n)}return Mn(t,e,n)}var Qx,Sf,Yx,Jx;Qx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sf=function(){};Yx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Dr(hn.current);var i=null;switch(n){case"input":s=zd(t,s),r=zd(t,r),i=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":s=qd(t,s),r=qd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=su)}Gd(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Aa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Aa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ne("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Jx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Pi(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function U2(t,e,n){var r=e.pendingProps;switch(Xh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return ut(e.type)&&iu(),ze(e),null;case 3:return r=e.stateNode,oi(),re(lt),re(Ke),sm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gt!==null&&(Rf(Gt),Gt=null))),Sf(t,e),ze(e),null;case 5:rm(e);var s=Dr(Ba.current);if(n=e.type,t!==null&&e.stateNode!=null)Yx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return ze(e),null}if(t=Dr(hn.current),Fo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[cn]=e,r[Fa]=i,t=(e.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<Ji.length;s++)ne(Ji[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":Jp(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":eg(r,i),ne("invalid",r)}Gd(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&$o(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&$o(r.textContent,o,t),s=["children",""+o]):Aa.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ne("scroll",r)}switch(n){case"input":Ro(r),Zp(r,i,!0);break;case"textarea":Ro(r),tg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=su)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ew(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[cn]=e,t[Fa]=r,Qx(t,e,!1,!1),e.stateNode=t;e:{switch(a=Xd(n,r),n){case"dialog":ne("cancel",t),ne("close",t),s=r;break;case"iframe":case"object":case"embed":ne("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ji.length;s++)ne(Ji[s],t);s=r;break;case"source":ne("error",t),s=r;break;case"img":case"image":case"link":ne("error",t),ne("load",t),s=r;break;case"details":ne("toggle",t),s=r;break;case"input":Jp(t,r),s=zd(t,r),ne("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),ne("invalid",t);break;case"textarea":eg(t,r),s=qd(t,r),ne("invalid",t);break;default:s=r}Gd(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Aw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ra(t,l):typeof l=="number"&&Ra(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Aa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ne("scroll",t):l!=null&&Oh(t,i,l,a))}switch(n){case"input":Ro(t),Zp(t,r,!1);break;case"textarea":Ro(t),tg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Bs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ze(e),null;case 6:if(t&&e.stateNode!=null)Jx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Dr(Ba.current),Dr(hn.current),Fo(e)){if(r=e.stateNode,n=e.memoizedProps,r[cn]=e,(i=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:$o(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$o(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cn]=e,e.stateNode=r}return ze(e),null;case 13:if(re(le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&wt!==null&&e.mode&1&&!(e.flags&128))gx(),ii(),e.flags|=98560,i=!1;else if(i=Fo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[cn]=e}else ii(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ze(e),i=!1}else Gt!==null&&(Rf(Gt),Gt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?Ee===0&&(Ee=3):gm())),e.updateQueue!==null&&(e.flags|=4),ze(e),null);case 4:return oi(),Sf(t,e),t===null&&La(e.stateNode.containerInfo),ze(e),null;case 10:return Zh(e.type._context),ze(e),null;case 17:return ut(e.type)&&iu(),ze(e),null;case 19:if(re(le),i=e.memoizedState,i===null)return ze(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Pi(i,!1);else{if(Ee!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=fu(t),a!==null){for(e.flags|=128,Pi(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return te(le,le.current&1|2),e.child}t=t.sibling}i.tail!==null&&ge()>ui&&(e.flags|=128,r=!0,Pi(i,!1),e.lanes=4194304)}else{if(!r)if(t=fu(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ie)return ze(e),null}else 2*ge()-i.renderingStartTime>ui&&n!==1073741824&&(e.flags|=128,r=!0,Pi(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ge(),e.sibling=null,n=le.current,te(le,r?n&1|2:n&1),e):(ze(e),null);case 22:case 23:return pm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function z2(t,e){switch(Xh(e),e.tag){case 1:return ut(e.type)&&iu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oi(),re(lt),re(Ke),sm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rm(e),null;case 13:if(re(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));ii()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(le),null;case 4:return oi(),null;case 10:return Zh(e.type._context),null;case 22:case 23:return pm(),null;case 24:return null;default:return null}}var Uo=!1,We=!1,W2=typeof WeakSet=="function"?WeakSet:Set,D=null;function Is(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function bf(t,e,n){try{n()}catch(r){me(t,e,r)}}var Wg=!1;function H2(t,e){if(af=tu,t=rx(),Kh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===s&&(o=a),f===i&&++c===r&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(of={focusedElem:t,selectionRange:n},tu=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,S=w.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ut(e.type,v),S);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){me(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return w=Wg,Wg=!1,w}function va(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&bf(e,n,i)}s=s.next}while(s!==r)}}function Yu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zx(t){var e=t.alternate;e!==null&&(t.alternate=null,Zx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cn],delete e[Fa],delete e[cf],delete e[T2],delete e[P2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e1(t){return t.tag===5||t.tag===3||t.tag===4}function Hg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=su));else if(r!==4&&(t=t.child,t!==null))for(Cf(t,e,n),t=t.sibling;t!==null;)Cf(t,e,n),t=t.sibling}function Ef(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ef(t,e,n),t=t.sibling;t!==null;)Ef(t,e,n),t=t.sibling}var Ie=null,Kt=!1;function Dn(t,e,n){for(n=n.child;n!==null;)t1(t,e,n),n=n.sibling}function t1(t,e,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(zu,n)}catch{}switch(n.tag){case 5:We||Is(n,e);case 6:var r=Ie,s=Kt;Ie=null,Dn(t,e,n),Ie=r,Kt=s,Ie!==null&&(Kt?(t=Ie,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(Kt?(t=Ie,n=n.stateNode,t.nodeType===8?Hc(t.parentNode,n):t.nodeType===1&&Hc(t,n),Oa(t)):Hc(Ie,n.stateNode));break;case 4:r=Ie,s=Kt,Ie=n.stateNode.containerInfo,Kt=!0,Dn(t,e,n),Ie=r,Kt=s;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&bf(n,e,a),s=s.next}while(s!==r)}Dn(t,e,n);break;case 1:if(!We&&(Is(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){me(n,e,o)}Dn(t,e,n);break;case 21:Dn(t,e,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,Dn(t,e,n),We=r):Dn(t,e,n);break;default:Dn(t,e,n)}}function qg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new W2),e.forEach(function(r){var s=eE.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ie=o.stateNode,Kt=!1;break e;case 3:Ie=o.stateNode.containerInfo,Kt=!0;break e;case 4:Ie=o.stateNode.containerInfo,Kt=!0;break e}o=o.return}if(Ie===null)throw Error(N(160));t1(i,a,s),Ie=null,Kt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){me(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n1(e,t),e=e.sibling}function n1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(e,t),nn(t),r&4){try{va(3,t,t.return),Yu(3,t)}catch(v){me(t,t.return,v)}try{va(5,t,t.return)}catch(v){me(t,t.return,v)}}break;case 1:Ft(e,t),nn(t),r&512&&n!==null&&Is(n,n.return);break;case 5:if(Ft(e,t),nn(t),r&512&&n!==null&&Is(n,n.return),t.flags&32){var s=t.stateNode;try{Ra(s,"")}catch(v){me(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&kw(s,i),Xd(o,a);var u=Xd(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?Aw(s,d):c==="dangerouslySetInnerHTML"?Tw(s,d):c==="children"?Ra(s,d):Oh(s,c,d,u)}switch(o){case"input":Wd(s,i);break;case"textarea":Cw(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Bs(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Bs(s,!!i.multiple,i.defaultValue,!0):Bs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fa]=i}catch(v){me(t,t.return,v)}}break;case 6:if(Ft(e,t),nn(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){me(t,t.return,v)}}break;case 3:if(Ft(e,t),nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oa(e.containerInfo)}catch(v){me(t,t.return,v)}break;case 4:Ft(e,t),nn(t);break;case 13:Ft(e,t),nn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hm=ge())),r&4&&qg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(We=(u=We)||c,Ft(e,t),We=u):Ft(e,t),nn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(D=t,c=t.child;c!==null;){for(d=D=c;D!==null;){switch(f=D,h=f.child,f.tag){case 0:case 11:case 14:case 15:va(4,f,f.return);break;case 1:Is(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){me(r,n,v)}}break;case 5:Is(f,f.return);break;case 22:if(f.memoizedState!==null){Gg(d);continue}}h!==null?(h.return=f,D=h):Gg(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Pw("display",a))}catch(v){me(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){me(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ft(e,t),nn(t),r&4&&qg(t);break;case 21:break;default:Ft(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(e1(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ra(s,""),r.flags&=-33);var i=Hg(t);Ef(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Hg(t);Cf(t,o,a);break;default:throw Error(N(161))}}catch(l){me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function q2(t,e,n){D=t,r1(t)}function r1(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Uo;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||We;o=Uo;var u=We;if(Uo=a,(We=l)&&!u)for(D=s;D!==null;)a=D,l=a.child,a.tag===22&&a.memoizedState!==null?Xg(s):l!==null?(l.return=a,D=l):Xg(s);for(;i!==null;)D=i,r1(i),i=i.sibling;D=s,Uo=o,We=u}Kg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Kg(t)}}function Kg(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||Yu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!We)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ut(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Mg(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mg(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Oa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}We||e.flags&512&&kf(e)}catch(f){me(e,e.return,f)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function Gg(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Xg(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yu(4,e)}catch(l){me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){me(e,s,l)}}var i=e.return;try{kf(e)}catch(l){me(e,i,l)}break;case 5:var a=e.return;try{kf(e)}catch(l){me(e,a,l)}}}catch(l){me(e,e.return,l)}if(e===t){D=null;break}var o=e.sibling;if(o!==null){o.return=e.return,D=o;break}D=e.return}}var K2=Math.ceil,pu=On.ReactCurrentDispatcher,dm=On.ReactCurrentOwner,Ot=On.ReactCurrentBatchConfig,Z=0,Ne=null,ve=null,$e=0,vt=0,Os=wr(0),Ee=0,Ha=null,es=0,Ju=0,fm=0,wa=null,it=null,hm=0,ui=1/0,_n=null,gu=!1,Tf=null,lr=null,zo=!1,nr=null,yu=0,xa=0,Pf=null,Rl=-1,Ml=0;function tt(){return Z&6?ge():Rl!==-1?Rl:Rl=ge()}function ur(t){return t.mode&1?Z&2&&$e!==0?$e&-$e:R2.transition!==null?(Ml===0&&(Ml=Bw()),Ml):(t=ee,t!==0||(t=window.event,t=t===void 0?16:Gw(t.type)),t):1}function Yt(t,e,n,r){if(50<xa)throw xa=0,Pf=null,Error(N(185));lo(t,n,r),(!(Z&2)||t!==Ne)&&(t===Ne&&(!(Z&2)&&(Ju|=n),Ee===4&&Gn(t,$e)),ct(t,r),n===1&&Z===0&&!(e.mode&1)&&(ui=ge()+500,Gu&&xr()))}function ct(t,e){var n=t.callbackNode;RC(t,e);var r=eu(t,t===Ne?$e:0);if(r===0)n!==null&&sg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sg(n),e===1)t.tag===0?A2(Qg.bind(null,t)):hx(Qg.bind(null,t)),C2(function(){!(Z&6)&&xr()}),n=null;else{switch(Uw(r)){case 1:n=Fh;break;case 4:n=Fw;break;case 16:n=Zl;break;case 536870912:n=Vw;break;default:n=Zl}n=d1(n,s1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function s1(t,e){if(Rl=-1,Ml=0,Z&6)throw Error(N(327));var n=t.callbackNode;if(qs()&&t.callbackNode!==n)return null;var r=eu(t,t===Ne?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vu(t,r);else{e=r;var s=Z;Z|=2;var i=a1();(Ne!==t||$e!==e)&&(_n=null,ui=ge()+500,Kr(t,e));do try{Q2();break}catch(o){i1(t,o)}while(!0);Jh(),pu.current=i,Z=s,ve!==null?e=0:(Ne=null,$e=0,e=Ee)}if(e!==0){if(e===2&&(s=ef(t),s!==0&&(r=s,e=Af(t,s))),e===1)throw n=Ha,Kr(t,0),Gn(t,r),ct(t,ge()),n;if(e===6)Gn(t,r);else{if(s=t.current.alternate,!(r&30)&&!G2(s)&&(e=vu(t,r),e===2&&(i=ef(t),i!==0&&(r=i,e=Af(t,i))),e===1))throw n=Ha,Kr(t,0),Gn(t,r),ct(t,ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Ar(t,it,_n);break;case 3:if(Gn(t,r),(r&130023424)===r&&(e=hm+500-ge(),10<e)){if(eu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=uf(Ar.bind(null,t,it,_n),e);break}Ar(t,it,_n);break;case 4:if(Gn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Qt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*K2(r/1960))-r,10<r){t.timeoutHandle=uf(Ar.bind(null,t,it,_n),r);break}Ar(t,it,_n);break;case 5:Ar(t,it,_n);break;default:throw Error(N(329))}}}return ct(t,ge()),t.callbackNode===n?s1.bind(null,t):null}function Af(t,e){var n=wa;return t.current.memoizedState.isDehydrated&&(Kr(t,e).flags|=256),t=vu(t,e),t!==2&&(e=it,it=n,e!==null&&Rf(e)),t}function Rf(t){it===null?it=t:it.push.apply(it,t)}function G2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Jt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gn(t,e){for(e&=~fm,e&=~Ju,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qt(e),r=1<<n;t[n]=-1,e&=~r}}function Qg(t){if(Z&6)throw Error(N(327));qs();var e=eu(t,0);if(!(e&1))return ct(t,ge()),null;var n=vu(t,e);if(t.tag!==0&&n===2){var r=ef(t);r!==0&&(e=r,n=Af(t,r))}if(n===1)throw n=Ha,Kr(t,0),Gn(t,e),ct(t,ge()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ar(t,it,_n),ct(t,ge()),null}function mm(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(ui=ge()+500,Gu&&xr())}}function ts(t){nr!==null&&nr.tag===0&&!(Z&6)&&qs();var e=Z;Z|=1;var n=Ot.transition,r=ee;try{if(Ot.transition=null,ee=1,t)return t()}finally{ee=r,Ot.transition=n,Z=e,!(Z&6)&&xr()}}function pm(){vt=Os.current,re(Os)}function Kr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,k2(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Xh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&iu();break;case 3:oi(),re(lt),re(Ke),sm();break;case 5:rm(r);break;case 4:oi();break;case 13:re(le);break;case 19:re(le);break;case 10:Zh(r.type._context);break;case 22:case 23:pm()}n=n.return}if(Ne=t,ve=t=cr(t.current,null),$e=vt=e,Ee=0,Ha=null,fm=Ju=es=0,it=wa=null,jr!==null){for(e=0;e<jr.length;e++)if(n=jr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}jr=null}return t}function i1(t,e){do{var n=ve;try{if(Jh(),Tl.current=mu,hu){for(var r=ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}hu=!1}if(Zr=0,Re=Ce=ce=null,ya=!1,Ua=0,dm.current=null,n===null||n.return===null){Ee=1,Ha=e,ve=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=$e,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Lg(a);if(h!==null){h.flags&=-257,$g(h,a,o,i,e),h.mode&1&&Dg(i,u,e),e=h,l=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Dg(i,u,e),gm();break e}l=Error(N(426))}}else if(ie&&o.mode&1){var S=Lg(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),$g(S,a,o,i,e),Qh(li(l,o));break e}}i=l=li(l,o),Ee!==4&&(Ee=2),wa===null?wa=[i]:wa.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Ux(i,l,e);Rg(i,g);break e;case 1:o=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(lr===null||!lr.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=zx(i,o,e);Rg(i,x);break e}}i=i.return}while(i!==null)}l1(n)}catch(_){e=_,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function a1(){var t=pu.current;return pu.current=mu,t===null?mu:t}function gm(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Ne===null||!(es&268435455)&&!(Ju&268435455)||Gn(Ne,$e)}function vu(t,e){var n=Z;Z|=2;var r=a1();(Ne!==t||$e!==e)&&(_n=null,Kr(t,e));do try{X2();break}catch(s){i1(t,s)}while(!0);if(Jh(),Z=n,pu.current=r,ve!==null)throw Error(N(261));return Ne=null,$e=0,Ee}function X2(){for(;ve!==null;)o1(ve)}function Q2(){for(;ve!==null&&!_C();)o1(ve)}function o1(t){var e=c1(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?l1(t):ve=e,dm.current=null}function l1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z2(n,e),n!==null){n.flags&=32767,ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ee=6,ve=null;return}}else if(n=U2(n,e,vt),n!==null){ve=n;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);Ee===0&&(Ee=5)}function Ar(t,e,n){var r=ee,s=Ot.transition;try{Ot.transition=null,ee=1,Y2(t,e,n,r)}finally{Ot.transition=s,ee=r}return null}function Y2(t,e,n,r){do qs();while(nr!==null);if(Z&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(MC(t,i),t===Ne&&(ve=Ne=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zo||(zo=!0,d1(Zl,function(){return qs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var a=ee;ee=1;var o=Z;Z|=4,dm.current=null,H2(t,n),n1(n,t),y2(of),tu=!!af,of=af=null,t.current=n,q2(n),SC(),Z=o,ee=a,Ot.transition=i}else t.current=n;if(zo&&(zo=!1,nr=t,yu=s),i=t.pendingLanes,i===0&&(lr=null),CC(n.stateNode),ct(t,ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gu)throw gu=!1,t=Tf,Tf=null,t;return yu&1&&t.tag!==0&&qs(),i=t.pendingLanes,i&1?t===Pf?xa++:(xa=0,Pf=t):xa=0,xr(),null}function qs(){if(nr!==null){var t=Uw(yu),e=Ot.transition,n=ee;try{if(Ot.transition=null,ee=16>t?16:t,nr===null)var r=!1;else{if(t=nr,nr=null,yu=0,Z&6)throw Error(N(331));var s=Z;for(Z|=4,D=t.current;D!==null;){var i=D,a=i.child;if(D.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:va(8,c,i)}var d=c.child;if(d!==null)d.return=c,D=d;else for(;D!==null;){c=D;var f=c.sibling,h=c.return;if(Zx(c),c===u){D=null;break}if(f!==null){f.return=h,D=f;break}D=h}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}D=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,D=a;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:va(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,D=g;break e}D=i.return}}var p=t.current;for(D=p;D!==null;){a=D;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,D=y;else e:for(a=p;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Yu(9,o)}}catch(_){me(o,o.return,_)}if(o===a){D=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,D=x;break e}D=o.return}}if(Z=s,xr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(zu,t)}catch{}r=!0}return r}finally{ee=n,Ot.transition=e}}return!1}function Yg(t,e,n){e=li(n,e),e=Ux(t,e,1),t=or(t,e,1),e=tt(),t!==null&&(lo(t,1,e),ct(t,e))}function me(t,e,n){if(t.tag===3)Yg(t,t,n);else for(;e!==null;){if(e.tag===3){Yg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lr===null||!lr.has(r))){t=li(n,t),t=zx(e,t,1),e=or(e,t,1),t=tt(),e!==null&&(lo(e,1,t),ct(e,t));break}}e=e.return}}function J2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&n,Ne===t&&($e&n)===n&&(Ee===4||Ee===3&&($e&130023424)===$e&&500>ge()-hm?Kr(t,0):fm|=n),ct(t,e)}function u1(t,e){e===0&&(t.mode&1?(e=Io,Io<<=1,!(Io&130023424)&&(Io=4194304)):e=1);var n=tt();t=Rn(t,e),t!==null&&(lo(t,e,n),ct(t,n))}function Z2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),u1(t,n)}function eE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),u1(t,n)}var c1;c1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lt.current)at=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return at=!1,B2(t,e,n);at=!!(t.flags&131072)}else at=!1,ie&&e.flags&1048576&&mx(e,lu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Al(t,e),t=e.pendingProps;var s=si(e,Ke.current);Hs(e,n),s=am(null,e,r,t,s,n);var i=om();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(r)?(i=!0,au(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tm(e),s.updater=Qu,e.stateNode=s,s._reactInternals=e,gf(e,r,t,n),e=wf(null,e,r,!0,i,n)):(e.tag=0,ie&&i&&Gh(e),Je(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Al(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=nE(r),t=Ut(r,t),s){case 0:e=vf(null,e,r,t,n);break e;case 1:e=Bg(null,e,r,t,n);break e;case 11:e=Fg(null,e,r,t,n);break e;case 14:e=Vg(null,e,r,Ut(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ut(r,s),vf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ut(r,s),Bg(t,e,r,s,n);case 3:e:{if(Kx(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,xx(t,e),du(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=li(Error(N(423)),e),e=Ug(t,e,r,n,s);break e}else if(r!==s){s=li(Error(N(424)),e),e=Ug(t,e,r,n,s);break e}else for(wt=ar(e.stateNode.containerInfo.firstChild),xt=e,ie=!0,Gt=null,n=vx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ii(),r===s){e=Mn(t,e,n);break e}Je(t,e,r,n)}e=e.child}return e;case 5:return _x(e),t===null&&hf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,lf(r,s)?a=null:i!==null&&lf(r,i)&&(e.flags|=32),qx(t,e),Je(t,e,a,n),e.child;case 6:return t===null&&hf(e),null;case 13:return Gx(t,e,n);case 4:return nm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ai(e,null,r,n):Je(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ut(r,s),Fg(t,e,r,s,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,te(uu,r._currentValue),r._currentValue=a,i!==null)if(Jt(i.value,a)){if(i.children===s.children&&!lt.current){e=Mn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Tn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),mf(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),mf(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Je(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Hs(e,n),s=Dt(s),r=r(s),e.flags|=1,Je(t,e,r,n),e.child;case 14:return r=e.type,s=Ut(r,e.pendingProps),s=Ut(r.type,s),Vg(t,e,r,s,n);case 15:return Wx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ut(r,s),Al(t,e),e.tag=1,ut(r)?(t=!0,au(e)):t=!1,Hs(e,n),Bx(e,r,s),gf(e,r,s,n),wf(null,e,r,!0,t,n);case 19:return Xx(t,e,n);case 22:return Hx(t,e,n)}throw Error(N(156,e.tag))};function d1(t,e){return $w(t,e)}function tE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,r){return new tE(t,e,n,r)}function ym(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nE(t){if(typeof t=="function")return ym(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dh)return 11;if(t===Lh)return 14}return 2}function cr(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nl(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")ym(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ks:return Gr(n.children,s,i,e);case jh:a=8,s|=8;break;case Fd:return t=Mt(12,n,e,s|2),t.elementType=Fd,t.lanes=i,t;case Vd:return t=Mt(13,n,e,s),t.elementType=Vd,t.lanes=i,t;case Bd:return t=Mt(19,n,e,s),t.elementType=Bd,t.lanes=i,t;case _w:return Zu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ww:a=10;break e;case xw:a=9;break e;case Dh:a=11;break e;case Lh:a=14;break e;case Wn:a=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Mt(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Gr(t,e,n,r){return t=Mt(7,t,r,e),t.lanes=n,t}function Zu(t,e,n,r){return t=Mt(22,t,r,e),t.elementType=_w,t.lanes=n,t.stateNode={isHidden:!1},t}function Zc(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function ed(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rE(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oc(0),this.expirationTimes=Oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vm(t,e,n,r,s,i,a,o,l){return t=new rE(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Mt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tm(i),t}function sE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function f1(t){if(!t)return hr;t=t._reactInternals;e:{if(os(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(ut(n))return fx(t,n,e)}return e}function h1(t,e,n,r,s,i,a,o,l){return t=vm(n,r,!0,t,s,i,a,o,l),t.context=f1(null),n=t.current,r=tt(),s=ur(n),i=Tn(r,s),i.callback=e??null,or(n,i,s),t.current.lanes=s,lo(t,s,r),ct(t,r),t}function ec(t,e,n,r){var s=e.current,i=tt(),a=ur(s);return n=f1(n),e.context===null?e.context=n:e.pendingContext=n,e=Tn(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=or(s,e,a),t!==null&&(Yt(t,s,a,i),El(t,s,a)),a}function wu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wm(t,e){Jg(t,e),(t=t.alternate)&&Jg(t,e)}function iE(){return null}var m1=typeof reportError=="function"?reportError:function(t){console.error(t)};function xm(t){this._internalRoot=t}tc.prototype.render=xm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));ec(t,e,null,null)};tc.prototype.unmount=xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ts(function(){ec(null,t,null,null)}),e[An]=null}};function tc(t){this._internalRoot=t}tc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kn.length&&e!==0&&e<Kn[n].priority;n++);Kn.splice(n,0,t),n===0&&Kw(t)}};function _m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zg(){}function aE(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=wu(a);i.call(u)}}var a=h1(e,r,t,0,null,!1,!1,"",Zg);return t._reactRootContainer=a,t[An]=a.current,La(t.nodeType===8?t.parentNode:t),ts(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=wu(l);o.call(u)}}var l=vm(t,0,!1,null,null,!1,!1,"",Zg);return t._reactRootContainer=l,t[An]=l.current,La(t.nodeType===8?t.parentNode:t),ts(function(){ec(e,l,n,r)}),l}function rc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=wu(a);o.call(l)}}ec(e,a,t,s)}else a=aE(n,e,t,s,r);return wu(a)}zw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yi(e.pendingLanes);n!==0&&(Vh(e,n|1),ct(e,ge()),!(Z&6)&&(ui=ge()+500,xr()))}break;case 13:ts(function(){var r=Rn(t,1);if(r!==null){var s=tt();Yt(r,t,1,s)}}),wm(t,1)}};Bh=function(t){if(t.tag===13){var e=Rn(t,134217728);if(e!==null){var n=tt();Yt(e,t,134217728,n)}wm(t,134217728)}};Ww=function(t){if(t.tag===13){var e=ur(t),n=Rn(t,e);if(n!==null){var r=tt();Yt(n,t,e,r)}wm(t,e)}};Hw=function(){return ee};qw=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};Yd=function(t,e,n){switch(e){case"input":if(Wd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ku(r);if(!s)throw Error(N(90));bw(r),Wd(r,s)}}}break;case"textarea":Cw(t,n);break;case"select":e=n.value,e!=null&&Bs(t,!!n.multiple,e,!1)}};Nw=mm;Iw=ts;var oE={usingClientEntryPoint:!1,Events:[co,Ps,Ku,Rw,Mw,mm]},Ai={findFiberByHostInstance:Or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lE={bundleType:Ai.bundleType,version:Ai.version,rendererPackageName:Ai.rendererPackageName,rendererConfig:Ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ai.findFiberByHostInstance||iE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{zu=Wo.inject(lE),fn=Wo}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oE;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_m(e))throw Error(N(200));return sE(t,e,null,n)};St.createRoot=function(t,e){if(!_m(t))throw Error(N(299));var n=!1,r="",s=m1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=vm(t,1,!1,null,null,n,!1,r,s),t[An]=e.current,La(t.nodeType===8?t.parentNode:t),new xm(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Dw(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return ts(t)};St.hydrate=function(t,e,n){if(!nc(e))throw Error(N(200));return rc(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!_m(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=m1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=h1(e,null,t,1,n??null,s,!1,i,a),t[An]=e.current,La(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new tc(e)};St.render=function(t,e,n){if(!nc(e))throw Error(N(200));return rc(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!nc(t))throw Error(N(40));return t._reactRootContainer?(ts(function(){rc(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1};St.unstable_batchedUpdates=mm;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nc(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return rc(t,e,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function p1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p1)}catch(t){console.error(t)}}p1(),pw.exports=St;var uE=pw.exports,ey=uE;Ld.createRoot=ey.createRoot,Ld.hydrateRoot=ey.hydrateRoot;const cE="modulepreload",dE=function(t){return"/"+t},ty={},$t=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=dE(l),l in ty)return;ty[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":cE,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};var sc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fE={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Xn,Th,Xv,hE=(Xv=class{constructor(){Y(this,Xn,fE);Y(this,Th,!1)}setTimeoutProvider(t){W(this,Xn,t)}setTimeout(t,e){return P(this,Xn).setTimeout(t,e)}clearTimeout(t){P(this,Xn).clearTimeout(t)}setInterval(t,e){return P(this,Xn).setInterval(t,e)}clearInterval(t){P(this,Xn).clearInterval(t)}},Xn=new WeakMap,Th=new WeakMap,Xv),Mf=new hE;function mE(t){setTimeout(t,0)}var ic=typeof window>"u"||"Deno"in globalThis;function zt(){}function pE(t,e){return typeof t=="function"?t(e):t}function gE(t){return typeof t=="number"&&t>=0&&t!==1/0}function yE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Nf(t,e){return typeof t=="function"?t(e):t}function vE(t,e){return typeof t=="function"?t(e):t}function ny(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==Sm(a,e.options))return!1}else if(!Ka(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function ry(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(qa(e.options.mutationKey)!==qa(i))return!1}else if(!Ka(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Sm(t,e){return((e==null?void 0:e.queryKeyHashFn)||qa)(t)}function qa(t){return JSON.stringify(t,(e,n)=>If(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ka(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ka(t[n],e[n])):!1}var wE=Object.prototype.hasOwnProperty;function g1(t,e){if(t===e)return t;const n=sy(t)&&sy(e);if(!n&&!(If(t)&&If(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,o=n?new Array(a):{};let l=0;for(let u=0;u<a;u++){const c=n?u:i[u],d=t[c],f=e[c];if(d===f){o[c]=d,(n?u<s:wE.call(t,c))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){o[c]=f;continue}const h=g1(d,f);o[c]=h,h===d&&l++}return s===a&&l===s?t:o}function tD(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function sy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function If(t){if(!iy(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!iy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function iy(t){return Object.prototype.toString.call(t)==="[object Object]"}function xE(t){return new Promise(e=>{Mf.setTimeout(e,t)})}function _E(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?g1(t,e):e}function SE(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function bE(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var bm=Symbol();function y1(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===bm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function nD(t,e){return typeof t=="function"?t(...e):!!t}function kE(t,e,n){let r=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),t}var Br,Qn,Xs,Qv,CE=(Qv=class extends sc{constructor(){super();Y(this,Br);Y(this,Qn);Y(this,Xs);W(this,Xs,e=>{if(!ic&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,Qn)||this.setEventListener(P(this,Xs))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Qn))==null||e.call(this),W(this,Qn,void 0))}setEventListener(e){var n;W(this,Xs,e),(n=P(this,Qn))==null||n.call(this),W(this,Qn,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){P(this,Br)!==e&&(W(this,Br,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof P(this,Br)=="boolean"?P(this,Br):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Br=new WeakMap,Qn=new WeakMap,Xs=new WeakMap,Qv),v1=new CE;function EE(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var TE=mE;function PE(){let t=[],e=0,n=o=>{o()},r=o=>{o()},s=TE;const i=o=>{e?t.push(o):s(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Ze=PE(),Qs,Yn,Ys,Yv,AE=(Yv=class extends sc{constructor(){super();Y(this,Qs,!0);Y(this,Yn);Y(this,Ys);W(this,Ys,e=>{if(!ic&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,Yn)||this.setEventListener(P(this,Ys))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Yn))==null||e.call(this),W(this,Yn,void 0))}setEventListener(e){var n;W(this,Ys,e),(n=P(this,Yn))==null||n.call(this),W(this,Yn,e(this.setOnline.bind(this)))}setOnline(e){P(this,Qs)!==e&&(W(this,Qs,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return P(this,Qs)}},Qs=new WeakMap,Yn=new WeakMap,Ys=new WeakMap,Yv),xu=new AE;function RE(t){return Math.min(1e3*2**t,3e4)}function w1(t){return(t??"online")==="online"?xu.isOnline():!0}var Of=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function x1(t){let e=!1,n=0,r;const s=EE(),i=()=>s.status!=="pending",a=v=>{var S;if(!i()){const g=new Of(v);f(g),(S=t.onCancel)==null||S.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>v1.isFocused()&&(t.networkMode==="always"||xu.isOnline())&&t.canRun(),c=()=>w1(t.networkMode)&&t.canRun(),d=v=>{i()||(r==null||r(),s.resolve(v))},f=v=>{i()||(r==null||r(),s.reject(v))},h=()=>new Promise(v=>{var S;r=g=>{(i()||u())&&v(g)},(S=t.onPause)==null||S.call(t)}).then(()=>{var v;r=void 0,i()||(v=t.onContinue)==null||v.call(t)}),w=()=>{if(i())return;let v;const S=n===0?t.initialPromise:void 0;try{v=S??t.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(d).catch(g=>{var b;if(i())return;const p=t.retry??(ic?0:3),y=t.retryDelay??RE,x=typeof y=="function"?y(n,g):y,_=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,g);if(e||!_){f(g);return}n++,(b=t.onFail)==null||b.call(t,n,g),xE(x).then(()=>u()?void 0:h()).then(()=>{e?f(g):w()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?w():h().then(w),s)}}var Ur,Jv,_1=(Jv=class{constructor(){Y(this,Ur)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gE(this.gcTime)&&W(this,Ur,Mf.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ic?1/0:5*60*1e3))}clearGcTimeout(){P(this,Ur)&&(Mf.clearTimeout(P(this,Ur)),W(this,Ur,void 0))}},Ur=new WeakMap,Jv),zr,Js,Pt,Wr,Ae,so,Hr,Ht,wn,Zv,ME=(Zv=class extends _1{constructor(e){super();Y(this,Ht);Y(this,zr);Y(this,Js);Y(this,Pt);Y(this,Wr);Y(this,Ae);Y(this,so);Y(this,Hr);W(this,Hr,!1),W(this,so,e.defaultOptions),this.setOptions(e.options),this.observers=[],W(this,Wr,e.client),W(this,Pt,P(this,Wr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,W(this,zr,oy(this.options)),this.state=e.state??P(this,zr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=P(this,Ae))==null?void 0:e.promise}setOptions(e){if(this.options={...P(this,so),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=oy(this.options);n.data!==void 0&&(this.setState(ay(n.data,n.dataUpdatedAt)),W(this,zr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Pt).remove(this)}setData(e,n){const r=_E(this.state.data,e,this.options);return Be(this,Ht,wn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Be(this,Ht,wn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=P(this,Ae))==null?void 0:r.promise;return(s=P(this,Ae))==null||s.cancel(e),n?n.then(zt).catch(zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,zr))}isActive(){return this.observers.some(e=>vE(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Nf(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!yE(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,Ae))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,Ae))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),P(this,Pt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(P(this,Ae)&&(P(this,Hr)?P(this,Ae).cancel({revert:!0}):P(this,Ae).cancelRetry()),this.scheduleGc()),P(this,Pt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,Ht,wn).call(this,{type:"invalidate"})}async fetch(e,n){var l,u,c,d,f,h,w,v,S,g,p,y;if(this.state.fetchStatus!=="idle"&&((l=P(this,Ae))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(P(this,Ae))return P(this,Ae).continueRetry(),P(this,Ae).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(_=>_.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(W(this,Hr,!0),r.signal)})},i=()=>{const x=y1(this.options,n),b=(()=>{const C={client:P(this,Wr),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return W(this,Hr,!1),this.options.persister?this.options.persister(x,b,this):x(b)},o=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:P(this,Wr),state:this.state,fetchFn:i};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(o,this),W(this,Js,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Be(this,Ht,wn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta}),W(this,Ae,x1({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:x=>{x instanceof Of&&x.revert&&this.setState({...P(this,Js),fetchStatus:"idle"}),r.abort()},onFail:(x,_)=>{Be(this,Ht,wn).call(this,{type:"failed",failureCount:x,error:_})},onPause:()=>{Be(this,Ht,wn).call(this,{type:"pause"})},onContinue:()=>{Be(this,Ht,wn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const x=await P(this,Ae).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(h=(f=P(this,Pt).config).onSuccess)==null||h.call(f,x,this),(v=(w=P(this,Pt).config).onSettled)==null||v.call(w,x,this.state.error,this),x}catch(x){if(x instanceof Of){if(x.silent)return P(this,Ae).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw Be(this,Ht,wn).call(this,{type:"error",error:x}),(g=(S=P(this,Pt).config).onError)==null||g.call(S,x,this),(y=(p=P(this,Pt).config).onSettled)==null||y.call(p,this.state.data,x,this),x}finally{this.scheduleGc()}}},zr=new WeakMap,Js=new WeakMap,Pt=new WeakMap,Wr=new WeakMap,Ae=new WeakMap,so=new WeakMap,Hr=new WeakMap,Ht=new WeakSet,wn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...NE(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...ay(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return W(this,Js,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ze.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,Pt).notify({query:this,type:"updated",action:e})})},Zv);function NE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:w1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ay(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function oy(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function ly(t){return{onFetch:(e,n)=>{var c,d,f,h,w;const r=e.options,s=(f=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const S=y=>{kE(y,()=>e.signal,()=>v=!0)},g=y1(e.options,e.fetchOptions),p=async(y,x,_)=>{if(v)return Promise.reject();if(x==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:x,direction:_?"backward":"forward",meta:e.options.meta};return S(j),j})(),T=await g(C),{maxPages:I}=e.options,R=_?bE:SE;return{pages:R(y.pages,T,I),pageParams:R(y.pageParams,x,I)}};if(s&&i.length){const y=s==="backward",x=y?IE:uy,_={pages:i,pageParams:a},b=x(r,_);o=await p(_,b,y)}else{const y=t??i.length;do{const x=l===0?a[0]??r.initialPageParam:uy(r,o);if(l>0&&x==null)break;o=await p(o,x),l++}while(l<y)}return o};e.options.persister?e.fetchFn=()=>{var v,S;return(S=(v=e.options).persister)==null?void 0:S.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function uy(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function IE(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var io,on,Qe,qr,ln,Un,ew,OE=(ew=class extends _1{constructor(e){super();Y(this,ln);Y(this,io);Y(this,on);Y(this,Qe);Y(this,qr);W(this,io,e.client),this.mutationId=e.mutationId,W(this,Qe,e.mutationCache),W(this,on,[]),this.state=e.state||jE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){P(this,on).includes(e)||(P(this,on).push(e),this.clearGcTimeout(),P(this,Qe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){W(this,on,P(this,on).filter(n=>n!==e)),this.scheduleGc(),P(this,Qe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){P(this,on).length||(this.state.status==="pending"?this.scheduleGc():P(this,Qe).remove(this))}continue(){var e;return((e=P(this,qr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,c,d,f,h,w,v,S,g,p,y,x,_,b,C,T,I;const n=()=>{Be(this,ln,Un).call(this,{type:"continue"})},r={client:P(this,io),meta:this.options.meta,mutationKey:this.options.mutationKey};W(this,qr,x1({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,j)=>{Be(this,ln,Un).call(this,{type:"failed",failureCount:R,error:j})},onPause:()=>{Be(this,ln,Un).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,Qe).canRun(this)}));const s=this.state.status==="pending",i=!P(this,qr).canStart();try{if(s)n();else{Be(this,ln,Un).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=P(this,Qe).config).onMutate)==null?void 0:o.call(a,e,this,r));const j=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,r));j!==this.state.context&&Be(this,ln,Un).call(this,{type:"pending",context:j,variables:e,isPaused:i})}const R=await P(this,qr).start();return await((d=(c=P(this,Qe).config).onSuccess)==null?void 0:d.call(c,R,e,this.state.context,this,r)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,R,e,this.state.context,r)),await((v=(w=P(this,Qe).config).onSettled)==null?void 0:v.call(w,R,null,this.state.variables,this.state.context,this,r)),await((g=(S=this.options).onSettled)==null?void 0:g.call(S,R,null,e,this.state.context,r)),Be(this,ln,Un).call(this,{type:"success",data:R}),R}catch(R){try{await((y=(p=P(this,Qe).config).onError)==null?void 0:y.call(p,R,e,this.state.context,this,r))}catch(j){Promise.reject(j)}try{await((_=(x=this.options).onError)==null?void 0:_.call(x,R,e,this.state.context,r))}catch(j){Promise.reject(j)}try{await((C=(b=P(this,Qe).config).onSettled)==null?void 0:C.call(b,void 0,R,this.state.variables,this.state.context,this,r))}catch(j){Promise.reject(j)}try{await((I=(T=this.options).onSettled)==null?void 0:I.call(T,void 0,R,e,this.state.context,r))}catch(j){Promise.reject(j)}throw Be(this,ln,Un).call(this,{type:"error",error:R}),R}finally{P(this,Qe).runNext(this)}}},io=new WeakMap,on=new WeakMap,Qe=new WeakMap,qr=new WeakMap,ln=new WeakSet,Un=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ze.batch(()=>{P(this,on).forEach(r=>{r.onMutationUpdate(e)}),P(this,Qe).notify({mutation:this,type:"updated",action:e})})},ew);function jE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bn,qt,ao,tw,DE=(tw=class extends sc{constructor(e={}){super();Y(this,bn);Y(this,qt);Y(this,ao);this.config=e,W(this,bn,new Set),W(this,qt,new Map),W(this,ao,0)}build(e,n,r){const s=new OE({client:e,mutationCache:this,mutationId:++To(this,ao)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){P(this,bn).add(e);const n=Ho(e);if(typeof n=="string"){const r=P(this,qt).get(n);r?r.push(e):P(this,qt).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(P(this,bn).delete(e)){const n=Ho(e);if(typeof n=="string"){const r=P(this,qt).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&P(this,qt).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ho(e);if(typeof n=="string"){const r=P(this,qt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ho(e);if(typeof n=="string"){const s=(r=P(this,qt).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ze.batch(()=>{P(this,bn).forEach(e=>{this.notify({type:"removed",mutation:e})}),P(this,bn).clear(),P(this,qt).clear()})}getAll(){return Array.from(P(this,bn))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ry(n,r))}findAll(e={}){return this.getAll().filter(n=>ry(e,n))}notify(e){Ze.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ze.batch(()=>Promise.all(e.map(n=>n.continue().catch(zt))))}},bn=new WeakMap,qt=new WeakMap,ao=new WeakMap,tw);function Ho(t){var e;return(e=t.options.scope)==null?void 0:e.id}var un,nw,LE=(nw=class extends sc{constructor(e={}){super();Y(this,un);this.config=e,W(this,un,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Sm(s,n);let a=this.get(i);return a||(a=new ME({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){P(this,un).has(e.queryHash)||(P(this,un).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=P(this,un).get(e.queryHash);n&&(e.destroy(),n===e&&P(this,un).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ze.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,un).get(e)}getAll(){return[...P(this,un).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ny(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ny(e,r)):n}notify(e){Ze.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ze.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ze.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},un=new WeakMap,nw),fe,Jn,Zn,Zs,ei,er,ti,ni,rw,$E=(rw=class{constructor(t={}){Y(this,fe);Y(this,Jn);Y(this,Zn);Y(this,Zs);Y(this,ei);Y(this,er);Y(this,ti);Y(this,ni);W(this,fe,t.queryCache||new LE),W(this,Jn,t.mutationCache||new DE),W(this,Zn,t.defaultOptions||{}),W(this,Zs,new Map),W(this,ei,new Map),W(this,er,0)}mount(){To(this,er)._++,P(this,er)===1&&(W(this,ti,v1.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,fe).onFocus())})),W(this,ni,xu.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,fe).onOnline())})))}unmount(){var t,e;To(this,er)._--,P(this,er)===0&&((t=P(this,ti))==null||t.call(this),W(this,ti,void 0),(e=P(this,ni))==null||e.call(this),W(this,ni,void 0))}isFetching(t){return P(this,fe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return P(this,Jn).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,fe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=P(this,fe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Nf(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return P(this,fe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=P(this,fe).get(r.queryHash),i=s==null?void 0:s.state.data,a=pE(e,i);if(a!==void 0)return P(this,fe).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Ze.batch(()=>P(this,fe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,fe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=P(this,fe);Ze.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=P(this,fe);return Ze.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ze.batch(()=>P(this,fe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(zt).catch(zt)}invalidateQueries(t,e={}){return Ze.batch(()=>(P(this,fe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ze.batch(()=>P(this,fe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(zt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(zt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=P(this,fe).build(this,e);return n.isStaleByTime(Nf(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zt).catch(zt)}fetchInfiniteQuery(t){return t.behavior=ly(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zt).catch(zt)}ensureInfiniteQueryData(t){return t.behavior=ly(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return xu.isOnline()?P(this,Jn).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,fe)}getMutationCache(){return P(this,Jn)}getDefaultOptions(){return P(this,Zn)}setDefaultOptions(t){W(this,Zn,t)}setQueryDefaults(t,e){P(this,Zs).set(qa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...P(this,Zs).values()],n={};return e.forEach(r=>{Ka(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){P(this,ei).set(qa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...P(this,ei).values()],n={};return e.forEach(r=>{Ka(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...P(this,Zn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===bm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...P(this,Zn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){P(this,fe).clear(),P(this,Jn).clear()}},fe=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,Zs=new WeakMap,ei=new WeakMap,er=new WeakMap,ti=new WeakMap,ni=new WeakMap,rw),S1=A.createContext(void 0),rD=t=>{const e=A.useContext(S1);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},FE=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(S1.Provider,{value:t,children:e}));const km=A.createContext({});function Cm(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Em=typeof window<"u",b1=Em?A.useLayoutEffect:A.useEffect,ac=A.createContext(null);function Tm(t,e){t.indexOf(e)===-1&&t.push(e)}function Pm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function sD([...t],e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const s=n<0?t.length+n:n,[i]=t.splice(e,1);t.splice(s,0,i)}return t}const Nn=(t,e,n)=>n>e?e:n<t?t:n;let Am=()=>{};const In={},k1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function C1(t){return typeof t=="object"&&t!==null}const E1=t=>/^0[^.\s]+$/u.test(t);function Rm(t){let e;return()=>(e===void 0&&(e=t()),e)}const jt=t=>t,VE=(t,e)=>n=>e(t(n)),ho=(...t)=>t.reduce(VE),Ga=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Mm{constructor(){this.subscriptions=[]}add(e){return Tm(this.subscriptions,e),()=>Pm(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mn=t=>t*1e3,Nt=t=>t/1e3;function T1(t,e){return e?t*(1e3/e):0}const P1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,BE=1e-7,UE=12;function zE(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=P1(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>BE&&++o<UE);return a}function mo(t,e,n,r){if(t===e&&n===r)return jt;const s=i=>zE(i,0,1,t,n);return i=>i===0||i===1?i:P1(s(i),e,r)}const A1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,R1=t=>e=>1-t(1-e),M1=mo(.33,1.53,.69,.99),Nm=R1(M1),N1=A1(Nm),I1=t=>(t*=2)<1?.5*Nm(t):.5*(2-Math.pow(2,-10*(t-1))),Im=t=>1-Math.sin(Math.acos(t)),O1=R1(Im),j1=A1(Im),WE=mo(.42,0,1,1),HE=mo(0,0,.58,1),D1=mo(.42,0,.58,1),qE=t=>Array.isArray(t)&&typeof t[0]!="number",L1=t=>Array.isArray(t)&&typeof t[0]=="number",KE={linear:jt,easeIn:WE,easeInOut:D1,easeOut:HE,circIn:Im,circInOut:j1,circOut:O1,backIn:Nm,backInOut:N1,backOut:M1,anticipate:I1},GE=t=>typeof t=="string",cy=t=>{if(L1(t)){Am(t.length===4);const[e,n,r,s]=t;return mo(e,n,r,s)}else if(GE(t))return KE[t];return t},qo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function XE(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){a.has(c)&&(u.schedule(c),t()),c(o)}const u={schedule:(c,d=!1,f=!1)=>{const w=f&&s?n:r;return d&&a.add(c),w.has(c)||w.add(c),c},cancel:c=>{r.delete(c),a.delete(c)},process:c=>{if(o=c,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,u.process(c))}};return u}const QE=40;function $1(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=qo.reduce((y,x)=>(y[x]=XE(i),y),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:f,render:h,postRender:w}=a,v=()=>{const y=In.useManualTiming?s.timestamp:performance.now();n=!1,In.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,QE),1)),s.timestamp=y,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),c.process(s),d.process(s),f.process(s),h.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},S=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:qo.reduce((y,x)=>{const _=a[x];return y[x]=(b,C=!1,T=!1)=>(n||S(),_.schedule(b,C,T)),y},{}),cancel:y=>{for(let x=0;x<qo.length;x++)a[qo[x]].cancel(y)},state:s,steps:a}}const{schedule:ae,cancel:mr,state:Oe,steps:td}=$1(typeof requestAnimationFrame<"u"?requestAnimationFrame:jt,!0);let Il;function YE(){Il=void 0}const ot={now:()=>(Il===void 0&&ot.set(Oe.isProcessing||In.useManualTiming?Oe.timestamp:performance.now()),Il),set:t=>{Il=t,queueMicrotask(YE)}},F1=t=>e=>typeof e=="string"&&e.startsWith(t),V1=F1("--"),JE=F1("var(--"),Om=t=>JE(t)?ZE.test(t.split("/*")[0].trim()):!1,ZE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xa={...gi,transform:t=>Nn(0,1,t)},Ko={...gi,default:1},_a=t=>Math.round(t*1e5)/1e5,jm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eT(t){return t==null}const tT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dm=(t,e)=>n=>!!(typeof n=="string"&&tT.test(n)&&n.startsWith(t)||e&&!eT(n)&&Object.prototype.hasOwnProperty.call(n,e)),B1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(jm);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},nT=t=>Nn(0,255,t),nd={...gi,transform:t=>Math.round(nT(t))},Lr={test:Dm("rgb","red"),parse:B1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+nd.transform(t)+", "+nd.transform(e)+", "+nd.transform(n)+", "+_a(Xa.transform(r))+")"};function rT(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const jf={test:Dm("#"),parse:rT,transform:Lr.transform},po=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zn=po("deg"),pn=po("%"),U=po("px"),sT=po("vh"),iT=po("vw"),dy={...pn,parse:t=>pn.parse(t)/100,transform:t=>pn.transform(t*100)},js={test:Dm("hsl","hue"),parse:B1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+pn.transform(_a(e))+", "+pn.transform(_a(n))+", "+_a(Xa.transform(r))+")"},ye={test:t=>Lr.test(t)||jf.test(t)||js.test(t),parse:t=>Lr.test(t)?Lr.parse(t):js.test(t)?js.parse(t):jf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Lr.transform(t):js.transform(t),getAnimatableNone:t=>{const e=ye.parse(t);return e.alpha=0,ye.transform(e)}},aT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oT(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(jm))==null?void 0:e.length)||0)+(((n=t.match(aT))==null?void 0:n.length)||0)>0}const U1="number",z1="color",lT="var",uT="var(",fy="${}",cT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qa(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(cT,l=>(ye.test(l)?(r.color.push(i),s.push(z1),n.push(ye.parse(l))):l.startsWith(uT)?(r.var.push(i),s.push(lT),n.push(l)):(r.number.push(i),s.push(U1),n.push(parseFloat(l))),++i,fy)).split(fy);return{values:n,split:o,indexes:r,types:s}}function W1(t){return Qa(t).values}function H1(t){const{split:e,types:n}=Qa(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const o=n[a];o===U1?i+=_a(s[a]):o===z1?i+=ye.transform(s[a]):i+=s[a]}return i}}const dT=t=>typeof t=="number"?0:ye.test(t)?ye.getAnimatableNone(t):t;function fT(t){const e=W1(t);return H1(t)(e.map(dT))}const pr={test:oT,parse:W1,createTransformer:H1,getAnimatableNone:fT};function rd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hT({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=rd(l,o,t+1/3),i=rd(l,o,t),a=rd(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function _u(t,e){return n=>n>0?e:t}const ue=(t,e,n)=>t+(e-t)*n,sd=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},mT=[jf,Lr,js],pT=t=>mT.find(e=>e.test(t));function hy(t){const e=pT(t);if(!e)return!1;let n=e.parse(t);return e===js&&(n=hT(n)),n}const my=(t,e)=>{const n=hy(t),r=hy(e);if(!n||!r)return _u(t,e);const s={...n};return i=>(s.red=sd(n.red,r.red,i),s.green=sd(n.green,r.green,i),s.blue=sd(n.blue,r.blue,i),s.alpha=ue(n.alpha,r.alpha,i),Lr.transform(s))},Df=new Set(["none","hidden"]);function gT(t,e){return Df.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function yT(t,e){return n=>ue(t,e,n)}function Lm(t){return typeof t=="number"?yT:typeof t=="string"?Om(t)?_u:ye.test(t)?my:xT:Array.isArray(t)?q1:typeof t=="object"?ye.test(t)?my:vT:_u}function q1(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>Lm(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function vT(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Lm(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function wT(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],o=t.values[a]??0;n[s]=o,r[i]++}return n}const xT=(t,e)=>{const n=pr.createTransformer(e),r=Qa(t),s=Qa(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Df.has(t)&&!s.values.length||Df.has(e)&&!r.values.length?gT(t,e):ho(q1(wT(r,s),s.values),n):_u(t,e)};function K1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ue(t,e,n):Lm(t)(t,e)}const _T=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ae.update(e,n),stop:()=>mr(e),now:()=>Oe.isProcessing?Oe.timestamp:ot.now()}},G1=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Su=2e4;function $m(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Su;)e+=n,r=t.next(e);return e>=Su?1/0:e}function ST(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min($m(r),Su);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Nt(s)}}const bT=5;function X1(t,e,n){const r=Math.max(e-bT,0);return T1(n-t(r),e-r)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},id=.001;function kT({duration:t=he.duration,bounce:e=he.bounce,velocity:n=he.velocity,mass:r=he.mass}){let s,i,a=1-e;a=Nn(he.minDamping,he.maxDamping,a),t=Nn(he.minDuration,he.maxDuration,Nt(t)),a<1?(s=u=>{const c=u*a,d=c*t,f=c-n,h=Lf(u,a),w=Math.exp(-d);return id-f/h*w},i=u=>{const d=u*a*t,f=d*n+n,h=Math.pow(a,2)*Math.pow(u,2)*t,w=Math.exp(-d),v=Lf(Math.pow(u,2),a);return(-s(u)+id>0?-1:1)*((f-h)*w)/v}):(s=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-id+c*d},i=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const o=5/t,l=ET(s,i,o);if(t=mn(t),isNaN(l))return{stiffness:he.stiffness,damping:he.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const CT=12;function ET(t,e,n){let r=n;for(let s=1;s<CT;s++)r=r-t(r)/e(r);return r}function Lf(t,e){return t*Math.sqrt(1-e*e)}const TT=["duration","bounce"],PT=["stiffness","damping","mass"];function py(t,e){return e.some(n=>t[n]!==void 0)}function AT(t){let e={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...t};if(!py(t,PT)&&py(t,TT))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Nn(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:he.mass,stiffness:s,damping:i}}else{const n=kT(t);e={...e,...n,mass:he.mass},e.isResolvedFromDuration=!0}return e}function bu(t=he.visualDuration,e=he.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=AT({...n,velocity:-Nt(n.velocity||0)}),w=f||0,v=u/(2*Math.sqrt(l*c)),S=a-i,g=Nt(Math.sqrt(l/c)),p=Math.abs(S)<5;r||(r=p?he.restSpeed.granular:he.restSpeed.default),s||(s=p?he.restDelta.granular:he.restDelta.default);let y;if(v<1){const _=Lf(g,v);y=b=>{const C=Math.exp(-v*g*b);return a-C*((w+v*g*S)/_*Math.sin(_*b)+S*Math.cos(_*b))}}else if(v===1)y=_=>a-Math.exp(-g*_)*(S+(w+g*S)*_);else{const _=g*Math.sqrt(v*v-1);y=b=>{const C=Math.exp(-v*g*b),T=Math.min(_*b,300);return a-C*((w+v*g*S)*Math.sinh(T)+_*S*Math.cosh(T))/_}}const x={calculatedDuration:h&&d||null,next:_=>{const b=y(_);if(h)o.done=_>=d;else{let C=_===0?w:0;v<1&&(C=_===0?mn(w):X1(y,_,b));const T=Math.abs(C)<=r,I=Math.abs(a-b)<=s;o.done=T&&I}return o.value=o.done?a:b,o},toString:()=>{const _=Math.min($m(x),Su),b=G1(C=>x.next(_*C).value,_,30);return _+"ms "+b},toTransition:()=>{}};return x}bu.applyToOptions=t=>{const e=ST(t,100,bu);return t.ease=e.ease,t.duration=mn(e.duration),t.type="keyframes",t};function $f({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},h=T=>o!==void 0&&T<o||l!==void 0&&T>l,w=T=>o===void 0?l:l===void 0||Math.abs(o-T)<Math.abs(l-T)?o:l;let v=n*e;const S=d+v,g=a===void 0?S:a(S);g!==S&&(v=g-d);const p=T=>-v*Math.exp(-T/r),y=T=>g+p(T),x=T=>{const I=p(T),R=y(T);f.done=Math.abs(I)<=u,f.value=f.done?g:R};let _,b;const C=T=>{h(f.value)&&(_=T,b=bu({keyframes:[f.value,w(f.value)],velocity:X1(y,T,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return C(0),{calculatedDuration:null,next:T=>{let I=!1;return!b&&_===void 0&&(I=!0,x(T),C(T)),_!==void 0&&T>=_?b.next(T-_):(!I&&x(T),f)}}}function RT(t,e,n){const r=[],s=n||In.mix||K1,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||jt:e;o=ho(l,o)}r.push(o)}return r}function MT(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Am(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=RT(e,r,s),l=o.length,u=c=>{if(a&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=Ga(t[d],t[d+1],c);return o[d](f)};return n?c=>u(Nn(t[0],t[i-1],c)):u}function NT(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ga(0,e,r);t.push(ue(n,1,s))}}function IT(t){const e=[0];return NT(e,t.length-1),e}function OT(t,e){return t.map(n=>n*e)}function jT(t,e){return t.map(()=>e||D1).splice(0,t.length-1)}function Sa({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=qE(r)?r.map(cy):cy(r),i={done:!1,value:e[0]},a=OT(n&&n.length===e.length?n:IT(e),t),o=MT(a,e,{ease:Array.isArray(s)?s:jT(e,s)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}const DT=t=>t!==null;function Fm(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(DT),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const LT={decay:$f,inertia:$f,tween:Sa,keyframes:Sa,spring:bu};function Q1(t){typeof t.type=="string"&&(t.type=LT[t.type])}class Vm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const $T=t=>t/100;class Bm extends Vm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==ot.now()&&this.tick(ot.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Q1(e);const{type:n=Sa,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const l=n||Sa;l!==Sa&&typeof o[0]!="number"&&(this.mixKeyframes=ho($T,K1(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=$m(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:f,repeatDelay:h,type:w,onUpdate:v,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let y=this.currentTime,x=r;if(d){const T=Math.min(this.currentTime,s)/o;let I=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&I--,I=Math.min(I,d+1),!!(I%2)&&(f==="reverse"?(R=1-R,h&&(R-=h/o)):f==="mirror"&&(x=a)),y=Nn(0,1,R)*o}const _=p?{done:!1,value:c[0]}:x.next(y);i&&(_.value=i(_.value));let{done:b}=_;!p&&l!==null&&(b=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&b);return C&&w!==$f&&(_.value=Fm(c,this.options,S,this.speed)),v&&v(_.value),C&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return Nt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Nt(e)}get time(){return Nt(this.currentTime)}set time(e){var n;e=mn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ot.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Nt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=_T,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function FT(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $r=t=>t*180/Math.PI,Ff=t=>{const e=$r(Math.atan2(t[1],t[0]));return Vf(e)},VT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ff,rotateZ:Ff,skewX:t=>$r(Math.atan(t[1])),skewY:t=>$r(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Vf=t=>(t=t%360,t<0&&(t+=360),t),gy=Ff,yy=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),vy=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),BT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yy,scaleY:vy,scale:t=>(yy(t)+vy(t))/2,rotateX:t=>Vf($r(Math.atan2(t[6],t[5]))),rotateY:t=>Vf($r(Math.atan2(-t[2],t[0]))),rotateZ:gy,rotate:gy,skewX:t=>$r(Math.atan(t[4])),skewY:t=>$r(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Bf(t){return t.includes("scale")?1:0}function Uf(t,e){if(!t||t==="none")return Bf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=BT,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=VT,s=o}if(!s)return Bf(e);const i=r[e],a=s[1].split(",").map(zT);return typeof i=="function"?i(a):a[i]}const UT=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Uf(n,e)};function zT(t){return parseFloat(t.trim())}const yi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vi=new Set(yi),wy=t=>t===gi||t===U,WT=new Set(["x","y","z"]),HT=yi.filter(t=>!WT.has(t));function qT(t){const e=[];return HT.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Xr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Uf(e,"x"),y:(t,{transform:e})=>Uf(e,"y")};Xr.translateX=Xr.x;Xr.translateY=Xr.y;const Qr=new Set;let zf=!1,Wf=!1,Hf=!1;function Y1(){if(Wf){const t=Array.from(Qr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=qT(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wf=!1,zf=!1,Qr.forEach(t=>t.complete(Hf)),Qr.clear()}function J1(){Qr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Wf=!0)})}function KT(){Hf=!0,J1(),Y1(),Hf=!1}class Um{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Qr.add(this),zf||(zf=!0,ae.read(J1),ae.resolveKeyframes(Y1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}FT(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qr.delete(this)}cancel(){this.state==="scheduled"&&(Qr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GT=t=>t.startsWith("--");function XT(t,e,n){GT(e)?t.style.setProperty(e,n):t.style[e]=n}const QT=Rm(()=>window.ScrollTimeline!==void 0),YT={};function JT(t,e){const n=Rm(t);return()=>YT[e]??n()}const Z1=JT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zi=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,xy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zi([0,.65,.55,1]),circOut:Zi([.55,0,1,.45]),backIn:Zi([.31,.01,.66,-.59]),backOut:Zi([.33,1.53,.69,.99])};function e_(t,e){if(t)return typeof t=="function"?Z1()?G1(t,e):"ease-out":L1(t)?Zi(t):Array.isArray(t)?t.map(n=>e_(n,e)||xy.easeOut):xy[t]}function ZT(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const d=e_(o,s);Array.isArray(d)&&(c.easing=d);const f={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(c,f)}function t_(t){return typeof t=="function"&&"applyToOptions"in t}function eP({type:t,...e}){return t_(t)&&Z1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tP extends Vm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,Am(typeof e.type!="string");const u=eP(e);this.animation=ZT(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=Fm(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):XT(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Nt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Nt(e)}get time(){return Nt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&QT()?(this.animation.timeline=e,jt):n(this)}}const n_={anticipate:I1,backInOut:N1,circInOut:j1};function nP(t){return t in n_}function rP(t){typeof t.ease=="string"&&nP(t.ease)&&(t.ease=n_[t.ease])}const _y=10;class sP extends tP{constructor(e){rP(e),Q1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new Bm({...a,autoplay:!1}),l=mn(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-_y).value,o.sample(l).value,_y),o.stop()}}const Sy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pr.test(t)||t==="0")&&!t.startsWith("url("));function iP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aP(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=Sy(s,e),o=Sy(i,e);return!a||!o?!1:iP(t)||(n==="spring"||t_(n))&&r}function qf(t){t.duration=0,t.type="keyframes"}const oP=new Set(["opacity","clipPath","filter","transform"]),lP=Rm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uP(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return lP()&&n&&oP.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const cP=40;class dP extends Vm{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:c,...d}){var w;super(),this.stop=()=>{var v,S;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=ot.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:u,element:c,...d},h=(c==null?void 0:c.KeyframeResolver)||Um;this.keyframeResolver=new h(o,(v,S,g)=>this.onKeyframesResolved(v,S,f,!g),l,u,c),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=ot.now(),aP(e,i,a,o)||((In.instantAnimations||!l)&&(c==null||c(Fm(e,r,n))),e[0]=e[e.length-1],qf(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>cP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!u&&uP(f)?new sP({...f,element:f.motionValue.owner.current}):new Bm(f);h.finished.then(()=>this.notifyFinished()).catch(jt),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),KT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const fP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hP(t){const e=fP.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function r_(t,e,n=1){const[r,s]=hP(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return k1(a)?parseFloat(a):a}return Om(s)?r_(s,e,n+1):s}function zm(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const s_=new Set(["width","height","top","left","right","bottom",...yi]),mP={test:t=>t==="auto",parse:t=>t},i_=t=>e=>e.test(t),a_=[gi,U,pn,zn,iT,sT,mP],by=t=>a_.find(i_(t));function pP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||E1(t):!0}const gP=new Set(["brightness","contrast","saturate","opacity"]);function yP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(jm)||[];if(!r)return t;const s=n.replace(r,"");let i=gP.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const vP=/\b([a-z-]*)\(.*?\)/gu,Kf={...pr,getAnimatableNone:t=>{const e=t.match(vP);return e?e.map(yP).join(" "):t}},ky={...gi,transform:Math.round},wP={rotate:zn,rotateX:zn,rotateY:zn,rotateZ:zn,scale:Ko,scaleX:Ko,scaleY:Ko,scaleZ:Ko,skew:zn,skewX:zn,skewY:zn,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:Xa,originX:dy,originY:dy,originZ:U},Wm={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U,...wP,zIndex:ky,fillOpacity:Xa,strokeOpacity:Xa,numOctaves:ky},xP={...Wm,color:ye,backgroundColor:ye,outlineColor:ye,fill:ye,stroke:ye,borderColor:ye,borderTopColor:ye,borderRightColor:ye,borderBottomColor:ye,borderLeftColor:ye,filter:Kf,WebkitFilter:Kf},o_=t=>xP[t];function l_(t,e){let n=o_(t);return n!==Kf&&(n=pr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _P=new Set(["auto","none","0"]);function SP(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!_P.has(i)&&Qa(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=l_(n,s)}class bP extends Um{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Om(u))){const c=r_(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!s_.has(r)||e.length!==2)return;const[s,i]=e,a=by(s),o=by(i);if(a!==o)if(wy(a)&&wy(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Xr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||pP(e[s]))&&r.push(s);r.length&&SP(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Xr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function kP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const u_=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function c_(t){return C1(t)&&"offsetHeight"in t}const Cy=30,CP=t=>!isNaN(parseFloat(t)),Ey={current:void 0};class EP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=ot.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ot.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=CP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Mm);const r=this.events[e].add(n);return e==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Ey.current&&Ey.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Cy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Cy);return T1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ci(t,e){return new EP(t,e)}const{schedule:Hm}=$1(queueMicrotask,!1),Bt={x:!1,y:!1};function d_(){return Bt.x||Bt.y}function TP(t){return t==="x"||t==="y"?Bt[t]?null:(Bt[t]=!0,()=>{Bt[t]=!1}):Bt.x||Bt.y?null:(Bt.x=Bt.y=!0,()=>{Bt.x=Bt.y=!1})}function f_(t,e){const n=kP(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Ty(t){return!(t.pointerType==="touch"||d_())}function PP(t,e,n={}){const[r,s,i]=f_(t,n),a=o=>{if(!Ty(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const c=d=>{Ty(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,s)};return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const h_=(t,e)=>e?t===e?!0:h_(t,e.parentElement):!1,qm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,AP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RP(t){return AP.has(t.tagName)||t.tabIndex!==-1}const Ol=new WeakSet;function Py(t){return e=>{e.key==="Enter"&&t(e)}}function ad(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const MP=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Py(()=>{if(Ol.has(n))return;ad(n,"down");const s=Py(()=>{ad(n,"up")}),i=()=>ad(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Ay(t){return qm(t)&&!d_()}function NP(t,e,n={}){const[r,s,i]=f_(t,n),a=o=>{const l=o.currentTarget;if(!Ay(o))return;Ol.add(l);const u=e(l,o),c=(h,w)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Ol.has(l)&&Ol.delete(l),Ay(h)&&typeof u=="function"&&u(h,{success:w})},d=h=>{c(h,l===window||l===document||n.useGlobalTarget||h_(l,h.target))},f=h=>{c(h,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),c_(o)&&(o.addEventListener("focus",u=>MP(u,s)),!RP(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function m_(t){return C1(t)&&"ownerSVGElement"in t}function IP(t){return m_(t)&&t.tagName==="svg"}const qe=t=>!!(t&&t.getVelocity),OP=[...a_,ye,pr],jP=t=>OP.find(i_(t)),Km=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Ry(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function DP(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Ry(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Ry(t[s],null)}}}}function LP(...t){return A.useCallback(DP(...t),t)}class $P extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=c_(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FP({children:t,isPresent:e,anchorX:n,root:r}){const s=A.useId(),i=A.useRef(null),a=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=A.useContext(Km),l=LP(i,t==null?void 0:t.ref);return A.useInsertionEffect(()=>{const{width:u,height:c,top:d,left:f,right:h}=a.current;if(e||!i.current||!u||!c)return;const w=n==="left"?`left: ${f}`:`right: ${h}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");o&&(v.nonce=o);const S=r??document.head;return S.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${w}px !important;
            top: ${d}px !important;
          }
        `),()=>{S.contains(v)&&S.removeChild(v)}},[e]),m.jsx($P,{isPresent:e,childRef:i,sizeRef:a,children:A.cloneElement(t,{ref:l})})}const VP=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o,root:l})=>{const u=Cm(BP),c=A.useId();let d=!0,f=A.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:s,onExitComplete:h=>{u.set(h,!0);for(const w of u.values())if(!w)return;r&&r()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[n,u,r]);return i&&d&&(f={...f}),A.useMemo(()=>{u.forEach((h,w)=>u.set(w,!1))},[n]),A.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=m.jsx(FP,{isPresent:n,anchorX:o,root:l,children:t})),m.jsx(ac.Provider,{value:f,children:t})};function BP(){return new Map}function p_(t=!0){const e=A.useContext(ac);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=A.useId();A.useEffect(()=>{if(t)return s(i)},[t]);const a=A.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Go=t=>t.key||"";function My(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const gr=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[u,c]=p_(a),d=A.useMemo(()=>My(t),[t]),f=a&&!u?[]:d.map(Go),h=A.useRef(!0),w=A.useRef(d),v=Cm(()=>new Map),[S,g]=A.useState(d),[p,y]=A.useState(d);b1(()=>{h.current=!1,w.current=d;for(let b=0;b<p.length;b++){const C=Go(p[b]);f.includes(C)?v.delete(C):v.get(C)!==!0&&v.set(C,!1)}},[p,f.length,f.join("-")]);const x=[];if(d!==S){let b=[...d];for(let C=0;C<p.length;C++){const T=p[C],I=Go(T);f.includes(I)||(b.splice(C,0,T),x.push(T))}return i==="wait"&&x.length&&(b=x),y(My(b)),g(d),null}const{forceRender:_}=A.useContext(km);return m.jsx(m.Fragment,{children:p.map(b=>{const C=Go(b),T=a&&!u?!1:d===p||f.includes(C),I=()=>{if(v.has(C))v.set(C,!0);else return;let R=!0;v.forEach(j=>{j||(R=!1)}),R&&(_==null||_(),y(w.current),a&&(c==null||c()),r&&r())};return m.jsx(VP,{isPresent:T,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:T?void 0:I,anchorX:o,children:b},C)})})},g_=A.createContext({strict:!1}),Ny={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},di={};for(const t in Ny)di[t]={isEnabled:e=>Ny[t].some(n=>!!e[n])};function UP(t){for(const e in t)di[e]={...di[e],...t[e]}}const zP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ku(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zP.has(t)}let y_=t=>!ku(t);function WP(t){typeof t=="function"&&(y_=e=>e.startsWith("on")?!ku(e):t(e))}try{WP(require("@emotion/is-prop-valid").default)}catch{}function HP(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(y_(s)||n===!0&&ku(s)||!e&&!ku(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const oc=A.createContext({});function lc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ya(t){return typeof t=="string"||Array.isArray(t)}const Gm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xm=["initial",...Gm];function uc(t){return lc(t.animate)||Xm.some(e=>Ya(t[e]))}function v_(t){return!!(uc(t)||t.variants)}function qP(t,e){if(uc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ya(n)?n:void 0,animate:Ya(r)?r:void 0}}return t.inherit!==!1?e:{}}function KP(t){const{initial:e,animate:n}=qP(t,A.useContext(oc));return A.useMemo(()=>({initial:e,animate:n}),[Iy(e),Iy(n)])}function Iy(t){return Array.isArray(t)?t.join(" "):t}function Oy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ri={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(U.test(t))t=parseFloat(t);else return t;const n=Oy(t,e.target.x),r=Oy(t,e.target.y);return`${n}% ${r}%`}},GP={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=pr.parse(t);if(s.length>5)return r;const i=pr.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=l;const u=ue(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}},Gf={borderRadius:{...Ri,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ri,borderTopRightRadius:Ri,borderBottomLeftRadius:Ri,borderBottomRightRadius:Ri,boxShadow:GP};function w_(t,{layout:e,layoutId:n}){return vi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Gf[t]||t==="opacity")}const XP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QP=yi.length;function YP(t,e,n){let r="",s=!0;for(let i=0;i<QP;i++){const a=yi[i],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=u_(o,Wm[a]);if(!l){s=!1;const c=XP[a]||a;r+=`${c}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Qm(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(vi.has(l)){a=!0;continue}else if(V1(l)){s[l]=u;continue}else{const c=u_(u,Wm[l]);l.startsWith("origin")?(o=!0,i[l]=c):r[l]=c}}if(e.transform||(a||n?r.transform=YP(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}const Ym=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function x_(t,e,n){for(const r in e)!qe(e[r])&&!w_(r,n)&&(t[r]=e[r])}function JP({transformTemplate:t},e){return A.useMemo(()=>{const n=Ym();return Qm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ZP(t,e){const n=t.style||{},r={};return x_(r,n,t),Object.assign(r,JP(t,e)),r}function eA(t,e){const n={},r=ZP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const tA={offset:"stroke-dashoffset",array:"stroke-dasharray"},nA={offset:"strokeDashoffset",array:"strokeDasharray"};function rA(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?tA:nA;t[i.offset]=U.transform(-r);const a=U.transform(e),o=U.transform(n);t[i.array]=`${a} ${o}`}function __(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,u,c){if(Qm(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&rA(d,s,i,a,!1)}const S_=()=>({...Ym(),attrs:{}}),b_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sA(t,e,n,r){const s=A.useMemo(()=>{const i=S_();return __(i,e,b_(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};x_(i,t.style,t),s.style={...i,...s.style}}return s}const iA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jm(t){return typeof t!="string"||t.includes("-")?!1:!!(iA.indexOf(t)>-1||/[A-Z]/u.test(t))}function aA(t,e,n,{latestValues:r},s,i=!1){const o=(Jm(t)?sA:eA)(e,r,s,t),l=HP(e,typeof t=="string",i),u=t!==A.Fragment?{...l,...o,ref:n}:{},{children:c}=e,d=A.useMemo(()=>qe(c)?c.get():c,[c]);return A.createElement(t,{...u,children:d})}function jy(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Zm(t,e,n,r){if(typeof e=="function"){const[s,i]=jy(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=jy(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function jl(t){return qe(t)?t.get():t}function oA({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:lA(n,r,s,t),renderState:e()}}function lA(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=jl(i[f]);let{initial:a,animate:o}=t;const l=uc(t),u=v_(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const d=c?o:a;if(d&&typeof d!="boolean"&&!lc(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const w=Zm(t,f[h]);if(w){const{transitionEnd:v,transition:S,...g}=w;for(const p in g){let y=g[p];if(Array.isArray(y)){const x=c?y.length-1:0;y=y[x]}y!==null&&(s[p]=y)}for(const p in v)s[p]=v[p]}}}return s}const k_=t=>(e,n)=>{const r=A.useContext(oc),s=A.useContext(ac),i=()=>oA(t,e,r,s);return n?i():Cm(i)};function ep(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(qe(r[a])||e.style&&qe(e.style[a])||w_(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const uA=k_({scrapeMotionValuesFromProps:ep,createRenderState:Ym});function C_(t,e,n){const r=ep(t,e,n);for(const s in t)if(qe(t[s])||qe(e[s])){const i=yi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const cA=k_({scrapeMotionValuesFromProps:C_,createRenderState:S_}),dA=Symbol.for("motionComponentSymbol");function Ds(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fA(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ds(n)&&(n.current=r))},[e])}const tp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hA="framerAppearId",E_="data-"+tp(hA),T_=A.createContext({});function mA(t,e,n,r,s){var v,S;const{visualElement:i}=A.useContext(oc),a=A.useContext(g_),o=A.useContext(ac),l=A.useContext(Km).reducedMotion,u=A.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=A.useContext(T_);c&&!c.projection&&s&&(c.type==="html"||c.type==="svg")&&pA(u.current,n,s,d);const f=A.useRef(!1);A.useInsertionEffect(()=>{c&&f.current&&c.update(n,o)});const h=n[E_],w=A.useRef(!!h&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,h))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,h)));return b1(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),w.current&&c.animationState&&c.animationState.animateChanges())}),A.useEffect(()=>{c&&(!w.current&&c.animationState&&c.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,h)}),w.current=!1),c.enteringChildren=void 0)}),c}function pA(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:P_(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Ds(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function P_(t){if(t)return t.options.allowProjection!==!1?t.projection:P_(t.parent)}function od(t,{forwardMotionProps:e=!1}={},n,r){n&&UP(n);const s=Jm(t)?cA:uA;function i(o,l){let u;const c={...A.useContext(Km),...o,layoutId:gA(o)},{isStatic:d}=c,f=KP(o),h=s(o,d);if(!d&&Em){yA();const w=vA(c);u=w.MeasureLayout,f.visualElement=mA(t,h,c,r,w.ProjectionNode)}return m.jsxs(oc.Provider,{value:f,children:[u&&f.visualElement?m.jsx(u,{visualElement:f.visualElement,...c}):null,aA(t,o,fA(h,f.visualElement,l),h,d,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=A.forwardRef(i);return a[dA]=t,a}function gA({layoutId:t}){const e=A.useContext(km).id;return e&&t!==void 0?e+"-"+t:t}function yA(t,e){A.useContext(g_).strict}function vA(t){const{drag:e,layout:n}=di;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function wA(t,e){if(typeof Proxy>"u")return od;const n=new Map,r=(i,a)=>od(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,od(a,void 0,t,e)),n.get(a))})}function A_({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function xA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _A(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ld(t){return t===void 0||t===1}function Xf({scale:t,scaleX:e,scaleY:n}){return!ld(t)||!ld(e)||!ld(n)}function Rr(t){return Xf(t)||R_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function R_(t){return Dy(t.x)||Dy(t.y)}function Dy(t){return t&&t!=="0%"}function Cu(t,e,n){const r=t-n,s=e*r;return n+s}function Ly(t,e,n,r,s){return s!==void 0&&(t=Cu(t,s,r)),Cu(t,n,r)+e}function Qf(t,e=0,n=1,r,s){t.min=Ly(t.min,e,n,r,s),t.max=Ly(t.max,e,n,r,s)}function M_(t,{x:e,y:n}){Qf(t.x,e.translate,e.scale,e.originPoint),Qf(t.y,n.translate,n.scale,n.originPoint)}const $y=.999999999999,Fy=1.0000000000001;function SA(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&$s(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,M_(t,a)),r&&Rr(i.latestValues)&&$s(t,i.latestValues))}e.x<Fy&&e.x>$y&&(e.x=1),e.y<Fy&&e.y>$y&&(e.y=1)}function Ls(t,e){t.min=t.min+e,t.max=t.max+e}function Vy(t,e,n,r,s=.5){const i=ue(t.min,t.max,s);Qf(t,e,n,i,r)}function $s(t,e){Vy(t.x,e.x,e.scaleX,e.scale,e.originX),Vy(t.y,e.y,e.scaleY,e.scale,e.originY)}function N_(t,e){return A_(_A(t.getBoundingClientRect(),e))}function bA(t,e,n){const r=N_(t,n),{scroll:s}=e;return s&&(Ls(r.x,s.offset.x),Ls(r.y,s.offset.y)),r}const By=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fs=()=>({x:By(),y:By()}),Uy=()=>({min:0,max:0}),ke=()=>({x:Uy(),y:Uy()}),Yf={current:null},I_={current:!1};function kA(){if(I_.current=!0,!!Em)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yf.current=t.matches;t.addEventListener("change",e),e()}else Yf.current=!1}const CA=new WeakMap;function EA(t,e,n){for(const r in e){const s=e[r],i=n[r];if(qe(s))t.addValue(r,s);else if(qe(i))t.addValue(r,ci(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,ci(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TA{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Um,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ot.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ae.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=uc(n),this.isVariantNode=v_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];l[f]!==void 0&&qe(h)&&h.set(l[f])}}mount(e){var n;this.current=e,CA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),I_.current||kA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),mr(this.notifyUpdate),mr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=vi.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in di){const n=di[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zy.length;r++){const s=zy[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=EA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ci(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(k1(r)||E1(r))?r=parseFloat(r):!jP(r)&&pr.test(n)&&(r=l_(e,n)),this.setBaseTarget(e,qe(r)?r.get():r)),qe(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Zm(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qe(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Mm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Hm.render(this.render)}}class O_ extends TA{constructor(){super(...arguments),this.KeyframeResolver=bP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qe(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function j_(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function PA(t){return window.getComputedStyle(t)}class AA extends O_{constructor(){super(...arguments),this.type="html",this.renderInstance=j_}readValueFromInstance(e,n){var r;if(vi.has(n))return(r=this.projection)!=null&&r.isProjecting?Bf(n):UT(e,n);{const s=PA(e),i=(V1(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return N_(e,n)}build(e,n,r){Qm(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ep(e,n,r)}}const D_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RA(t,e,n,r){j_(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(D_.has(s)?s:tp(s),e.attrs[s])}class MA extends O_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ke}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vi.has(n)){const r=o_(n);return r&&r.default||0}return n=D_.has(n)?n:tp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return C_(e,n,r)}build(e,n,r){__(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){RA(e,n,r,s)}mount(e){this.isSVGTag=b_(e.tagName),super.mount(e)}}const NA=(t,e)=>Jm(t)?new MA(e):new AA(e,{allowProjection:t!==A.Fragment});function Ks(t,e,n){const r=t.getProps();return Zm(r,e,n!==void 0?n:r.custom,t)}const Jf=t=>Array.isArray(t);function IA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ci(n))}function OA(t){return Jf(t)?t[t.length-1]||0:t}function jA(t,e){const n=Ks(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=OA(i[a]);IA(t,a,o)}}function DA(t){return!!(qe(t)&&t.add)}function Zf(t,e){const n=t.getValue("willChange");if(DA(n))return n.add(e);if(!n&&In.WillChange){const r=new In.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function L_(t){return t.props[E_]}const LA=t=>t!==null;function $A(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(LA),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const FA={type:"spring",stiffness:500,damping:25,restSpeed:10},VA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),BA={type:"keyframes",duration:.8},UA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zA=(t,{keyframes:e})=>e.length>2?BA:vi.has(t)?t.startsWith("scale")?VA(e[1]):FA:UA;function WA({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const np=(t,e,n,r={},s,i)=>a=>{const o=zm(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-mn(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};WA(o)||Object.assign(c,zA(t,c)),c.duration&&(c.duration=mn(c.duration)),c.repeatDelay&&(c.repeatDelay=mn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(qf(c),c.delay===0&&(d=!0)),(In.instantAnimations||In.skipAnimations)&&(d=!0,qf(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,d&&!i&&e.get()!==void 0){const f=$A(c.keyframes,o);if(f!==void 0){ae.update(()=>{c.onUpdate(f),c.onComplete()});return}}return o.isSync?new Bm(c):new dP(c)};function HA({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function $_(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const c in o){const d=t.getValue(c,t.latestValues[c]??null),f=o[c];if(f===void 0||u&&HA(u,c))continue;const h={delay:n,...zm(i||{},c)},w=d.get();if(w!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===w&&!h.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const g=L_(t);if(g){const p=window.MotionHandoffAnimation(g,c,ae);p!==null&&(h.startTime=p,v=!0)}}Zf(t,c),d.start(np(c,d,f,t.shouldReduceMotion&&s_.has(c)?{type:!1}:h,t,v));const S=d.animation;S&&l.push(S)}return a&&Promise.all(l).then(()=>{ae.update(()=>{a&&jA(t,a)})}),l}function F_(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:o-i*r}function eh(t,e,n={}){var l;const r=Ks(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all($_(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return qA(t,e,u,c,d,f,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[u,c]=o==="beforeChildren"?[i,a]:[a,i];return u().then(()=>c())}else return Promise.all([i(),a(n.delay)])}function qA(t,e,n=0,r=0,s=0,i=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(eh(l,e,{...a,delay:n+(typeof r=="function"?0:r)+F_(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function KA(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>eh(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=eh(t,e,n);else{const s=typeof e=="function"?Ks(t,e,n.custom):e;r=Promise.all($_(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function V_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const GA=Xm.length;function B_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?B_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<GA;n++){const r=Xm[n],s=t.props[r];(Ya(s)||s===!1)&&(e[r]=s)}return e}const XA=[...Gm].reverse(),QA=Gm.length;function YA(t){return e=>Promise.all(e.map(({animation:n,options:r})=>KA(t,n,r)))}function JA(t){let e=YA(t),n=Wy(),r=!0;const s=l=>(u,c)=>{var f;const d=Ks(t,c,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:w,...v}=d;u={...u,...v,...w}}return u};function i(l){e=l(t)}function a(l){const{props:u}=t,c=B_(t.parent)||{},d=[],f=new Set;let h={},w=1/0;for(let S=0;S<QA;S++){const g=XA[S],p=n[g],y=u[g]!==void 0?u[g]:c[g],x=Ya(y),_=g===l?p.isActive:null;_===!1&&(w=S);let b=y===c[g]&&y!==u[g]&&x;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),p.protectedKeys={...h},!p.isActive&&_===null||!y&&!p.prevProp||lc(y)||typeof y=="boolean")continue;const C=ZA(p.prevProp,y);let T=C||g===l&&p.isActive&&!b&&x||S>w&&x,I=!1;const R=Array.isArray(y)?y:[y];let j=R.reduce(s(g),{});_===!1&&(j={});const{prevResolvedValues:se={}}=p,dt={...se,...j},en=Q=>{T=!0,f.has(Q)&&(I=!0,f.delete(Q)),p.needsAnimating[Q]=!0;const O=t.getValue(Q);O&&(O.liveStyle=!1)};for(const Q in dt){const O=j[Q],B=se[Q];if(h.hasOwnProperty(Q))continue;let H=!1;Jf(O)&&Jf(B)?H=!V_(O,B):H=O!==B,H?O!=null?en(Q):f.add(Q):O!==void 0&&f.has(Q)?en(Q):p.protectedKeys[Q]=!0}p.prevProp=y,p.prevResolvedValues=j,p.isActive&&(h={...h,...j}),r&&t.blockInitialAnimation&&(T=!1);const tn=b&&C;T&&(!tn||I)&&d.push(...R.map(Q=>{const O={type:g};if(typeof Q=="string"&&r&&!tn&&t.manuallyAnimateOnMount&&t.parent){const{parent:B}=t,H=Ks(B,Q);if(B.enteringChildren&&H){const{delayChildren:oe}=H.transition||{};O.delay=F_(B.enteringChildren,t,oe)}}return{animation:Q,options:O}}))}if(f.size){const S={};if(typeof u.initial!="boolean"){const g=Ks(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(S.transition=g.transition)}f.forEach(g=>{const p=t.getBaseTarget(g),y=t.getValue(g);y&&(y.liveStyle=!0),S[g]=p??null}),d.push({animation:S})}let v=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function o(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,u)}),n[l].isActive=u;const c=a(l);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Wy()}}}function ZA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!V_(e,t):!1}function kr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wy(){return{animate:kr(!0),whileInView:kr(),whileHover:kr(),whileTap:kr(),whileDrag:kr(),whileFocus:kr(),exit:kr()}}class _r{constructor(e){this.isMounted=!1,this.node=e}update(){}}class eR extends _r{constructor(e){super(e),e.animationState||(e.animationState=JA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();lc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let tR=0;class nR extends _r{constructor(){super(...arguments),this.id=tR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const rR={animation:{Feature:eR},exit:{Feature:nR}};function Ja(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function go(t){return{point:{x:t.pageX,y:t.pageY}}}const sR=t=>e=>qm(e)&&t(e,go(e));function ba(t,e,n,r){return Ja(t,e,sR(n),r)}const U_=1e-4,iR=1-U_,aR=1+U_,z_=.01,oR=0-z_,lR=0+z_;function et(t){return t.max-t.min}function uR(t,e,n){return Math.abs(t-e)<=n}function Hy(t,e,n,r=.5){t.origin=r,t.originPoint=ue(e.min,e.max,t.origin),t.scale=et(n)/et(e),t.translate=ue(n.min,n.max,t.origin)-t.originPoint,(t.scale>=iR&&t.scale<=aR||isNaN(t.scale))&&(t.scale=1),(t.translate>=oR&&t.translate<=lR||isNaN(t.translate))&&(t.translate=0)}function ka(t,e,n,r){Hy(t.x,e.x,n.x,r?r.originX:void 0),Hy(t.y,e.y,n.y,r?r.originY:void 0)}function qy(t,e,n){t.min=n.min+e.min,t.max=t.min+et(e)}function cR(t,e,n){qy(t.x,e.x,n.x),qy(t.y,e.y,n.y)}function Ky(t,e,n){t.min=e.min-n.min,t.max=t.min+et(e)}function Eu(t,e,n){Ky(t.x,e.x,n.x),Ky(t.y,e.y,n.y)}function Tt(t){return[t("x"),t("y")]}const W_=({current:t})=>t?t.ownerDocument.defaultView:null,Gy=(t,e)=>Math.abs(t-e);function dR(t,e){const n=Gy(t.x,e.x),r=Gy(t.y,e.y);return Math.sqrt(n**2+r**2)}class H_{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=cd(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,w=dR(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!w)return;const{point:v}=f,{timestamp:S}=Oe;this.history.push({...v,timestamp:S});const{onStart:g,onMove:p}=this.handlers;h||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ud(h,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:w,onSessionEnd:v,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=cd(f.type==="pointercancel"?this.lastMoveEventInfo:ud(h,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,g),v&&v(f,g)},!qm(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const o=go(e),l=ud(o,this.transformPagePoint),{point:u}=l,{timestamp:c}=Oe;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,cd(l,this.history)),this.removeListeners=ho(ba(this.contextWindow,"pointermove",this.handlePointerMove),ba(this.contextWindow,"pointerup",this.handlePointerUp),ba(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mr(this.updatePoint)}}function ud(t,e){return e?{point:e(t.point)}:t}function Xy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cd({point:t},e){return{point:t,delta:Xy(t,q_(e)),offset:Xy(t,fR(e)),velocity:hR(e,.1)}}function fR(t){return t[0]}function q_(t){return t[t.length-1]}function hR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=q_(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>mn(e)));)n--;if(!r)return{x:0,y:0};const i=Nt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function mR(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ue(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ue(n,t,r.max):Math.min(t,n)),t}function Qy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function pR(t,{top:e,left:n,bottom:r,right:s}){return{x:Qy(t.x,n,s),y:Qy(t.y,e,r)}}function Yy(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function gR(t,e){return{x:Yy(t.x,e.x),y:Yy(t.y,e.y)}}function yR(t,e){let n=.5;const r=et(t),s=et(e);return s>r?n=Ga(e.min,e.max-r,t.min):r>s&&(n=Ga(t.min,t.max-s,e.min)),Nn(0,1,n)}function vR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const th=.35;function wR(t=th){return t===!1?t=0:t===!0&&(t=th),{x:Jy(t,"left","right"),y:Jy(t,"top","bottom")}}function Jy(t,e,n){return{min:Zy(t,e),max:Zy(t,n)}}function Zy(t,e){return typeof t=="number"?t:t[e]||0}const xR=new WeakMap;class _R{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(go(d).point)},a=(d,f)=>{const{drag:h,dragPropagation:w,onDragStart:v}=this.getProps();if(h&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TP(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tt(g=>{let p=this.getAxisMotionValue(g).get()||0;if(pn.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[g];x&&(p=et(x)*(parseFloat(p)/100))}}this.originPoint[g]=p}),v&&ae.postRender(()=>v(d,f)),Zf(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:w,onDirectionLock:v,onDrag:S}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=f;if(w&&this.currentDirection===null){this.currentDirection=SR(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),S&&S(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Tt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new H_(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:W_(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ae.postRender(()=>o(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Xo(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=mR(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Ds(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=pR(r.layoutBox,e):this.constraints=!1,this.elastic=wR(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Tt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=vR(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ds(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=bA(r,s.root,this.visualElement.getTransformPagePoint());let a=gR(s.layout.layoutBox,i);if(n){const o=n(xA(a));this.hasMutatedConstraints=!!o,o&&(a=A_(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Tt(c=>{if(!Xo(c,n,this.currentDirection))return;let d=l&&l[c]||{};a&&(d={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,w={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,w)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Zf(this.visualElement,e),r.start(np(e,r,0,n,this.visualElement,!1))}stopAnimation(){Tt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Tt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Tt(n=>{const{drag:r}=this.getProps();if(!Xo(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-ue(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ds(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Tt(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=yR({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tt(a=>{if(!Xo(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(ue(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;xR.set(this.visualElement,this);const e=this.visualElement.current,n=ba(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ds(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ae.read(r);const a=Ja(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Tt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=th,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Xo(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function SR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bR extends _r{constructor(e){super(e),this.removeGroupControls=jt,this.removeListeners=jt,this.controls=new _R(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const e0=t=>(e,n)=>{t&&ae.postRender(()=>t(e,n))};class kR extends _r{constructor(){super(...arguments),this.removePointerDownListener=jt}onPointerDown(e){this.session=new H_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:W_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:e0(e),onStart:e0(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&ae.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ba(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let dd=!1;class CR extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),dd&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Dl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,dd=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||ae.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;dd=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function K_(t){const[e,n]=p_(),r=A.useContext(km);return m.jsx(CR,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(T_),isPresent:e,safeToRemove:n})}function ER(t,e,n){const r=qe(t)?t:ci(t);return r.start(np("",r,e,n)),r.animation}const TR=(t,e)=>t.depth-e.depth;class PR{constructor(){this.children=[],this.isDirty=!1}add(e){Tm(this.children,e),this.isDirty=!0}remove(e){Pm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TR),this.isDirty=!1,this.children.forEach(e)}}function AR(t,e){const n=ot.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(mr(r),t(i-e))};return ae.setup(r,!0),()=>mr(r)}const G_=["TopLeft","TopRight","BottomLeft","BottomRight"],RR=G_.length,t0=t=>typeof t=="string"?parseFloat(t):t,n0=t=>typeof t=="number"||U.test(t);function MR(t,e,n,r,s,i){s?(t.opacity=ue(0,n.opacity??1,NR(r)),t.opacityExit=ue(e.opacity??1,0,IR(r))):i&&(t.opacity=ue(e.opacity??1,n.opacity??1,r));for(let a=0;a<RR;a++){const o=`border${G_[a]}Radius`;let l=r0(e,o),u=r0(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||n0(l)===n0(u)?(t[o]=Math.max(ue(t0(l),t0(u),r),0),(pn.test(u)||pn.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=ue(e.rotate||0,n.rotate||0,r))}function r0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const NR=X_(0,.5,O1),IR=X_(.5,.95,jt);function X_(t,e,n){return r=>r<t?0:r>e?1:n(Ga(t,e,r))}function s0(t,e){t.min=e.min,t.max=e.max}function Vt(t,e){s0(t.x,e.x),s0(t.y,e.y)}function i0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function a0(t,e,n,r,s){return t-=e,t=Cu(t,1/n,r),s!==void 0&&(t=Cu(t,1/s,r)),t}function OR(t,e=0,n=1,r=.5,s,i=t,a=t){if(pn.test(e)&&(e=parseFloat(e),e=ue(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ue(i.min,i.max,r);t===i&&(o-=e),t.min=a0(t.min,e,n,o,s),t.max=a0(t.max,e,n,o,s)}function o0(t,e,[n,r,s],i,a){OR(t,e[n],e[r],e[s],e.scale,i,a)}const jR=["x","scaleX","originX"],DR=["y","scaleY","originY"];function l0(t,e,n,r){o0(t.x,e,jR,n?n.x:void 0,r?r.x:void 0),o0(t.y,e,DR,n?n.y:void 0,r?r.y:void 0)}function u0(t){return t.translate===0&&t.scale===1}function Q_(t){return u0(t.x)&&u0(t.y)}function c0(t,e){return t.min===e.min&&t.max===e.max}function LR(t,e){return c0(t.x,e.x)&&c0(t.y,e.y)}function d0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Y_(t,e){return d0(t.x,e.x)&&d0(t.y,e.y)}function f0(t){return et(t.x)/et(t.y)}function h0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class $R{constructor(){this.members=[]}add(e){Tm(this.members,e),e.scheduleRender()}remove(e){if(Pm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FR(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:h,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),w&&(r+=`skewY(${w}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const fd=["","X","Y","Z"],VR=1e3;let BR=0;function hd(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function J_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=L_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ae,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&J_(r)}function Z_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=BR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WR),this.nodes.forEach(GR),this.nodes.forEach(XR),this.nodes.forEach(HR)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new PR)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Mm),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=m_(a)&&!IP(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let c,d=0;const f=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{d=window.innerWidth}),t(a,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,c&&c(),c=AR(f,250),Dl.hasAnimatedSinceResize&&(Dl.hasAnimatedSinceResize=!1,this.nodes.forEach(g0)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||eM,{onLayoutAnimationStart:v,onLayoutAnimationComplete:S}=u.getProps(),g=!this.targetLayout||!Y_(this.targetLayout,h),p=!d&&f;if(this.options.layoutRoot||this.resumeFrom||p||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...zm(w,"layout"),onPlay:v,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(c,p)}else d||g0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QR),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(m0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(p0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(KR),this.nodes.forEach(UR),this.nodes.forEach(zR)):this.nodes.forEach(p0),this.clearAllSnapshots();const o=ot.now();Oe.delta=Nn(0,1e3/60,o-Oe.timestamp),Oe.timestamp=o,Oe.isProcessing=!0,td.update.process(Oe),td.preRender.process(Oe),td.render.process(Oe),Oe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qR),this.sharedNodes.forEach(YR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!et(this.snapshot.measuredBox.x)&&!et(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Q_(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||Rr(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),tM(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return ke();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(nM))){const{scroll:c}=this.root;c&&(Ls(o.x,c.offset.x),Ls(o.y,c.offset.y))}return o}removeElementScroll(a){var l;const o=ke();if(Vt(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Vt(o,a),Ls(o.x,d.offset.x),Ls(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const l=ke();Vt(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&$s(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Rr(c.latestValues)&&$s(l,c.latestValues)}return Rr(this.latestValues)&&$s(l,this.latestValues),l}removeTransform(a){const o=ke();Vt(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Rr(u.latestValues))continue;Xf(u.latestValues)&&u.updateSnapshot();const c=ke(),d=u.measurePageBox();Vt(c,d),l0(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Rr(this.latestValues)&&l0(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Oe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!this.layout||!(c||d))return;this.resolvedRelativeTargetAt=Oe.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vt(this.target,this.layout.layoutBox),M_(this.target,this.targetDelta)):Vt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Xf(this.parent.latestValues)||R_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),Eu(this.relativeTargetOrigin,o,l),Vt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Oe.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Vt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;SA(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ke());const{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(i0(this.prevProjectionDelta.x,this.projectionDelta.x),i0(this.prevProjectionDelta.y,this.projectionDelta.y)),ka(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!h0(this.projectionDelta.x,this.prevProjectionDelta.x)||!h0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fs(),this.projectionDelta=Fs(),this.projectionDeltaWithTransform=Fs()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Fs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=ke(),h=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=h!==w,S=this.getStack(),g=!S||S.members.length<=1,p=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(ZR));this.animationProgress=0;let y;this.mixTargetDelta=x=>{const _=x/1e3;y0(d.x,a.x,_),y0(d.y,a.y,_),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JR(this.relativeTarget,this.relativeTargetOrigin,f,_),y&&LR(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ke()),Vt(y,this.relativeTarget)),v&&(this.animationValues=c,MR(c,u,this.latestValues,_,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Dl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ci(0)),this.currentAnimation=ER(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&eS(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ke();const d=et(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=et(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Vt(o,l),$s(o,c),ka(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new $R),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&hd("z",a,u,this.animationValues);for(let c=0;c<fd.length;c++)hd(`rotate${fd[c]}`,a,u,this.animationValues),hd(`skew${fd[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=jl(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=jl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Rr(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=FR(this.projectionDeltaWithTransform,this.treeScale,c);l&&(d=l(c,d)),a.transform=d;const{x:f,y:h}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const w in Gf){if(c[w]===void 0)continue;const{correct:v,applyTo:S,isCSSVariable:g}=Gf[w],p=d==="none"?c[w]:v(c[w],u);if(S){const y=S.length;for(let x=0;x<y;x++)a[S[x]]=p}else g?this.options.visualElement.renderState.vars[w]=p:a[w]=p}this.options.layoutId&&(a.pointerEvents=u===this?jl(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(m0),this.root.sharedNodes.clear()}}}function UR(t){t.updateLayout()}function zR(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Tt(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],h=et(f);f.min=r[d].min,f.max=f.min+h}):eS(i,e.layoutBox,r)&&Tt(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],h=et(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const o=Fs();ka(o,r,e.layoutBox);const l=Fs();a?ka(l,t.applyTransform(s,!0),e.measuredBox):ka(l,r,e.layoutBox);const u=!Q_(o);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const w=ke();Eu(w,e.layoutBox,f.layoutBox);const v=ke();Eu(v,r,h.layoutBox),Y_(w,v)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function WR(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qR(t){t.clearSnapshot()}function m0(t){t.clearMeasurements()}function p0(t){t.isLayoutDirty=!1}function KR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function g0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GR(t){t.resolveTargetDelta()}function XR(t){t.calcProjection()}function QR(t){t.resetSkewAndRotation()}function YR(t){t.removeLeadSnapshot()}function y0(t,e,n){t.translate=ue(e.translate,0,n),t.scale=ue(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function v0(t,e,n,r){t.min=ue(e.min,n.min,r),t.max=ue(e.max,n.max,r)}function JR(t,e,n,r){v0(t.x,e.x,n.x,r),v0(t.y,e.y,n.y,r)}function ZR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eM={duration:.45,ease:[.4,0,.1,1]},w0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),x0=w0("applewebkit/")&&!w0("chrome/")?Math.round:jt;function _0(t){t.min=x0(t.min),t.max=x0(t.max)}function tM(t){_0(t.x),_0(t.y)}function eS(t,e,n){return t==="position"||t==="preserve-aspect"&&!uR(f0(e),f0(n),.2)}function nM(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const rM=Z_({attachResizeListener:(t,e)=>Ja(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),md={current:void 0},tS=Z_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!md.current){const t=new rM({});t.mount(window),t.setOptions({layoutScroll:!0}),md.current=t}return md.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sM={pan:{Feature:kR},drag:{Feature:bR,ProjectionNode:tS,MeasureLayout:K_}};function S0(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ae.postRender(()=>i(e,go(e)))}class iM extends _r{mount(){const{current:e}=this.node;e&&(this.unmount=PP(e,(n,r)=>(S0(this.node,r,"Start"),s=>S0(this.node,s,"End"))))}unmount(){}}class aM extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ho(Ja(this.node.current,"focus",()=>this.onFocus()),Ja(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function b0(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ae.postRender(()=>i(e,go(e)))}class oM extends _r{mount(){const{current:e}=this.node;e&&(this.unmount=NP(e,(n,r)=>(b0(this.node,r,"Start"),(s,{success:i})=>b0(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nh=new WeakMap,pd=new WeakMap,lM=t=>{const e=nh.get(t.target);e&&e(t)},uM=t=>{t.forEach(lM)};function cM({root:t,...e}){const n=t||document;pd.has(n)||pd.set(n,{});const r=pd.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(uM,{root:t,...e})),r[s]}function dM(t,e,n){const r=cM(e);return nh.set(t,n),r.observe(t),()=>{nh.delete(t),r.unobserve(t)}}const fM={some:0,all:1};class hM extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:fM[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return dM(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mM(e,n))&&this.startObserver()}unmount(){}}function mM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const pM={inView:{Feature:hM},tap:{Feature:oM},focus:{Feature:aM},hover:{Feature:iM}},gM={layout:{ProjectionNode:tS,MeasureLayout:K_}},yM={...rR,...pM,...sM,...gM},pe=wA(yM,NA);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>A.createElement("svg",{ref:c,...vM,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${wM(t)}`,o].join(" "),...u},[...e.map(([d,f])=>A.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=K("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=K("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=K("BookDashed",[["path",{d:"M20 22h-2",key:"1rpnb6"}],["path",{d:"M20 15v2h-2",key:"fph276"}],["path",{d:"M4 19.5V15",key:"6gr39e"}],["path",{d:"M20 8v3",key:"deu0bs"}],["path",{d:"M18 2h2v2",key:"180o53"}],["path",{d:"M4 11V9",key:"v3xsx8"}],["path",{d:"M12 2h2",key:"cvn524"}],["path",{d:"M12 22h2",key:"kn7ki6"}],["path",{d:"M12 17h2",key:"13u4lk"}],["path",{d:"M8 22H6.5a2.5 2.5 0 0 1 0-5H8",key:"fiseg2"}],["path",{d:"M4 5v-.5A2.5 2.5 0 0 1 6.5 2H8",key:"wywhs9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=K("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=K("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=K("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=K("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=K("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=K("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=K("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=K("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=K("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=K("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=K("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=K("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=K("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=K("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=K("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=K("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=K("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=K("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=K("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=K("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=K("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),C0=t=>{let e;const n=new Set,r=(u,c)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const f=e;e=c??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},s=()=>e,o={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,s,o);return o},DM=t=>t?C0(t):C0,LM=t=>t;function $M(t,e=LM){const n=Ss.useSyncExternalStore(t.subscribe,Ss.useCallback(()=>e(t.getState()),[t,e]),Ss.useCallback(()=>e(t.getInitialState()),[t,e]));return Ss.useDebugValue(n),n}const FM=t=>{const e=DM(t),n=r=>$M(e,r);return Object.assign(n,e),n},VM=t=>FM;function BM(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=n.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const sh=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return sh(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return sh(r)(n)}}}},UM=(t,e)=>(n,r,s)=>{let i={storage:BM(()=>localStorage),partialize:v=>v,version:0,merge:(v,S)=>({...S,...v}),...e},a=!1;const o=new Set,l=new Set;let u=i.storage;if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const c=()=>{const v=i.partialize({...r()});return u.setItem(i.name,{state:v,version:i.version})},d=s.setState;s.setState=(v,S)=>(d(v,S),c());const f=t((...v)=>(n(...v),c()),r,s);s.getInitialState=()=>f;let h;const w=()=>{var v,S;if(!u)return;a=!1,o.forEach(p=>{var y;return p((y=r())!=null?y:f)});const g=((S=i.onRehydrateStorage)==null?void 0:S.call(i,(v=r())!=null?v:f))||void 0;return sh(u.getItem.bind(u))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate){const y=i.migrate(p.state,p.version);return y instanceof Promise?y.then(x=>[!0,x]):[!0,y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var y;const[x,_]=p;if(h=i.merge(_,(y=r())!=null?y:f),n(h,!0),x)return c()}).then(()=>{g==null||g(h,void 0),h=r(),a=!0,l.forEach(p=>p(h))}).catch(p=>{g==null||g(void 0,p)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||w(),h||f},zM=UM,WM={id:"default",name:"Default Persona",niche:"Technology & Innovation",targetAudience:"Entrepreneurs, startup founders, tech enthusiasts",tone:"professional",topics:["AI","startups","productivity","innovation"],maxDailyPosts:5,isActive:!0,defaultLanguage:"en",platformLanguages:{}},HM={autoPostDiscovery:!0,aiImageSynthesis:!0,smartScheduling:!1,autoEngagement:!1},qM=[{platform:"instagram",isConnected:!1},{platform:"twitter",isConnected:!1},{platform:"linkedin",isConnected:!1},{platform:"tiktok",isConnected:!1}],E0={anthropic:"",openai:"",gemini:""},KM={monthlyBudget:0,currency:"USD",allocations:[{category:"content_boost",percentage:30,amount:0,priority:"high"},{category:"ad_campaigns",percentage:25,amount:0,priority:"high"},{category:"influencer_collab",percentage:15,amount:0,priority:"medium"},{category:"tools_software",percentage:10,amount:0,priority:"medium"},{category:"content_creation",percentage:10,amount:0,priority:"medium"},{category:"analytics_insights",percentage:5,amount:0,priority:"low"},{category:"reserve",percentage:5,amount:0,priority:"low"}],optimizationMode:"balanced",autoOptimize:!0},GM={balanced:{content_boost:30,ad_campaigns:25,influencer_collab:15,tools_software:10,content_creation:10,analytics_insights:5,reserve:5},growth:{content_boost:35,ad_campaigns:30,influencer_collab:20,tools_software:5,content_creation:5,analytics_insights:3,reserve:2},engagement:{content_boost:40,ad_campaigns:15,influencer_collab:25,tools_software:5,content_creation:8,analytics_insights:5,reserve:2},reach:{content_boost:25,ad_campaigns:40,influencer_collab:20,tools_software:5,content_creation:5,analytics_insights:3,reserve:2}},Ge=VM()(zM(t=>({isAuthenticated:!1,login:async e=>(t({isAuthenticated:!0}),!0),logout:()=>t({isAuthenticated:!1}),activeView:"dashboard",setActiveView:e=>t({activeView:e}),theme:"dark",setTheme:e=>t({theme:e}),apiKeys:E0,setApiKey:(e,n)=>t(r=>({apiKeys:{...r.apiKeys,[e]:n}})),clearApiKeys:()=>t({apiKeys:E0}),user:null,persona:WM,setUser:e=>t({user:e}),setPersona:e=>t({persona:e}),updatePersona:e=>t(n=>({persona:n.persona?{...n.persona,...e}:null})),trends:[],setTrends:e=>t({trends:e}),addTrend:e=>t(n=>({trends:[e,...n.trends]})),posts:[],setPosts:e=>t({posts:e}),addPost:e=>t(n=>({posts:[e,...n.posts]})),updatePost:(e,n)=>t(r=>({posts:r.posts.map(s=>s.id===e?{...s,...n}:s)})),deletePost:e=>t(n=>({posts:n.posts.filter(r=>r.id!==e)})),activities:[],addActivity:e=>t(n=>({activities:[e,...n.activities].slice(0,50)})),clearActivities:()=>t({activities:[]}),automationSettings:HM,updateAutomationSettings:e=>t(n=>({automationSettings:{...n.automationSettings,...e}})),platformCredentials:qM,updatePlatformCredential:(e,n)=>t(r=>({platformCredentials:r.platformCredentials.map(s=>s.platform===e?{...s,...n}:s)})),isLoading:!1,setIsLoading:e=>t({isLoading:e}),notifications:[],addNotification:e=>t(n=>({notifications:[...n.notifications,{...e,id:crypto.randomUUID()}]})),removeNotification:e=>t(n=>({notifications:n.notifications.filter(r=>r.id!==e)})),persistentNotifications:[],addPersistentNotification:e=>t(n=>({persistentNotifications:[{...e,id:crypto.randomUUID(),timestamp:new Date().toISOString(),read:!1},...n.persistentNotifications].slice(0,50)})),markNotificationRead:e=>t(n=>({persistentNotifications:n.persistentNotifications.map(r=>r.id===e?{...r,read:!0}:r)})),markAllNotificationsRead:()=>t(e=>({persistentNotifications:e.persistentNotifications.map(n=>({...n,read:!0}))})),clearAllNotifications:()=>t({persistentNotifications:[]}),templates:[],addTemplate:e=>t(n=>({templates:[e,...n.templates]})),updateTemplate:(e,n)=>t(r=>({templates:r.templates.map(s=>s.id===e?{...s,...n,updatedAt:new Date().toISOString()}:s)})),deleteTemplate:e=>t(n=>({templates:n.templates.filter(r=>r.id!==e)})),incrementTemplateUsage:e=>t(n=>({templates:n.templates.map(r=>r.id===e?{...r,usageCount:r.usageCount+1}:r)})),hashtagCollections:[],addHashtagCollection:e=>t(n=>({hashtagCollections:[e,...n.hashtagCollections]})),updateHashtagCollection:(e,n)=>t(r=>({hashtagCollections:r.hashtagCollections.map(s=>s.id===e?{...s,...n}:s)})),deleteHashtagCollection:e=>t(n=>({hashtagCollections:n.hashtagCollections.filter(r=>r.id!==e)})),incrementHashtagCollectionUsage:e=>t(n=>({hashtagCollections:n.hashtagCollections.map(r=>r.id===e?{...r,usageCount:r.usageCount+1}:r)})),mediaItems:[],mediaFolders:[],addMediaItem:e=>t(n=>({mediaItems:[e,...n.mediaItems]})),updateMediaItem:(e,n)=>t(r=>({mediaItems:r.mediaItems.map(s=>s.id===e?{...s,...n}:s)})),deleteMediaItem:e=>t(n=>({mediaItems:n.mediaItems.filter(r=>r.id!==e)})),addMediaFolder:e=>t(n=>({mediaFolders:[e,...n.mediaFolders]})),updateMediaFolder:(e,n)=>t(r=>({mediaFolders:r.mediaFolders.map(s=>s.id===e?{...s,...n}:s)})),deleteMediaFolder:e=>t(n=>({mediaFolders:n.mediaFolders.filter(r=>r.id!==e),mediaItems:n.mediaItems.map(r=>r.folderId===e?{...r,folderId:void 0}:r)})),draftInProgress:null,saveDraftInProgress:e=>t({draftInProgress:e}),clearDraftInProgress:()=>t({draftInProgress:null}),recentlyUsedTemplates:[],recentlyUsedHashtagCollections:[],addRecentlyUsedTemplate:e=>t(n=>({recentlyUsedTemplates:[e,...n.recentlyUsedTemplates.filter(r=>r!==e)].slice(0,5)})),addRecentlyUsedHashtagCollection:e=>t(n=>({recentlyUsedHashtagCollections:[e,...n.recentlyUsedHashtagCollections.filter(r=>r!==e)].slice(0,5)})),isAutonomousModeActive:!0,emergencyStopTriggeredAt:null,triggerEmergencyStop:()=>t(e=>({isAutonomousModeActive:!1,emergencyStopTriggeredAt:new Date().toISOString(),automationSettings:{...e.automationSettings,autoPostDiscovery:!1,aiImageSynthesis:!1,smartScheduling:!1,autoEngagement:!1}})),resumeAutonomousMode:()=>t({isAutonomousModeActive:!0,emergencyStopTriggeredAt:null}),budgetConfig:KM,budgetSpends:[],setBudgetConfig:e=>t(n=>({budgetConfig:{...n.budgetConfig,...e}})),setMonthlyBudget:e=>t(n=>({budgetConfig:{...n.budgetConfig,monthlyBudget:e,allocations:n.budgetConfig.allocations.map(r=>({...r,amount:r.percentage/100*e}))}})),updateAllocation:(e,n)=>t(r=>{const s=r.budgetConfig.allocations.map(i=>i.category===e?{...i,percentage:n,amount:n/100*r.budgetConfig.monthlyBudget}:i);return{budgetConfig:{...r.budgetConfig,allocations:s}}}),addBudgetSpend:e=>t(n=>({budgetSpends:[e,...n.budgetSpends]})),deleteBudgetSpend:e=>t(n=>({budgetSpends:n.budgetSpends.filter(r=>r.id!==e)})),optimizeBudget:e=>t(n=>{const r=GM[e],s=n.budgetConfig.allocations.map(i=>({...i,percentage:r[i.category],amount:r[i.category]/100*n.budgetConfig.monthlyBudget}));return{budgetConfig:{...n.budgetConfig,optimizationMode:e,allocations:s}}}),setDefaultLanguage:e=>t(n=>({persona:n.persona?{...n.persona,defaultLanguage:e}:null})),setPlatformLanguage:(e,n)=>t(r=>{if(!r.persona)return{};const s={...r.persona.platformLanguages||{}};return n===null?delete s[e]:s[e]=n,{persona:{...r.persona,platformLanguages:s}}}),errorState:{errors:[],lastError:null,isRecoveryMode:!1},addError:e=>t(n=>{const r=Date.now();if(n.errorState.errors.some(a=>a.message===e.message&&r-new Date(a.timestamp).getTime()<5e3))return console.warn("[SOCI-ERR] Duplicate error suppressed:",e.message),{};const i={id:crypto.randomUUID(),message:e.message,stack:e.stack,source:e.source,timestamp:new Date().toISOString(),resolved:!1};return console.error("[SOCI-ERR]",i.message,e.stack||""),{errorState:{...n.errorState,errors:[i,...n.errorState.errors].slice(0,20),lastError:i}}}),clearErrors:()=>t(e=>({errorState:{...e.errorState,errors:[],lastError:null}})),resolveError:e=>t(n=>({errorState:{...n.errorState,errors:n.errorState.errors.map(r=>r.id===e?{...r,resolved:!0}:r)}})),setRecoveryMode:e=>t(n=>({errorState:{...n.errorState,isRecoveryMode:e}}))}),{name:"soci-storage-v2",partialize:t=>({isAuthenticated:t.isAuthenticated,persona:t.persona,automationSettings:t.automationSettings,platformCredentials:t.platformCredentials,posts:t.posts,apiKeys:t.apiKeys,theme:t.theme,persistentNotifications:t.persistentNotifications,templates:t.templates,hashtagCollections:t.hashtagCollections,mediaItems:t.mediaItems,mediaFolders:t.mediaFolders,draftInProgress:t.draftInProgress,recentlyUsedTemplates:t.recentlyUsedTemplates,recentlyUsedHashtagCollections:t.recentlyUsedHashtagCollections,isAutonomousModeActive:t.isAutonomousModeActive,emergencyStopTriggeredAt:t.emergencyStopTriggeredAt,budgetConfig:t.budgetConfig,budgetSpends:t.budgetSpends})}));function aD(t){var r;const e=Ge.getState();if(!e.persona)return"en";const n=(r=e.persona.platformLanguages)==null?void 0:r[t];return n||e.persona.defaultLanguage||"en"}const us=[{id:"light",icon:lS,label:"Light"},{id:"dark",icon:iS,label:"Dark"},{id:"system",icon:MM,label:"System"}];function XM({variant:t="full"}){const{theme:e,setTheme:n}=Ge();if(t==="compact"){const r=us.findIndex(i=>i.id===e),s=us[r].icon;return m.jsx("button",{onClick:()=>{const i=(r+1)%us.length;n(us[i].id)},className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",title:`Current: ${us[r].label}. Click to switch.`,children:m.jsx(s,{size:18})})}return m.jsx("div",{className:"flex items-center gap-1 p-1 rounded-xl bg-white/5 border border-glass-border",children:us.map(({id:r,icon:s,label:i})=>{const a=e===r;return m.jsxs("button",{onClick:()=>n(r),className:`
              relative flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium
              transition-colors
              ${a?"text-white":"text-gray-500 hover:text-gray-300"}
            `,title:i,children:[a&&m.jsx(pe.div,{layoutId:"themeToggleBg",className:"absolute inset-0 rounded-lg bg-primary/20 border border-primary/30",transition:{type:"spring",stiffness:300,damping:30}}),m.jsx("span",{className:"relative z-10",children:m.jsx(s,{size:16})}),m.jsx("span",{className:"relative z-10 hidden sm:inline",children:i})]},r)})})}const oD=6048e5,lD=864e5,uD=6e4,cD=36e5,Qo=43200,T0=1440,P0=Symbol.for("constructDateFrom");function fp(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&P0 in t?t[P0](e):t instanceof Date?new t.constructor(e):new Date(e)}function yr(t,e){return fp(e||t,t)}let QM={};function YM(){return QM}function A0(t){const e=yr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function hp(t,...e){const n=fp.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Ll(t,e){const n=+yr(t)-+yr(e);return n<0?-1:n>0?1:n}function JM(t){return fp(t,Date.now())}function ZM(t,e,n){const[r,s]=hp(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),a=r.getMonth()-s.getMonth();return i*12+a}function eN(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function tN(t,e){return+yr(t)-+yr(e)}function nN(t,e){const n=yr(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function rN(t,e){const n=yr(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function sN(t,e){const n=yr(t,e==null?void 0:e.in);return+nN(n,e)==+rN(n,e)}function iN(t,e,n){const[r,s,i]=hp(n==null?void 0:n.in,t,t,e),a=Ll(s,i),o=Math.abs(ZM(s,i));if(o<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*o);let l=Ll(s,i)===-a;sN(r)&&o===1&&Ll(r,i)===1&&(l=!1);const u=a*(o-+l);return u===0?0:u}function aN(t,e,n){const r=tN(t,e)/1e3;return eN(n==null?void 0:n.roundingMethod)(r)}const oN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lN=(t,e,n)=>{let r;const s=oN[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const uN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fN={date:gd({formats:uN,defaultWidth:"full"}),time:gd({formats:cN,defaultWidth:"full"}),dateTime:gd({formats:dN,defaultWidth:"full"})},hN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mN=(t,e,n,r)=>hN[t];function Mi(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const pN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_N=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},SN={ordinalNumber:_N,era:Mi({values:pN,defaultWidth:"wide"}),quarter:Mi({values:gN,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mi({values:yN,defaultWidth:"wide"}),day:Mi({values:vN,defaultWidth:"wide"}),dayPeriod:Mi({values:wN,defaultWidth:"wide",formattingValues:xN,defaultFormattingWidth:"wide"})};function Ni(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?kN(o,d=>d.test(a)):bN(o,d=>d.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function bN(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function kN(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function CN(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const EN=/^(\d+)(th|st|nd|rd)?/i,TN=/\d+/i,PN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AN={any:[/^b/i,/^(a|c)/i]},RN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MN={any:[/1/i,/2/i,/3/i,/4/i]},NN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ON={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$N={ordinalNumber:CN({matchPattern:EN,parsePattern:TN,valueCallback:t=>parseInt(t,10)}),era:Ni({matchPatterns:PN,defaultMatchWidth:"wide",parsePatterns:AN,defaultParseWidth:"any"}),quarter:Ni({matchPatterns:RN,defaultMatchWidth:"wide",parsePatterns:MN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ni({matchPatterns:NN,defaultMatchWidth:"wide",parsePatterns:IN,defaultParseWidth:"any"}),day:Ni({matchPatterns:ON,defaultMatchWidth:"wide",parsePatterns:jN,defaultParseWidth:"any"}),dayPeriod:Ni({matchPatterns:DN,defaultMatchWidth:"any",parsePatterns:LN,defaultParseWidth:"any"})},FN={code:"en-US",formatDistance:lN,formatLong:fN,formatRelative:mN,localize:SN,match:$N,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VN(t,e,n){const r=YM(),s=(n==null?void 0:n.locale)??r.locale??FN,i=2520,a=Ll(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a}),[l,u]=hp(n==null?void 0:n.in,...a>0?[e,t]:[t,e]),c=aN(u,l),d=(A0(u)-A0(l))/1e3,f=Math.round((c-d)/60);let h;if(f<2)return n!=null&&n.includeSeconds?c<5?s.formatDistance("lessThanXSeconds",5,o):c<10?s.formatDistance("lessThanXSeconds",10,o):c<20?s.formatDistance("lessThanXSeconds",20,o):c<40?s.formatDistance("halfAMinute",0,o):c<60?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",1,o):f===0?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",f,o);if(f<45)return s.formatDistance("xMinutes",f,o);if(f<90)return s.formatDistance("aboutXHours",1,o);if(f<T0){const w=Math.round(f/60);return s.formatDistance("aboutXHours",w,o)}else{if(f<i)return s.formatDistance("xDays",1,o);if(f<Qo){const w=Math.round(f/T0);return s.formatDistance("xDays",w,o)}else if(f<Qo*2)return h=Math.round(f/Qo),s.formatDistance("aboutXMonths",h,o)}if(h=iN(u,l),h<12){const w=Math.round(f/Qo);return s.formatDistance("xMonths",w,o)}else{const w=h%12,v=Math.trunc(h/12);return w<3?s.formatDistance("aboutXYears",v,o):w<9?s.formatDistance("overXYears",v,o):s.formatDistance("almostXYears",v+1,o)}}function BN(t,e){return VN(t,JM(t),e)}const UN={post:dc,trend:fc,schedule:ip,system:up},zN={success:"bg-success/10 border-success/20 text-success",warning:"bg-warning/10 border-warning/20 text-warning",info:"bg-primary/10 border-primary/20 text-primary",alert:"bg-critical/10 border-critical/20 text-critical"};function WN({isOpen:t,onClose:e}){const{persistentNotifications:n,markNotificationRead:r,markAllNotificationsRead:s,clearAllNotifications:i,setActiveView:a}=Ge(),o=n.filter(u=>!u.read).length,l=u=>{r(u.id),u.actionUrl&&(u.category==="post"?a("drafts"):u.category==="trend"?a("trends"):u.category==="schedule"&&a("drafts")),e()};return m.jsx(gr,{children:t&&m.jsxs(m.Fragment,{children:[m.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:e}),m.jsxs(pe.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},transition:{type:"spring",damping:25,stiffness:300},className:"fixed right-0 top-0 h-full w-full max-w-md glass-panel border-l border-glass-border z-50 flex flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-glass-border",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-primary/20",children:m.jsx(Tu,{size:20,className:"text-primary"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-semibold text-white",children:"Notifications"}),m.jsx("p",{className:"text-xs text-gray-500",children:o>0?`${o} unread`:"All caught up"})]})]}),m.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-white/5 transition-colors",children:m.jsx(fi,{size:20,className:"text-gray-400"})})]}),n.length>0&&m.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-glass-border bg-white/5",children:[m.jsx("button",{onClick:s,className:"text-xs text-primary hover:text-primary-light transition-colors",children:"Mark all as read"}),m.jsxs("button",{onClick:i,className:"text-xs text-gray-500 hover:text-critical transition-colors flex items-center gap-1",children:[m.jsx(uS,{size:12}),"Clear all"]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[m.jsx("div",{className:"p-4 rounded-full bg-white/5 mb-4",children:m.jsx(Tu,{size:32,className:"text-gray-600"})}),m.jsx("p",{className:"text-gray-400 font-medium",children:"No notifications yet"}),m.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"We'll notify you about important updates"})]}):m.jsx("div",{className:"divide-y divide-glass-border",children:n.map(u=>{const c=UN[u.category];return m.jsx(pe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>l(u),className:`w-full p-4 text-left hover:bg-white/5 transition-colors ${u.read?"":"bg-primary/5"}`,children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:`p-2 rounded-lg shrink-0 ${zN[u.type]}`,children:m.jsx(c,{size:16})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsx("p",{className:`text-sm font-medium ${u.read?"text-gray-400":"text-white"}`,children:u.title}),!u.read&&m.jsx("span",{className:"w-2 h-2 rounded-full bg-primary shrink-0 mt-1.5"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:u.message}),m.jsx("p",{className:"text-xs text-gray-600 mt-2",children:BN(new Date(u.timestamp),{addSuffix:!0})})]})]})},u.id)})})})]})]})})}function HN({onClick:t}){const n=Ge(r=>r.persistentNotifications).filter(r=>!r.read).length;return m.jsxs("button",{onClick:t,className:"relative p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[m.jsx(Tu,{size:20,className:"text-gray-400"}),n>0&&m.jsx(pe.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 flex items-center justify-center bg-critical text-white text-[10px] font-bold rounded-full",children:n>9?"9+":n})]})}function cS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=cS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Me(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=cS(t))&&(r&&(r+=" "),r+=e);return r}function L(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function E(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let dS=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return dS=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Za(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const ih=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class q extends Error{}let kt=class ah extends q{constructor(e,n,r,s){super(`${ah.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.requestID=s==null?void 0:s.get("request-id"),this.error=n}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new hc({message:r,cause:ih(n)});const i=n;return e===400?new hS(e,i,r,s):e===401?new mS(e,i,r,s):e===403?new pS(e,i,r,s):e===404?new gS(e,i,r,s):e===409?new yS(e,i,r,s):e===422?new vS(e,i,r,s):e===429?new wS(e,i,r,s):e>=500?new xS(e,i,r,s):new ah(e,i,r,s)}},Xt=class extends kt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},hc=class extends kt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},fS=class extends hc{constructor({message:e}={}){super({message:e??"Request timed out."})}},hS=class extends kt{},mS=class extends kt{},pS=class extends kt{},gS=class extends kt{},yS=class extends kt{},vS=class extends kt{},wS=class extends kt{},xS=class extends kt{};const qN=/^[a-z][a-z0-9+.-]*:/i,KN=t=>qN.test(t);let oh=t=>(oh=Array.isArray,oh(t)),R0=oh;function lh(t){return typeof t!="object"?{}:t??{}}function GN(t){if(!t)return!0;for(const e in t)return!1;return!0}function XN(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const QN=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new q(`${t} must be an integer`);if(e<0)throw new q(`${t} must be a positive integer`);return e},_S=t=>{try{return JSON.parse(t)}catch{return}},YN=t=>new Promise(e=>setTimeout(e,t)),gs="0.71.2",JN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function ZN(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const eI=()=>{var n;const t=ZN();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gs,"X-Stainless-OS":N0(Deno.build.os),"X-Stainless-Arch":M0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gs,"X-Stainless-OS":N0(globalThis.process.platform??"unknown"),"X-Stainless-Arch":M0(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=tI();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function tI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:e,version:`${s}.${i}.${a}`}}}return null}const M0=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",N0=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let I0;const nI=()=>I0??(I0=eI());function rI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function SS(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function bS(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return SS({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)==null?void 0:n.call(e))}})}function mp(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function sI(t){var r,s;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((s=(r=t[Symbol.asyncIterator]()).return)==null?void 0:s.call(r));return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const iI=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});function aI(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let O0;function pp(t){let e;return(O0??(e=new globalThis.TextEncoder,O0=e.encode.bind(e)))(t)}let j0;function D0(t){let e;return(j0??(e=new globalThis.TextDecoder,j0=e.decode.bind(e)))(t)}var ht,mt;let yo=class{constructor(){ht.set(this,void 0),mt.set(this,void 0),L(this,ht,new Uint8Array),L(this,mt,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?pp(e):e;L(this,ht,aI([E(this,ht,"f"),n]));const r=[];let s;for(;(s=oI(E(this,ht,"f"),E(this,mt,"f")))!=null;){if(s.carriage&&E(this,mt,"f")==null){L(this,mt,s.index);continue}if(E(this,mt,"f")!=null&&(s.index!==E(this,mt,"f")+1||s.carriage)){r.push(D0(E(this,ht,"f").subarray(0,E(this,mt,"f")-1))),L(this,ht,E(this,ht,"f").subarray(E(this,mt,"f"))),L(this,mt,null);continue}const i=E(this,mt,"f")!==null?s.preceding-1:s.preceding,a=D0(E(this,ht,"f").subarray(0,i));r.push(a),L(this,ht,E(this,ht,"f").subarray(s.index)),L(this,mt,null)}return r}flush(){return E(this,ht,"f").length?this.decode(`
`):[]}};ht=new WeakMap,mt=new WeakMap;yo.NEWLINE_CHARS=new Set([`
`,"\r"]);yo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function oI(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function lI(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const Pu={off:0,error:200,warn:300,info:400,debug:500},L0=(t,e,n)=>{if(t){if(XN(Pu,t))return t;Ye(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Pu))}`)}};function ea(){}function Yo(t,e,n){return!e||Pu[t]>Pu[n]?ea:e[t].bind(e)}const uI={error:ea,warn:ea,info:ea,debug:ea};let $0=new WeakMap;function Ye(t){const e=t.logger,n=t.logLevel??"off";if(!e)return uI;const r=$0.get(e);if(r&&r[0]===n)return r[1];const s={error:Yo("error",e,n),warn:Yo("warn",e,n),info:Yo("info",e,n),debug:Yo("debug",e,n)};return $0.set(e,[n,s]),s}const Mr=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Ii;let eo=class ta{constructor(e,n,r){this.iterator=e,Ii.set(this,void 0),this.controller=n,L(this,Ii,r)}static fromSSEResponse(e,n,r){let s=!1;const i=r?Ye(r):console;async function*a(){if(s)throw new q("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of cI(e,n)){if(l.event==="completion")try{yield JSON.parse(l.data)}catch(u){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),u}if(l.event==="message_start"||l.event==="message_delta"||l.event==="message_stop"||l.event==="content_block_start"||l.event==="content_block_delta"||l.event==="content_block_stop")try{yield JSON.parse(l.data)}catch(u){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),u}if(l.event!=="ping"&&l.event==="error")throw new kt(void 0,_S(l.data)??l.data,void 0,e.headers)}o=!0}catch(l){if(Za(l))return;throw l}finally{o||n.abort()}}return new ta(a,n,r)}static fromReadableStream(e,n,r){let s=!1;async function*i(){const o=new yo,l=mp(e);for await(const u of l)for(const c of o.decode(u))yield c;for(const u of o.flush())yield u}async function*a(){if(s)throw new q("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of i())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(Za(l))return;throw l}finally{o||n.abort()}}return new ta(a,n,r)}[(Ii=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();e.push(a),n.push(a)}return i.shift()}});return[new ta(()=>s(e),this.controller,E(this,Ii,"f")),new ta(()=>s(n),this.controller,E(this,Ii,"f"))]}toReadableStream(){const e=this;let n;return SS({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const a=pp(JSON.stringify(s)+`
`);r.enqueue(a)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}};async function*cI(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new q("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new q("Attempted to iterate over a response with no body");const n=new fI,r=new yo,s=mp(t.body);for await(const i of dI(s))for(const a of r.decode(i)){const o=n.decode(a);o&&(yield o)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*dI(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?pp(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=lI(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}let fI=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=hI(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}};function hI(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function kS(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=e,a=await(async()=>{var d;if(e.options.stream)return Ye(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller):eo.fromSSEResponse(n,e.controller);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const o=n.headers.get("content-type"),l=(d=o==null?void 0:o.split(";")[0])==null?void 0:d.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const f=await n.json();return CS(f,n)}return await n.text()})();return Ye(t).debug(`[${r}] response parsed`,Mr({retryOfRequestLogID:s,url:n.url,status:n.status,body:a,durationMs:Date.now()-i})),a}function CS(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("request-id"),enumerable:!1})}var na;let ES=class TS extends Promise{constructor(e,n,r=kS){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,na.set(this,void 0),L(this,na,e)}_thenUnwrap(e){return new TS(E(this,na,"f"),this.responsePromise,async(n,r)=>CS(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(E(this,na,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};na=new WeakMap;var Jo;let PS=class{constructor(e,n,r,s){Jo.set(this,void 0),L(this,Jo,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new q("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await E(this,Jo,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Jo=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}},mI=class extends ES{constructor(e,n,r){super(e,n,async(s,i)=>new r(s,i.response,await kS(s,i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}},vo=class extends PS{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.first_id=r.first_id||null,this.last_id=r.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var n;if((n=this.options.query)!=null&&n.before_id){const r=this.first_id;return r?{...this.options,query:{...lh(this.options.query),before_id:r}}:null}const e=this.last_id;return e?{...this.options,query:{...lh(this.options.query),after_id:e}}:null}};class AS extends PS{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.next_page=r.next_page||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.next_page;return e?{...this.options,query:{...lh(this.options.query),page:e}}:null}}const RS=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)==null?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Gs(t,e,n){return RS(),new File(t,e??"unknown_file",n)}function $l(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const MS=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",gp=async(t,e)=>({...t,body:await gI(t.body,e)}),F0=new WeakMap;function pI(t){const e=typeof t=="function"?t:t.fetch,n=F0.get(e);if(n)return n;const r=(async()=>{try{const s="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new s(i).text()}catch{return!0}})();return F0.set(e,r),r}const gI=async(t,e)=>{if(!await pI(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,s])=>uh(n,r,s))),n},yI=t=>t instanceof Blob&&"name"in t,uh=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response){let r={};const s=n.headers.get("Content-Type");s&&(r={type:s}),t.append(e,Gs([await n.blob()],$l(n),r))}else if(MS(n))t.append(e,Gs([await new Response(bS(n)).blob()],$l(n)));else if(yI(n))t.append(e,Gs([n],$l(n),{type:n.type}));else if(Array.isArray(n))await Promise.all(n.map(r=>uh(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>uh(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},NS=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",vI=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&NS(t),wI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function xI(t,e,n){if(RS(),t=await t,e||(e=$l(t)),vI(t))return t instanceof File&&e==null&&n==null?t:Gs([await t.arrayBuffer()],e??t.name,{type:t.type,lastModified:t.lastModified,...n});if(wI(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Gs(await ch(s),e,n)}const r=await ch(t);if(!(n!=null&&n.type)){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n={...n,type:s})}return Gs(r,e,n)}async function ch(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(NS(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(MS(t))for await(const r of t)e.push(...await ch(r));else{const r=(n=t==null?void 0:t.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${_I(t)}`)}return e}function _I(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let Zt=class{constructor(e){this._client=e}};const IS=Symbol.for("brand.privateNullableHeaders");function*SI(t){if(!t)return;if(IS in t){const{values:r,nulls:s}=t;yield*r.entries();for(const i of s)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():R0(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=R0(r[1])?r[1]:[r[1]];let a=!1;for(const o of i)o!==void 0&&(e&&!a&&(a=!0,yield[s,null]),yield[s,o])}}const J=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[i,a]of SI(r)){const o=i.toLowerCase();s.has(o)||(e.delete(i),s.add(o)),a===null?(e.delete(i),n.add(o)):(e.append(i,a),n.delete(o))}}return{[IS]:!0,values:e,nulls:n}};function OS(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const V0=Object.freeze(Object.create(null)),bI=(t=OS)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],a=n.reduce((c,d,f)=>{var v;/[?#]/.test(d)&&(s=!0);const h=r[f];let w=(s?encodeURIComponent:t)(""+h);return f!==r.length&&(h==null||typeof h=="object"&&h.toString===((v=Object.getPrototypeOf(Object.getPrototypeOf(h.hasOwnProperty??V0)??V0))==null?void 0:v.toString))&&(w=h+"",i.push({start:c.length+d.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(h).slice(8,-1)} is not a valid path parameter`})),c+d+(f===r.length?"":w)},""),o=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(o))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((c,d)=>c.start-d.start),i.length>0){let c=0;const d=i.reduce((f,h)=>{const w=" ".repeat(h.start-c),v="^".repeat(h.length);return c=h.start+h.length,f+w+v},"");throw new q(`Path parameters result in path with invalid segments:
${i.map(f=>f.error).join(`
`)}
${a}
${d}`)}return a},Le=bI(OS);let jS=class extends Zt{list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/files",vo,{query:s,...n,headers:J([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n==null?void 0:n.headers])})}delete(e,n={},r){const{betas:s}=n??{};return this._client.delete(Le`/v1/files/${e}`,{...r,headers:J([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString()},r==null?void 0:r.headers])})}download(e,n={},r){const{betas:s}=n??{};return this._client.get(Le`/v1/files/${e}/content`,{...r,headers:J([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}retrieveMetadata(e,n={},r){const{betas:s}=n??{};return this._client.get(Le`/v1/files/${e}`,{...r,headers:J([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString()},r==null?void 0:r.headers])})}upload(e,n){const{betas:r,...s}=e;return this._client.post("/v1/files",gp({body:s,...n,headers:J([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n==null?void 0:n.headers])},this._client))}},DS=class extends Zt{retrieve(e,n={},r){const{betas:s}=n??{};return this._client.get(Le`/v1/models/${e}?beta=true`,{...r,headers:J([{...(s==null?void 0:s.toString())!=null?{"anthropic-beta":s==null?void 0:s.toString()}:void 0},r==null?void 0:r.headers])})}list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/models?beta=true",vo,{query:s,...n,headers:J([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers])})}};const LS={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};function B0(t,e,n){return!e||!("parse"in(e.output_format??{}))?{...t,content:t.content.map(r=>{if(r.type==="text"){const s=Object.defineProperty({...r},"parsed_output",{value:null,enumerable:!1});return Object.defineProperty(s,"parsed",{get(){return n.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),null},enumerable:!1})}return r}),parsed_output:null}:$S(t,e,n)}function $S(t,e,n){let r=null;const s=t.content.map(i=>{if(i.type==="text"){const a=kI(e,i.text);r===null&&(r=a);const o=Object.defineProperty({...i},"parsed_output",{value:a,enumerable:!1});return Object.defineProperty(o,"parsed",{get(){return n.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),a},enumerable:!1})}return i});return{...t,content:s,parsed_output:r}}function kI(t,e){var n;if(((n=t.output_format)==null?void 0:n.type)!=="json_schema")return null;try{return"parse"in t.output_format?t.output_format.parse(e):JSON.parse(e)}catch(r){throw new q(`Failed to parse structured output: ${r}`)}}const CI=t=>{let e=0,n=[];for(;e<t.length;){let r=t[e];if(r==="\\"){e++;continue}if(r==="{"){n.push({type:"brace",value:"{"}),e++;continue}if(r==="}"){n.push({type:"brace",value:"}"}),e++;continue}if(r==="["){n.push({type:"paren",value:"["}),e++;continue}if(r==="]"){n.push({type:"paren",value:"]"}),e++;continue}if(r===":"){n.push({type:"separator",value:":"}),e++;continue}if(r===","){n.push({type:"delimiter",value:","}),e++;continue}if(r==='"'){let o="",l=!1;for(r=t[++e];r!=='"';){if(e===t.length){l=!0;break}if(r==="\\"){if(e++,e===t.length){l=!0;break}o+=r+t[e],r=t[++e]}else o+=r,r=t[++e]}r=t[++e],l||n.push({type:"string",value:o});continue}if(r&&/\s/.test(r)){e++;continue}let i=/[0-9]/;if(r&&i.test(r)||r==="-"||r==="."){let o="";for(r==="-"&&(o+=r,r=t[++e]);r&&i.test(r)||r===".";)o+=r,r=t[++e];n.push({type:"number",value:o});continue}let a=/[a-z]/i;if(r&&a.test(r)){let o="";for(;r&&a.test(r)&&e!==t.length;)o+=r,r=t[++e];if(o=="true"||o=="false"||o==="null")n.push({type:"name",value:o});else{e++;continue}continue}e++}return n},ys=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),ys(t);case"number":let n=e.value[e.value.length-1];if(n==="."||n==="-")return t=t.slice(0,t.length-1),ys(t);case"string":let r=t[t.length-2];if((r==null?void 0:r.type)==="delimiter")return t=t.slice(0,t.length-1),ys(t);if((r==null?void 0:r.type)==="brace"&&r.value==="{")return t=t.slice(0,t.length-1),ys(t);break;case"delimiter":return t=t.slice(0,t.length-1),ys(t)}return t},EI=t=>{let e=[];return t.map(n=>{n.type==="brace"&&(n.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(n=>{n==="}"?t.push({type:"brace",value:"}"}):n==="]"&&t.push({type:"paren",value:"]"})}),t},TI=t=>{let e="";return t.map(n=>{switch(n.type){case"string":e+='"'+n.value+'"';break;default:e+=n.value;break}}),e},FS=t=>JSON.parse(TI(EI(ys(CI(t)))));var Ct,Ln,cs,Oi,Zo,ji,Di,el,Li,gn,$i,tl,nl,Cr,rl,sl,Fi,yd,U0,il,vd,wd,xd,z0;const W0="__json_buf";function H0(t){return t.type==="tool_use"||t.type==="server_tool_use"||t.type==="mcp_tool_use"}class Au{constructor(e,n){Ct.add(this),this.messages=[],this.receivedMessages=[],Ln.set(this,void 0),cs.set(this,null),this.controller=new AbortController,Oi.set(this,void 0),Zo.set(this,()=>{}),ji.set(this,()=>{}),Di.set(this,void 0),el.set(this,()=>{}),Li.set(this,()=>{}),gn.set(this,{}),$i.set(this,!1),tl.set(this,!1),nl.set(this,!1),Cr.set(this,!1),rl.set(this,void 0),sl.set(this,void 0),Fi.set(this,void 0),il.set(this,r=>{if(L(this,tl,!0),Za(r)&&(r=new Xt),r instanceof Xt)return L(this,nl,!0),this._emit("abort",r);if(r instanceof q)return this._emit("error",r);if(r instanceof Error){const s=new q(r.message);return s.cause=r,this._emit("error",s)}return this._emit("error",new q(String(r)))}),L(this,Oi,new Promise((r,s)=>{L(this,Zo,r,"f"),L(this,ji,s,"f")})),L(this,Di,new Promise((r,s)=>{L(this,el,r,"f"),L(this,Li,s,"f")})),E(this,Oi,"f").catch(()=>{}),E(this,Di,"f").catch(()=>{}),L(this,cs,e),L(this,Fi,(n==null?void 0:n.logger)??console)}get response(){return E(this,rl,"f")}get request_id(){return E(this,sl,"f")}async withResponse(){L(this,Cr,!0);const e=await E(this,Oi,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const n=new Au(null);return n._run(()=>n._fromReadableStream(e)),n}static createMessage(e,n,r,{logger:s}={}){const i=new Au(n,{logger:s});for(const a of n.messages)i._addMessageParam(a);return L(i,cs,{...n,stream:!0}),i._run(()=>i._createMessage(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},E(this,il,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,n=!0){this.receivedMessages.push(e),n&&this._emit("message",e)}async _createMessage(e,n,r){var a;const s=r==null?void 0:r.signal;let i;s&&(s.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),s.addEventListener("abort",i));try{E(this,Ct,"m",vd).call(this);const{response:o,data:l}=await e.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(o);for await(const u of l)E(this,Ct,"m",wd).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new Xt;E(this,Ct,"m",xd).call(this)}finally{s&&i&&s.removeEventListener("abort",i)}}_connected(e){this.ended||(L(this,rl,e),L(this,sl,e==null?void 0:e.headers.get("request-id")),E(this,Zo,"f").call(this,e),this._emit("connect"))}get ended(){return E(this,$i,"f")}get errored(){return E(this,tl,"f")}get aborted(){return E(this,nl,"f")}abort(){this.controller.abort()}on(e,n){return(E(this,gn,"f")[e]||(E(this,gn,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=E(this,gn,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(E(this,gn,"f")[e]||(E(this,gn,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{L(this,Cr,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){L(this,Cr,!0),await E(this,Di,"f")}get currentMessage(){return E(this,Ln,"f")}async finalMessage(){return await this.done(),E(this,Ct,"m",yd).call(this)}async finalText(){return await this.done(),E(this,Ct,"m",U0).call(this)}_emit(e,...n){if(E(this,$i,"f"))return;e==="end"&&(L(this,$i,!0),E(this,el,"f").call(this));const r=E(this,gn,"f")[e];if(r&&(E(this,gn,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!E(this,Cr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),E(this,ji,"f").call(this,s),E(this,Li,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!E(this,Cr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),E(this,ji,"f").call(this,s),E(this,Li,"f").call(this,s),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",E(this,Ct,"m",yd).call(this))}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;let s;r&&(r.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),r.addEventListener("abort",s));try{E(this,Ct,"m",vd).call(this),this._connected(null);const a=eo.fromReadableStream(e,this.controller);for await(const o of a)E(this,Ct,"m",wd).call(this,o);if((i=a.controller.signal)!=null&&i.aborted)throw new Xt;E(this,Ct,"m",xd).call(this)}finally{r&&s&&r.removeEventListener("abort",s)}}[(Ln=new WeakMap,cs=new WeakMap,Oi=new WeakMap,Zo=new WeakMap,ji=new WeakMap,Di=new WeakMap,el=new WeakMap,Li=new WeakMap,gn=new WeakMap,$i=new WeakMap,tl=new WeakMap,nl=new WeakMap,Cr=new WeakMap,rl=new WeakMap,sl=new WeakMap,Fi=new WeakMap,il=new WeakMap,Ct=new WeakSet,yd=function(){if(this.receivedMessages.length===0)throw new q("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},U0=function(){if(this.receivedMessages.length===0)throw new q("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new q("stream ended without producing a content block with type=text");return n.join(" ")},vd=function(){this.ended||L(this,Ln,void 0)},wd=function(n){if(this.ended)return;const r=E(this,Ct,"m",z0).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const s=r.content.at(-1);switch(n.delta.type){case"text_delta":{s.type==="text"&&this._emit("text",n.delta.text,s.text||"");break}case"citations_delta":{s.type==="text"&&this._emit("citation",n.delta.citation,s.citations??[]);break}case"input_json_delta":{H0(s)&&s.input&&this._emit("inputJson",n.delta.partial_json,s.input);break}case"thinking_delta":{s.type==="thinking"&&this._emit("thinking",n.delta.thinking,s.thinking);break}case"signature_delta":{s.type==="thinking"&&this._emit("signature",s.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(B0(r,E(this,cs,"f"),{logger:E(this,Fi,"f")}),!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{L(this,Ln,r);break}}},xd=function(){if(this.ended)throw new q("stream has ended, this shouldn't happen");const n=E(this,Ln,"f");if(!n)throw new q("request ended without sending any chunks");return L(this,Ln,void 0),B0(n,E(this,cs,"f"),{logger:E(this,Fi,"f")})},z0=function(n){let r=E(this,Ln,"f");if(n.type==="message_start"){if(r)throw new q(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new q(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.container=n.delta.container,r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,r.context_management=n.context_management,n.usage.input_tokens!=null&&(r.usage.input_tokens=n.usage.input_tokens),n.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=n.usage.cache_creation_input_tokens),n.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=n.usage.cache_read_input_tokens),n.usage.server_tool_use!=null&&(r.usage.server_tool_use=n.usage.server_tool_use),r;case"content_block_start":return r.content.push(n.content_block),r;case"content_block_delta":{const s=r.content.at(n.index);switch(n.delta.type){case"text_delta":{(s==null?void 0:s.type)==="text"&&(r.content[n.index]={...s,text:(s.text||"")+n.delta.text});break}case"citations_delta":{(s==null?void 0:s.type)==="text"&&(r.content[n.index]={...s,citations:[...s.citations??[],n.delta.citation]});break}case"input_json_delta":{if(s&&H0(s)){let i=s[W0]||"";i+=n.delta.partial_json;const a={...s};if(Object.defineProperty(a,W0,{value:i,enumerable:!1,writable:!0}),i)try{a.input=FS(i)}catch(o){const l=new q(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${o}. JSON: ${i}`);E(this,il,"f").call(this,l)}r.content[n.index]=a}break}case"thinking_delta":{(s==null?void 0:s.type)==="thinking"&&(r.content[n.index]={...s,thinking:s.thinking+n.delta.thinking});break}case"signature_delta":{(s==null?void 0:s.type)==="thinking"&&(r.content[n.index]={...s,signature:n.delta.signature});break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("streamEvent",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new eo(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const PI=1e5,AI=`You have been working on the task described above but have not yet completed it. Write a continuation summary that will allow you (or another instance of yourself) to resume work efficiently in a future context window where the conversation history will be replaced with this summary. Your summary should be structured, concise, and actionable. Include:
1. Task Overview
The user's core request and success criteria
Any clarifications or constraints they specified
2. Current State
What has been completed so far
Files created, modified, or analyzed (with paths if relevant)
Key outputs or artifacts produced
3. Important Discoveries
Technical constraints or requirements uncovered
Decisions made and their rationale
Errors encountered and how they were resolved
What approaches were tried that didn't work (and why)
4. Next Steps
Specific actions needed to complete the task
Any blockers or open questions to resolve
Priority order if multiple steps remain
5. Context to Preserve
User preferences or style requirements
Domain-specific details that aren't obvious
Any promises made to the user
Be concise but completeerr on the side of including information that would prevent duplicate work or repeated mistakes. Write in a way that enables immediate resumption of the task.
Wrap your summary in <summary></summary> tags.`;var Vi,ds,Er,Se,Bi,ft,kn,$n,Ui,q0,dh;function K0(){let t,e;return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}class VS{constructor(e,n,r){Vi.add(this),this.client=e,ds.set(this,!1),Er.set(this,!1),Se.set(this,void 0),Bi.set(this,void 0),ft.set(this,void 0),kn.set(this,void 0),$n.set(this,void 0),Ui.set(this,0),L(this,Se,{params:{...n,messages:structuredClone(n.messages)}}),L(this,Bi,{...r,headers:J([{"x-stainless-helper":"BetaToolRunner"},r==null?void 0:r.headers])}),L(this,$n,K0())}async*[(ds=new WeakMap,Er=new WeakMap,Se=new WeakMap,Bi=new WeakMap,ft=new WeakMap,kn=new WeakMap,$n=new WeakMap,Ui=new WeakMap,Vi=new WeakSet,q0=async function(){var u;const n=E(this,Se,"f").params.compactionControl;if(!n||!n.enabled)return!1;let r=0;if(E(this,ft,"f")!==void 0)try{const c=await E(this,ft,"f");r=c.usage.input_tokens+(c.usage.cache_creation_input_tokens??0)+(c.usage.cache_read_input_tokens??0)+c.usage.output_tokens}catch{return!1}const s=n.contextTokenThreshold??PI;if(r<s)return!1;const i=n.model??E(this,Se,"f").params.model,a=n.summaryPrompt??AI,o=E(this,Se,"f").params.messages;if(o[o.length-1].role==="assistant"){const c=o[o.length-1];if(Array.isArray(c.content)){const d=c.content.filter(f=>f.type!=="tool_use");d.length===0?o.pop():c.content=d}}const l=await this.client.beta.messages.create({model:i,messages:[...o,{role:"user",content:[{type:"text",text:a}]}],max_tokens:E(this,Se,"f").params.max_tokens},{headers:{"x-stainless-helper":"compaction"}});if(((u=l.content[0])==null?void 0:u.type)!=="text")throw new q("Expected text response for compaction");return E(this,Se,"f").params.messages=[{role:"user",content:l.content}],!0},Symbol.asyncIterator)](){var e;if(E(this,ds,"f"))throw new q("Cannot iterate over a consumed stream");L(this,ds,!0),L(this,Er,!0),L(this,kn,void 0);try{for(;;){let n;try{if(E(this,Se,"f").params.max_iterations&&E(this,Ui,"f")>=E(this,Se,"f").params.max_iterations)break;L(this,Er,!1,"f"),L(this,kn,void 0,"f"),L(this,Ui,(e=E(this,Ui,"f"),e++,e),"f"),L(this,ft,void 0,"f");const{max_iterations:r,compactionControl:s,...i}=E(this,Se,"f").params;if(i.stream?(n=this.client.beta.messages.stream({...i},E(this,Bi,"f")),L(this,ft,n.finalMessage(),"f"),E(this,ft,"f").catch(()=>{}),yield n):(L(this,ft,this.client.beta.messages.create({...i,stream:!1},E(this,Bi,"f")),"f"),yield E(this,ft,"f")),!await E(this,Vi,"m",q0).call(this)){if(!E(this,Er,"f")){const{role:l,content:u}=await E(this,ft,"f");E(this,Se,"f").params.messages.push({role:l,content:u})}const o=await E(this,Vi,"m",dh).call(this,E(this,Se,"f").params.messages.at(-1));if(o)E(this,Se,"f").params.messages.push(o);else if(!E(this,Er,"f"))break}}finally{n&&n.abort()}}if(!E(this,ft,"f"))throw new q("ToolRunner concluded without a message from the server");E(this,$n,"f").resolve(await E(this,ft,"f"))}catch(n){throw L(this,ds,!1),E(this,$n,"f").promise.catch(()=>{}),E(this,$n,"f").reject(n),L(this,$n,K0()),n}}setMessagesParams(e){typeof e=="function"?E(this,Se,"f").params=e(E(this,Se,"f").params):E(this,Se,"f").params=e,L(this,Er,!0),L(this,kn,void 0)}async generateToolResponse(){const e=await E(this,ft,"f")??this.params.messages.at(-1);return e?E(this,Vi,"m",dh).call(this,e):null}done(){return E(this,$n,"f").promise}async runUntilDone(){if(!E(this,ds,"f"))for await(const e of this);return this.done()}get params(){return E(this,Se,"f").params}pushMessages(...e){this.setMessagesParams(n=>({...n,messages:[...n.messages,...e]}))}then(e,n){return this.runUntilDone().then(e,n)}}dh=async function(e){return E(this,kn,"f")!==void 0?E(this,kn,"f"):(L(this,kn,RI(E(this,Se,"f").params,e)),E(this,kn,"f"))};async function RI(t,e=t.messages.at(-1)){if(!e||e.role!=="assistant"||!e.content||typeof e.content=="string")return null;const n=e.content.filter(s=>s.type==="tool_use");return n.length===0?null:{role:"user",content:await Promise.all(n.map(async s=>{const i=t.tools.find(a=>("name"in a?a.name:a.mcp_server_name)===s.name);if(!i||!("run"in i))return{type:"tool_result",tool_use_id:s.id,content:`Error: Tool '${s.name}' not found`,is_error:!0};try{let a=s.input;"parse"in i&&i.parse&&(a=i.parse(a));const o=await i.run(a);return{type:"tool_result",tool_use_id:s.id,content:o}}catch(a){return{type:"tool_result",tool_use_id:s.id,content:`Error: ${a instanceof Error?a.message:String(a)}`,is_error:!0}}}))}}class mc{constructor(e,n){this.iterator=e,this.controller=n}async*decoder(){const e=new yo;for await(const n of this.iterator)for(const r of e.decode(n))yield JSON.parse(r);for(const n of e.flush())yield JSON.parse(n)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,n){if(!e.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new q("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new q("Attempted to iterate over a response with no body");return new mc(mp(e.body),n)}}let BS=class extends Zt{create(e,n){const{betas:r,...s}=e;return this._client.post("/v1/messages/batches?beta=true",{body:s,...n,headers:J([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n==null?void 0:n.headers])})}retrieve(e,n={},r){const{betas:s}=n??{};return this._client.get(Le`/v1/messages/batches/${e}?beta=true`,{...r,headers:J([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r==null?void 0:r.headers])})}list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",vo,{query:s,...n,headers:J([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n==null?void 0:n.headers])})}delete(e,n={},r){const{betas:s}=n??{};return this._client.delete(Le`/v1/messages/batches/${e}?beta=true`,{...r,headers:J([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r==null?void 0:r.headers])})}cancel(e,n={},r){const{betas:s}=n??{};return this._client.post(Le`/v1/messages/batches/${e}/cancel?beta=true`,{...r,headers:J([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r==null?void 0:r.headers])})}async results(e,n={},r){const s=await this.retrieve(e);if(!s.results_url)throw new q(`No batch \`results_url\`; Has it finished processing? ${s.processing_status} - ${s.id}`);const{betas:i}=n??{};return this._client.get(s.results_url,{...r,headers:J([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},r==null?void 0:r.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((a,o)=>mc.fromResponse(o.response,o.controller))}};const G0={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"};let pc=class extends Zt{constructor(){super(...arguments),this.batches=new BS(this._client)}create(e,n){const{betas:r,...s}=e;s.model in G0&&console.warn(`The model '${s.model}' is deprecated and will reach end-of-life on ${G0[s.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let i=this._client._options.timeout;if(!s.stream&&i==null){const a=LS[s.model]??void 0;i=this._client.calculateNonstreamingTimeout(s.max_tokens,a)}return this._client.post("/v1/messages?beta=true",{body:s,timeout:i??6e5,...n,headers:J([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers]),stream:e.stream??!1})}parse(e,n){return n={...n,headers:J([{"anthropic-beta":[...e.betas??[],"structured-outputs-2025-11-13"].toString()},n==null?void 0:n.headers])},this.create(e,n).then(r=>$S(r,e,{logger:this._client.logger??console}))}stream(e,n){return Au.createMessage(this,e,n)}countTokens(e,n){const{betas:r,...s}=e;return this._client.post("/v1/messages/count_tokens?beta=true",{body:s,...n,headers:J([{"anthropic-beta":[...r??[],"token-counting-2024-11-01"].toString()},n==null?void 0:n.headers])})}toolRunner(e,n){return new VS(this._client,e,n)}};pc.Batches=BS;pc.BetaToolRunner=VS;class US extends Zt{create(e,n={},r){const{betas:s,...i}=n??{};return this._client.post(Le`/v1/skills/${e}/versions?beta=true`,gp({body:i,...r,headers:J([{"anthropic-beta":[...s??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])},this._client))}retrieve(e,n,r){const{skill_id:s,betas:i}=n;return this._client.get(Le`/v1/skills/${s}/versions/${e}?beta=true`,{...r,headers:J([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}list(e,n={},r){const{betas:s,...i}=n??{};return this._client.getAPIList(Le`/v1/skills/${e}/versions?beta=true`,AS,{query:i,...r,headers:J([{"anthropic-beta":[...s??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}delete(e,n,r){const{skill_id:s,betas:i}=n;return this._client.delete(Le`/v1/skills/${s}/versions/${e}?beta=true`,{...r,headers:J([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}}class yp extends Zt{constructor(){super(...arguments),this.versions=new US(this._client)}create(e={},n){const{betas:r,...s}=e??{};return this._client.post("/v1/skills?beta=true",gp({body:s,...n,headers:J([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])},this._client))}retrieve(e,n={},r){const{betas:s}=n??{};return this._client.get(Le`/v1/skills/${e}?beta=true`,{...r,headers:J([{"anthropic-beta":[...s??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/skills?beta=true",AS,{query:s,...n,headers:J([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])})}delete(e,n={},r){const{betas:s}=n??{};return this._client.delete(Le`/v1/skills/${e}?beta=true`,{...r,headers:J([{"anthropic-beta":[...s??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}}yp.Versions=US;let wi=class extends Zt{constructor(){super(...arguments),this.models=new DS(this._client),this.messages=new pc(this._client),this.files=new jS(this._client),this.skills=new yp(this._client)}};wi.Models=DS;wi.Messages=pc;wi.Files=jS;wi.Skills=yp;let zS=class extends Zt{create(e,n){const{betas:r,...s}=e;return this._client.post("/v1/complete",{body:s,timeout:this._client._options.timeout??6e5,...n,headers:J([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers]),stream:e.stream??!1})}};var Et,Fn,zi,al,Wi,Hi,ol,qi,yn,Ki,ll,ul,Tr,cl,dl,_d,X0,Sd,bd,kd,Cd,Q0;const Y0="__json_buf";function J0(t){return t.type==="tool_use"||t.type==="server_tool_use"}class Ru{constructor(){Et.add(this),this.messages=[],this.receivedMessages=[],Fn.set(this,void 0),this.controller=new AbortController,zi.set(this,void 0),al.set(this,()=>{}),Wi.set(this,()=>{}),Hi.set(this,void 0),ol.set(this,()=>{}),qi.set(this,()=>{}),yn.set(this,{}),Ki.set(this,!1),ll.set(this,!1),ul.set(this,!1),Tr.set(this,!1),cl.set(this,void 0),dl.set(this,void 0),Sd.set(this,e=>{if(L(this,ll,!0),Za(e)&&(e=new Xt),e instanceof Xt)return L(this,ul,!0),this._emit("abort",e);if(e instanceof q)return this._emit("error",e);if(e instanceof Error){const n=new q(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new q(String(e)))}),L(this,zi,new Promise((e,n)=>{L(this,al,e,"f"),L(this,Wi,n,"f")})),L(this,Hi,new Promise((e,n)=>{L(this,ol,e,"f"),L(this,qi,n,"f")})),E(this,zi,"f").catch(()=>{}),E(this,Hi,"f").catch(()=>{})}get response(){return E(this,cl,"f")}get request_id(){return E(this,dl,"f")}async withResponse(){L(this,Tr,!0);const e=await E(this,zi,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const n=new Ru;return n._run(()=>n._fromReadableStream(e)),n}static createMessage(e,n,r){const s=new Ru;for(const i of n.messages)s._addMessageParam(i);return s._run(()=>s._createMessage(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},E(this,Sd,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,n=!0){this.receivedMessages.push(e),n&&this._emit("message",e)}async _createMessage(e,n,r){var a;const s=r==null?void 0:r.signal;let i;s&&(s.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),s.addEventListener("abort",i));try{E(this,Et,"m",bd).call(this);const{response:o,data:l}=await e.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(o);for await(const u of l)E(this,Et,"m",kd).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new Xt;E(this,Et,"m",Cd).call(this)}finally{s&&i&&s.removeEventListener("abort",i)}}_connected(e){this.ended||(L(this,cl,e),L(this,dl,e==null?void 0:e.headers.get("request-id")),E(this,al,"f").call(this,e),this._emit("connect"))}get ended(){return E(this,Ki,"f")}get errored(){return E(this,ll,"f")}get aborted(){return E(this,ul,"f")}abort(){this.controller.abort()}on(e,n){return(E(this,yn,"f")[e]||(E(this,yn,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=E(this,yn,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(E(this,yn,"f")[e]||(E(this,yn,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{L(this,Tr,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){L(this,Tr,!0),await E(this,Hi,"f")}get currentMessage(){return E(this,Fn,"f")}async finalMessage(){return await this.done(),E(this,Et,"m",_d).call(this)}async finalText(){return await this.done(),E(this,Et,"m",X0).call(this)}_emit(e,...n){if(E(this,Ki,"f"))return;e==="end"&&(L(this,Ki,!0),E(this,ol,"f").call(this));const r=E(this,yn,"f")[e];if(r&&(E(this,yn,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!E(this,Tr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),E(this,Wi,"f").call(this,s),E(this,qi,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!E(this,Tr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),E(this,Wi,"f").call(this,s),E(this,qi,"f").call(this,s),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",E(this,Et,"m",_d).call(this))}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;let s;r&&(r.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),r.addEventListener("abort",s));try{E(this,Et,"m",bd).call(this),this._connected(null);const a=eo.fromReadableStream(e,this.controller);for await(const o of a)E(this,Et,"m",kd).call(this,o);if((i=a.controller.signal)!=null&&i.aborted)throw new Xt;E(this,Et,"m",Cd).call(this)}finally{r&&s&&r.removeEventListener("abort",s)}}[(Fn=new WeakMap,zi=new WeakMap,al=new WeakMap,Wi=new WeakMap,Hi=new WeakMap,ol=new WeakMap,qi=new WeakMap,yn=new WeakMap,Ki=new WeakMap,ll=new WeakMap,ul=new WeakMap,Tr=new WeakMap,cl=new WeakMap,dl=new WeakMap,Sd=new WeakMap,Et=new WeakSet,_d=function(){if(this.receivedMessages.length===0)throw new q("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},X0=function(){if(this.receivedMessages.length===0)throw new q("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new q("stream ended without producing a content block with type=text");return n.join(" ")},bd=function(){this.ended||L(this,Fn,void 0)},kd=function(n){if(this.ended)return;const r=E(this,Et,"m",Q0).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const s=r.content.at(-1);switch(n.delta.type){case"text_delta":{s.type==="text"&&this._emit("text",n.delta.text,s.text||"");break}case"citations_delta":{s.type==="text"&&this._emit("citation",n.delta.citation,s.citations??[]);break}case"input_json_delta":{J0(s)&&s.input&&this._emit("inputJson",n.delta.partial_json,s.input);break}case"thinking_delta":{s.type==="thinking"&&this._emit("thinking",n.delta.thinking,s.thinking);break}case"signature_delta":{s.type==="thinking"&&this._emit("signature",s.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{L(this,Fn,r);break}}},Cd=function(){if(this.ended)throw new q("stream has ended, this shouldn't happen");const n=E(this,Fn,"f");if(!n)throw new q("request ended without sending any chunks");return L(this,Fn,void 0),n},Q0=function(n){let r=E(this,Fn,"f");if(n.type==="message_start"){if(r)throw new q(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new q(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,n.usage.input_tokens!=null&&(r.usage.input_tokens=n.usage.input_tokens),n.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=n.usage.cache_creation_input_tokens),n.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=n.usage.cache_read_input_tokens),n.usage.server_tool_use!=null&&(r.usage.server_tool_use=n.usage.server_tool_use),r;case"content_block_start":return r.content.push({...n.content_block}),r;case"content_block_delta":{const s=r.content.at(n.index);switch(n.delta.type){case"text_delta":{(s==null?void 0:s.type)==="text"&&(r.content[n.index]={...s,text:(s.text||"")+n.delta.text});break}case"citations_delta":{(s==null?void 0:s.type)==="text"&&(r.content[n.index]={...s,citations:[...s.citations??[],n.delta.citation]});break}case"input_json_delta":{if(s&&J0(s)){let i=s[Y0]||"";i+=n.delta.partial_json;const a={...s};Object.defineProperty(a,Y0,{value:i,enumerable:!1,writable:!0}),i&&(a.input=FS(i)),r.content[n.index]=a}break}case"thinking_delta":{(s==null?void 0:s.type)==="thinking"&&(r.content[n.index]={...s,thinking:s.thinking+n.delta.thinking});break}case"signature_delta":{(s==null?void 0:s.type)==="thinking"&&(r.content[n.index]={...s,signature:n.delta.signature});break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("streamEvent",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new eo(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}let WS=class extends Zt{create(e,n){return this._client.post("/v1/messages/batches",{body:e,...n})}retrieve(e,n){return this._client.get(Le`/v1/messages/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/v1/messages/batches",vo,{query:e,...n})}delete(e,n){return this._client.delete(Le`/v1/messages/batches/${e}`,n)}cancel(e,n){return this._client.post(Le`/v1/messages/batches/${e}/cancel`,n)}async results(e,n){const r=await this.retrieve(e);if(!r.results_url)throw new q(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);return this._client.get(r.results_url,{...n,headers:J([{Accept:"application/binary"},n==null?void 0:n.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((s,i)=>mc.fromResponse(i.response,i.controller))}},vp=class extends Zt{constructor(){super(...arguments),this.batches=new WS(this._client)}create(e,n){e.model in Z0&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${Z0[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let r=this._client._options.timeout;if(!e.stream&&r==null){const s=LS[e.model]??void 0;r=this._client.calculateNonstreamingTimeout(e.max_tokens,s)}return this._client.post("/v1/messages",{body:e,timeout:r??6e5,...n,stream:e.stream??!1})}stream(e,n){return Ru.createMessage(this,e,n)}countTokens(e,n){return this._client.post("/v1/messages/count_tokens",{body:e,...n})}};const Z0={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"};vp.Batches=WS;let HS=class extends Zt{retrieve(e,n={},r){const{betas:s}=n??{};return this._client.get(Le`/v1/models/${e}`,{...r,headers:J([{...(s==null?void 0:s.toString())!=null?{"anthropic-beta":s==null?void 0:s.toString()}:void 0},r==null?void 0:r.headers])})}list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/models",vo,{query:s,...n,headers:J([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers])})}};var Ed={};const fl=t=>{var e,n,r,s;if(typeof globalThis.process<"u")return((e=Ed==null?void 0:Ed[t])==null?void 0:e.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};var fh,wp,Fl,qS;const MI="\\n\\nHuman:",NI="\\n\\nAssistant:";class xe{constructor({baseURL:e=fl("ANTHROPIC_BASE_URL"),apiKey:n=fl("ANTHROPIC_API_KEY")??null,authToken:r=fl("ANTHROPIC_AUTH_TOKEN")??null,...s}={}){fh.add(this),Fl.set(this,void 0);const i={apiKey:n,authToken:r,...s,baseURL:e||"https://api.anthropic.com"};if(!i.dangerouslyAllowBrowser&&JN())throw new q(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=i.baseURL,this.timeout=i.timeout??wp.DEFAULT_TIMEOUT,this.logger=i.logger??console;const a="warn";this.logLevel=a,this.logLevel=L0(i.logLevel,"ClientOptions.logLevel",this)??L0(fl("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??a,this.fetchOptions=i.fetchOptions,this.maxRetries=i.maxRetries??2,this.fetch=i.fetch??rI(),L(this,Fl,iI),this._options=i,this.apiKey=typeof n=="string"?n:null,this.authToken=r}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.get("x-api-key")||e.get("authorization"))&&!(this.apiKey&&e.get("x-api-key"))&&!n.has("x-api-key")&&!(this.authToken&&e.get("authorization"))&&!n.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return J([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(this.apiKey!=null)return J([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(this.authToken!=null)return J([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new q(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${gs}`}defaultIdempotencyKey(){return`stainless-node-retry-${dS()}`}makeStatusError(e,n,r,s){return kt.generate(e,n,r,s)}buildURL(e,n,r){const s=!E(this,fh,"m",qS).call(this)&&r||this.baseURL,i=KN(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return GN(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new q("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>({method:e,path:n,...s})))}request(e,n=null){return new ES(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var g,p;const s=await e,i=s.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(s);const{req:a,url:o,timeout:l}=await this.buildRequest(s,{retryCount:i-n});await this.prepareRequest(a,{url:o,options:s});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),c=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(Ye(this).debug(`[${u}] sending request`,Mr({retryOfRequestLogID:r,method:s.method,url:o,options:s,headers:a.headers})),(g=s.signal)!=null&&g.aborted)throw new Xt;const f=new AbortController,h=await this.fetchWithTimeout(o,a,l,f).catch(ih),w=Date.now();if(h instanceof globalThis.Error){const y=`retrying, ${n} attempts remaining`;if((p=s.signal)!=null&&p.aborted)throw new Xt;const x=Za(h)||/timed? ?out/i.test(String(h)+("cause"in h?String(h.cause):""));if(n)return Ye(this).info(`[${u}] connection ${x?"timed out":"failed"} - ${y}`),Ye(this).debug(`[${u}] connection ${x?"timed out":"failed"} (${y})`,Mr({retryOfRequestLogID:r,url:o,durationMs:w-d,message:h.message})),this.retryRequest(s,n,r??u);throw Ye(this).info(`[${u}] connection ${x?"timed out":"failed"} - error; no more retries left`),Ye(this).debug(`[${u}] connection ${x?"timed out":"failed"} (error; no more retries left)`,Mr({retryOfRequestLogID:r,url:o,durationMs:w-d,message:h.message})),x?new fS:new hc({cause:h})}const v=[...h.headers.entries()].filter(([y])=>y==="request-id").map(([y,x])=>", "+y+": "+JSON.stringify(x)).join(""),S=`[${u}${c}${v}] ${a.method} ${o} ${h.ok?"succeeded":"failed"} with status ${h.status} in ${w-d}ms`;if(!h.ok){const y=await this.shouldRetry(h);if(n&&y){const I=`retrying, ${n} attempts remaining`;return await sI(h.body),Ye(this).info(`${S} - ${I}`),Ye(this).debug(`[${u}] response error (${I})`,Mr({retryOfRequestLogID:r,url:h.url,status:h.status,headers:h.headers,durationMs:w-d})),this.retryRequest(s,n,r??u,h.headers)}const x=y?"error; no more retries left":"error; not retryable";Ye(this).info(`${S} - ${x}`);const _=await h.text().catch(I=>ih(I).message),b=_S(_),C=b?void 0:_;throw Ye(this).debug(`[${u}] response error (${x})`,Mr({retryOfRequestLogID:r,url:h.url,status:h.status,headers:h.headers,message:C,durationMs:Date.now()-d})),this.makeStatusError(h.status,b,C,h.headers)}return Ye(this).info(S),Ye(this).debug(`[${u}] response start`,Mr({retryOfRequestLogID:r,url:h.url,status:h.status,headers:h.headers,durationMs:w-d})),{response:h,options:s,controller:f,requestLogID:u,retryOfRequestLogID:r,startTime:d}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new mI(this,r,e)}async fetchWithTimeout(e,n,r,s){const{signal:i,method:a,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r),u=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,c={signal:s.signal,...u?{duplex:"half"}:{},method:"GET",...o};a&&(c.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,c)}finally{clearTimeout(l)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){let i;const a=s==null?void 0:s.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(i=l)}const o=s==null?void 0:s.get("retry-after");if(o&&!i){const l=parseFloat(o);Number.isNaN(l)?i=Date.parse(o)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,l)}return await YN(i),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}calculateNonstreamingTimeout(e,n){if(36e5*e/128e3>6e5||n!=null&&e>n)throw new q("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:s,path:i,query:a,defaultBaseURL:o}=r,l=this.buildURL(i,a,o);"timeout"in r&&QN("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:c}=this.buildBody({options:r}),d=await this.buildHeaders({options:e,method:s,bodyHeaders:u,retryCount:n});return{req:{method:s,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&c instanceof globalThis.ReadableStream&&{duplex:"half"},...c&&{body:c},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const a=J([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...nI(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=J([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:bS(e)}:E(this,Fl,"f").call(this,{body:e,headers:r})}}wp=xe,Fl=new WeakMap,fh=new WeakSet,qS=function(){return this.baseURL!=="https://api.anthropic.com"};xe.Anthropic=wp;xe.HUMAN_PROMPT=MI;xe.AI_PROMPT=NI;xe.DEFAULT_TIMEOUT=6e5;xe.AnthropicError=q;xe.APIError=kt;xe.APIConnectionError=hc;xe.APIConnectionTimeoutError=fS;xe.APIUserAbortError=Xt;xe.NotFoundError=gS;xe.ConflictError=yS;xe.RateLimitError=wS;xe.BadRequestError=hS;xe.AuthenticationError=mS;xe.InternalServerError=xS;xe.PermissionDeniedError=pS;xe.UnprocessableEntityError=vS;xe.toFile=xI;class wo extends xe{constructor(){super(...arguments),this.completions=new zS(this),this.messages=new vp(this),this.models=new HS(this),this.beta=new wi(this)}}wo.Completions=zS;wo.Messages=vp;wo.Models=HS;wo.Beta=wi;function z(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function k(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let KS=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return KS=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function hh(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const mh=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class V extends Error{}class Ve extends V{constructor(e,n,r,s){super(`${Ve.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.requestID=s==null?void 0:s.get("x-request-id"),this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new gc({message:r,cause:mh(n)});const i=n==null?void 0:n.error;return e===400?new GS(e,i,r,s):e===401?new XS(e,i,r,s):e===403?new QS(e,i,r,s):e===404?new YS(e,i,r,s):e===409?new JS(e,i,r,s):e===422?new ZS(e,i,r,s):e===429?new eb(e,i,r,s):e>=500?new tb(e,i,r,s):new Ve(e,i,r,s)}}class It extends Ve{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class gc extends Ve{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class xp extends gc{constructor({message:e}={}){super({message:e??"Request timed out."})}}class GS extends Ve{}class XS extends Ve{}class QS extends Ve{}class YS extends Ve{}class JS extends Ve{}class ZS extends Ve{}class eb extends Ve{}class tb extends Ve{}class nb extends V{constructor(){super("Could not parse response content as the length limit was reached")}}class rb extends V{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class ra extends Error{constructor(e){super(e)}}const II=/^[a-z][a-z0-9+.-]*:/i,OI=t=>II.test(t);let st=t=>(st=Array.isArray,st(t)),ev=st;function sb(t){return typeof t!="object"?{}:t??{}}function jI(t){if(!t)return!0;for(const e in t)return!1;return!0}function DI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Td(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const LI=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new V(`${t} must be an integer`);if(e<0)throw new V(`${t} must be a positive integer`);return e},$I=t=>{try{return JSON.parse(t)}catch{return}},xo=t=>new Promise(e=>setTimeout(e,t)),vs="6.15.0",FI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function VI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const BI=()=>{var n;const t=VI();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vs,"X-Stainless-OS":nv(Deno.build.os),"X-Stainless-Arch":tv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vs,"X-Stainless-OS":nv(globalThis.process.platform??"unknown"),"X-Stainless-Arch":tv(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=UI();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function UI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:e,version:`${s}.${i}.${a}`}}}return null}const tv=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",nv=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let rv;const zI=()=>rv??(rv=BI());function WI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function ib(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ab(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return ib({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)==null?void 0:n.call(e))}})}function ob(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function HI(t){var r,s;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((s=(r=t[Symbol.asyncIterator]()).return)==null?void 0:s.call(r));return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const qI=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),lb="RFC3986",ub=t=>String(t),sv={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:ub},KI="RFC1738";let ph=(t,e)=>(ph=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),ph(t,e));const rn=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Pd=1024,GI=(t,e,n,r,s)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=Pd){const l=i.length>=Pd?i.slice(o,o+Pd):i,u=[];for(let c=0;c<l.length;++c){let d=l.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===KI&&(d===40||d===41)){u[u.length]=l.charAt(c);continue}if(d<128){u[u.length]=rn[d];continue}if(d<2048){u[u.length]=rn[192|d>>6]+rn[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=rn[224|d>>12]+rn[128|d>>6&63]+rn[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=rn[240|d>>18]+rn[128|d>>12&63]+rn[128|d>>6&63]+rn[128|d&63]}a+=u.join("")}return a};function XI(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function iv(t,e){if(st(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const cb={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},db=function(t,e){Array.prototype.push.apply(t,st(e)?e:[e])};let av;const be={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:GI,encodeValuesOnly:!1,format:lb,formatter:ub,indices:!1,serializeDate(t){return(av??(av=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function QI(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Ad={};function fb(t,e,n,r,s,i,a,o,l,u,c,d,f,h,w,v,S,g){let p=t,y=g,x=0,_=!1;for(;(y=y.get(Ad))!==void 0&&!_;){const R=y.get(t);if(x+=1,typeof R<"u"){if(R===x)throw new RangeError("Cyclic object value");_=!0}typeof y.get(Ad)>"u"&&(x=0)}if(typeof u=="function"?p=u(e,p):p instanceof Date?p=f==null?void 0:f(p):n==="comma"&&st(p)&&(p=iv(p,function(R){return R instanceof Date?f==null?void 0:f(R):R})),p===null){if(i)return l&&!v?l(e,be.encoder,S,"key",h):e;p=""}if(QI(p)||XI(p)){if(l){const R=v?e:l(e,be.encoder,S,"key",h);return[(w==null?void 0:w(R))+"="+(w==null?void 0:w(l(p,be.encoder,S,"value",h)))]}return[(w==null?void 0:w(e))+"="+(w==null?void 0:w(String(p)))]}const b=[];if(typeof p>"u")return b;let C;if(n==="comma"&&st(p))v&&l&&(p=iv(p,l)),C=[{value:p.length>0?p.join(",")||null:void 0}];else if(st(u))C=u;else{const R=Object.keys(p);C=c?R.sort(c):R}const T=o?String(e).replace(/\./g,"%2E"):String(e),I=r&&st(p)&&p.length===1?T+"[]":T;if(s&&st(p)&&p.length===0)return I+"[]";for(let R=0;R<C.length;++R){const j=C[R],se=typeof j=="object"&&typeof j.value<"u"?j.value:p[j];if(a&&se===null)continue;const dt=d&&o?j.replace(/\./g,"%2E"):j,en=st(p)?typeof n=="function"?n(I,dt):I:I+(d?"."+dt:"["+dt+"]");g.set(t,x);const tn=new WeakMap;tn.set(Ad,g),db(b,fb(se,en,n,r,s,i,a,o,n==="comma"&&v&&st(p)?null:l,u,c,d,f,h,w,v,S,tn))}return b}function YI(t=be){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||be.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=lb;if(typeof t.format<"u"){if(!ph(sv,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=sv[n];let s=be.filter;(typeof t.filter=="function"||st(t.filter))&&(s=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in cb?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=be.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:be.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:be.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:be.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:be.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?be.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:be.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:be.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:be.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:be.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:be.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:be.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:be.strictNullHandling}}function JI(t,e={}){let n=t;const r=YI(e);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):st(r.filter)&&(i=r.filter,s=i);const a=[];if(typeof n!="object"||n===null)return"";const o=cb[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let f=0;f<s.length;++f){const h=s[f];r.skipNulls&&n[h]===null||db(a,fb(n[h],h,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=a.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}function ZI(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let ov;function _p(t){let e;return(ov??(e=new globalThis.TextEncoder,ov=e.encode.bind(e)))(t)}let lv;function uv(t){let e;return(lv??(e=new globalThis.TextDecoder,lv=e.decode.bind(e)))(t)}var pt,gt;class yc{constructor(){pt.set(this,void 0),gt.set(this,void 0),z(this,pt,new Uint8Array),z(this,gt,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?_p(e):e;z(this,pt,ZI([k(this,pt,"f"),n]));const r=[];let s;for(;(s=eO(k(this,pt,"f"),k(this,gt,"f")))!=null;){if(s.carriage&&k(this,gt,"f")==null){z(this,gt,s.index);continue}if(k(this,gt,"f")!=null&&(s.index!==k(this,gt,"f")+1||s.carriage)){r.push(uv(k(this,pt,"f").subarray(0,k(this,gt,"f")-1))),z(this,pt,k(this,pt,"f").subarray(k(this,gt,"f"))),z(this,gt,null);continue}const i=k(this,gt,"f")!==null?s.preceding-1:s.preceding,a=uv(k(this,pt,"f").subarray(0,i));r.push(a),z(this,pt,k(this,pt,"f").subarray(s.index)),z(this,gt,null)}return r}flush(){return k(this,pt,"f").length?this.decode(`
`):[]}}pt=new WeakMap,gt=new WeakMap;yc.NEWLINE_CHARS=new Set([`
`,"\r"]);yc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eO(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function tO(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const Mu={off:0,error:200,warn:300,info:400,debug:500},cv=(t,e,n)=>{if(t){if(DI(Mu,t))return t;je(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Mu))}`)}};function sa(){}function hl(t,e,n){return!e||Mu[t]>Mu[n]?sa:e[t].bind(e)}const nO={error:sa,warn:sa,info:sa,debug:sa};let dv=new WeakMap;function je(t){const e=t.logger,n=t.logLevel??"off";if(!e)return nO;const r=dv.get(e);if(r&&r[0]===n)return r[1];const s={error:hl("error",e,n),warn:hl("warn",e,n),info:hl("info",e,n),debug:hl("debug",e,n)};return dv.set(e,[n,s]),s}const Nr=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Gi;class dn{constructor(e,n,r){this.iterator=e,Gi.set(this,void 0),this.controller=n,z(this,Gi,r)}static fromSSEResponse(e,n,r){let s=!1;const i=r?je(r):console;async function*a(){if(s)throw new V("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of rO(e,n))if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let u;try{u=JSON.parse(l.data)}catch(c){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),c}if(u&&u.error)throw new Ve(void 0,u.error,void 0,e.headers);yield u}else{let u;try{u=JSON.parse(l.data)}catch(c){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),c}if(l.event=="error")throw new Ve(void 0,u.error,u.message,void 0);yield{event:l.event,data:u}}}o=!0}catch(l){if(hh(l))return;throw l}finally{o||n.abort()}}return new dn(a,n,r)}static fromReadableStream(e,n,r){let s=!1;async function*i(){const o=new yc,l=ob(e);for await(const u of l)for(const c of o.decode(u))yield c;for(const u of o.flush())yield u}async function*a(){if(s)throw new V("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of i())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(hh(l))return;throw l}finally{o||n.abort()}}return new dn(a,n,r)}[(Gi=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();e.push(a),n.push(a)}return i.shift()}});return[new dn(()=>s(e),this.controller,k(this,Gi,"f")),new dn(()=>s(n),this.controller,k(this,Gi,"f"))]}toReadableStream(){const e=this;let n;return ib({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const a=_p(JSON.stringify(s)+`
`);r.enqueue(a)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*rO(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new V("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new V("Attempted to iterate over a response with no body");const n=new iO,r=new yc,s=ob(t.body);for await(const i of sO(s))for(const a of r.decode(i)){const o=n.decode(a);o&&(yield o)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*sO(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?_p(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=tO(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class iO{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=aO(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function aO(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function hb(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=e,a=await(async()=>{var d;if(e.options.stream)return je(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):dn.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const o=n.headers.get("content-type"),l=(d=o==null?void 0:o.split(";")[0])==null?void 0:d.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const f=await n.json();return mb(f,n)}return await n.text()})();return je(t).debug(`[${r}] response parsed`,Nr({retryOfRequestLogID:s,url:n.url,status:n.status,body:a,durationMs:Date.now()-i})),a}function mb(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var ia;class vc extends Promise{constructor(e,n,r=hb){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,ia.set(this,void 0),z(this,ia,e)}_thenUnwrap(e){return new vc(k(this,ia,"f"),this.responsePromise,async(n,r)=>mb(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(k(this,ia,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}ia=new WeakMap;var ml;class Sp{constructor(e,n,r,s){ml.set(this,void 0),z(this,ml,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new V("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await k(this,ml,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(ml=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class oO extends vc{constructor(e,n,r){super(e,n,async(s,i)=>new r(s,i.response,await hb(s,i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class wc extends Sp{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class we extends Sp{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const e=this.getPaginatedItems(),n=(r=e[e.length-1])==null?void 0:r.id;return n?{...this.options,query:{...sb(this.options.query),after:n}}:null}}class Nu extends Sp{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...sb(this.options.query),after:e}}:null}}const pb=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)==null?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ca(t,e,n){return pb(),new File(t,e??"unknown_file",n)}function Vl(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const bp=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",fv=async(t,e)=>gh(t.body)?{...t,body:await gb(t.body,e)}:t,ns=async(t,e)=>({...t,body:await gb(t.body,e)}),hv=new WeakMap;function lO(t){const e=typeof t=="function"?t:t.fetch,n=hv.get(e);if(n)return n;const r=(async()=>{try{const s="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new s(i).text()}catch{return!0}})();return hv.set(e,r),r}const gb=async(t,e)=>{if(!await lO(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,s])=>yh(n,r,s))),n},yb=t=>t instanceof Blob&&"name"in t,uO=t=>typeof t=="object"&&t!==null&&(t instanceof Response||bp(t)||yb(t)),gh=t=>{if(uO(t))return!0;if(Array.isArray(t))return t.some(gh);if(t&&typeof t=="object"){for(const e in t)if(gh(t[e]))return!0}return!1},yh=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,Ca([await n.blob()],Vl(n)));else if(bp(n))t.append(e,Ca([await new Response(ab(n)).blob()],Vl(n)));else if(yb(n))t.append(e,n,Vl(n));else if(Array.isArray(n))await Promise.all(n.map(r=>yh(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>yh(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},vb=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",cO=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&vb(t),dO=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function fO(t,e,n){if(pb(),t=await t,cO(t))return t instanceof File?t:Ca([await t.arrayBuffer()],t.name);if(dO(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Ca(await vh(s),e,n)}const r=await vh(t);if(e||(e=Vl(t)),!(n!=null&&n.type)){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n={...n,type:s})}return Ca(r,e,n)}async function vh(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(vb(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(bp(t))for await(const r of t)e.push(...await vh(r));else{const r=(n=t==null?void 0:t.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${hO(t)}`)}return e}function hO(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class F{constructor(e){this._client=e}}function wb(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const mv=Object.freeze(Object.create(null)),mO=(t=wb)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],a=n.reduce((c,d,f)=>{var v;/[?#]/.test(d)&&(s=!0);const h=r[f];let w=(s?encodeURIComponent:t)(""+h);return f!==r.length&&(h==null||typeof h=="object"&&h.toString===((v=Object.getPrototypeOf(Object.getPrototypeOf(h.hasOwnProperty??mv)??mv))==null?void 0:v.toString))&&(w=h+"",i.push({start:c.length+d.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(h).slice(8,-1)} is not a valid path parameter`})),c+d+(f===r.length?"":w)},""),o=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(o))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((c,d)=>c.start-d.start),i.length>0){let c=0;const d=i.reduce((f,h)=>{const w=" ".repeat(h.start-c),v="^".repeat(h.length);return c=h.start+h.length,f+w+v},"");throw new V(`Path parameters result in path with invalid segments:
${i.map(f=>f.error).join(`
`)}
${a}
${d}`)}return a},M=mO(wb);let xb=class extends F{list(e,n={},r){return this._client.getAPIList(M`/chat/completions/${e}/messages`,we,{query:n,...r})}};function Iu(t){return t!==void 0&&"function"in t&&t.function!==void 0}function kp(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function _o(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function pO(t,e){return!e||!_b(e)?{...t,choices:t.choices.map(n=>(Sb(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Cp(t,e)}function Cp(t,e){const n=t.choices.map(r=>{var s;if(r.finish_reason==="length")throw new nb;if(r.finish_reason==="content_filter")throw new rb;return Sb(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>yO(e,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?gO(e,r.message.content):null}}});return{...t,choices:n}}function gO(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function yO(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return Iu(s)&&((i=s.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:_o(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function vO(t,e){var r;if(!t||!("tools"in t)||!t.tools)return!1;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return Iu(s)&&((i=s.function)==null?void 0:i.name)===e.function.name});return Iu(n)&&(_o(n)||(n==null?void 0:n.function.strict)||!1)}function _b(t){var e;return kp(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>_o(n)||n.type==="function"&&n.function.strict===!0))??!1}function Sb(t){for(const e of t||[])if(e.type!=="function")throw new V(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function wO(t){for(const e of t??[]){if(e.type!=="function")throw new V(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new V(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Ou=t=>(t==null?void 0:t.role)==="assistant",bb=t=>(t==null?void 0:t.role)==="tool";var wh,Bl,Ul,aa,oa,zl,la,xn,ua,ju,Du,ws,kb;class Ep{constructor(){wh.add(this),this.controller=new AbortController,Bl.set(this,void 0),Ul.set(this,()=>{}),aa.set(this,()=>{}),oa.set(this,void 0),zl.set(this,()=>{}),la.set(this,()=>{}),xn.set(this,{}),ua.set(this,!1),ju.set(this,!1),Du.set(this,!1),ws.set(this,!1),z(this,Bl,new Promise((e,n)=>{z(this,Ul,e,"f"),z(this,aa,n,"f")})),z(this,oa,new Promise((e,n)=>{z(this,zl,e,"f"),z(this,la,n,"f")})),k(this,Bl,"f").catch(()=>{}),k(this,oa,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},k(this,wh,"m",kb).bind(this))},0)}_connected(){this.ended||(k(this,Ul,"f").call(this),this._emit("connect"))}get ended(){return k(this,ua,"f")}get errored(){return k(this,ju,"f")}get aborted(){return k(this,Du,"f")}abort(){this.controller.abort()}on(e,n){return(k(this,xn,"f")[e]||(k(this,xn,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=k(this,xn,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(k(this,xn,"f")[e]||(k(this,xn,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{z(this,ws,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){z(this,ws,!0),await k(this,oa,"f")}_emit(e,...n){if(k(this,ua,"f"))return;e==="end"&&(z(this,ua,!0),k(this,zl,"f").call(this));const r=k(this,xn,"f")[e];if(r&&(k(this,xn,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!k(this,ws,"f")&&!(r!=null&&r.length)&&Promise.reject(s),k(this,aa,"f").call(this,s),k(this,la,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!k(this,ws,"f")&&!(r!=null&&r.length)&&Promise.reject(s),k(this,aa,"f").call(this,s),k(this,la,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Bl=new WeakMap,Ul=new WeakMap,aa=new WeakMap,oa=new WeakMap,zl=new WeakMap,la=new WeakMap,xn=new WeakMap,ua=new WeakMap,ju=new WeakMap,Du=new WeakMap,ws=new WeakMap,wh=new WeakSet,kb=function(e){if(z(this,ju,!0),e instanceof Error&&e.name==="AbortError"&&(e=new It),e instanceof It)return z(this,Du,!0),this._emit("abort",e);if(e instanceof V)return this._emit("error",e);if(e instanceof Error){const n=new V(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new V(String(e)))};function xO(t){return typeof t.parse=="function"}var Xe,xh,Lu,_h,Sh,bh,Cb,Eb;const _O=10;class Tb extends Ep{constructor(){super(...arguments),Xe.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),bb(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Ou(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new V("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),k(this,Xe,"m",xh).call(this)}async finalMessage(){return await this.done(),k(this,Xe,"m",Lu).call(this)}async finalFunctionToolCall(){return await this.done(),k(this,Xe,"m",_h).call(this)}async finalFunctionToolCallResult(){return await this.done(),k(this,Xe,"m",Sh).call(this)}async totalUsage(){return await this.done(),k(this,Xe,"m",bh).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=k(this,Xe,"m",Lu).call(this);n&&this._emit("finalMessage",n);const r=k(this,Xe,"m",xh).call(this);r&&this._emit("finalContent",r);const s=k(this,Xe,"m",_h).call(this);s&&this._emit("finalFunctionToolCall",s);const i=k(this,Xe,"m",Sh).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",k(this,Xe,"m",bh).call(this))}async _createChatCompletion(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),k(this,Xe,"m",Cb).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Cp(i,n))}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runTools(e,n,r){var h,w,v;const s="tool",{tool_choice:i="auto",stream:a,...o}=n,l=typeof i!="string"&&i.type==="function"&&((h=i==null?void 0:i.function)==null?void 0:h.name),{maxChatCompletions:u=_O}=r||{},c=n.tools.map(S=>{if(_o(S)){if(!S.$callback)throw new V("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:S.$callback,name:S.function.name,description:S.function.description||"",parameters:S.function.parameters,parse:S.$parseRaw,strict:!0}}}return S}),d={};for(const S of c)S.type==="function"&&(d[S.function.name||S.function.function.name]=S.function);const f="tools"in n?c.map(S=>S.type==="function"?{type:"function",function:{name:S.function.name||S.function.function.name,parameters:S.function.parameters,description:S.function.description,strict:S.function.strict}}:S):void 0;for(const S of n.messages)this._addMessage(S,!1);for(let S=0;S<u;++S){const p=(w=(await this._createChatCompletion(e,{...o,tool_choice:i,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:w.message;if(!p)throw new V("missing message in ChatCompletion response");if(!((v=p.tool_calls)!=null&&v.length))return;for(const y of p.tool_calls){if(y.type!=="function")continue;const x=y.id,{name:_,arguments:b}=y.function,C=d[_];if(C){if(l&&l!==_){const j=`Invalid tool_call: ${JSON.stringify(_)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:x,content:j});continue}}else{const j=`Invalid tool_call: ${JSON.stringify(_)}. Available options are: ${Object.keys(d).map(se=>JSON.stringify(se)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:x,content:j});continue}let T;try{T=xO(C)?await C.parse(b):b}catch(j){const se=j instanceof Error?j.message:String(j);this._addMessage({role:s,tool_call_id:x,content:se});continue}const I=await C.function(T,this),R=k(this,Xe,"m",Eb).call(this,I);if(this._addMessage({role:s,tool_call_id:x,content:R}),l)return}}}}Xe=new WeakSet,xh=function(){return k(this,Xe,"m",Lu).call(this).content??null},Lu=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Ou(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new V("stream ended without producing a ChatCompletionMessage with role=assistant")},_h=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Ou(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(n=s.tool_calls.filter(i=>i.type==="function").at(-1))==null?void 0:n.function}},Sh=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(bb(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},bh=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},Cb=function(e){if(e.n!=null&&e.n>1)throw new V("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Eb=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Tp extends Tb{static runTools(e,n,r){const s=new Tp,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}_addMessage(e,n=!0){super._addMessage(e,n),Ou(e)&&e.content&&this._emit("content",e.content)}}const Pb=1,Ab=2,Rb=4,Mb=8,Nb=16,Ib=32,Ob=64,jb=128,Db=256,Lb=jb|Db,$b=Nb|Ib|Lb|Ob,Fb=Pb|Ab|$b,Vb=Rb|Mb,SO=Fb|Vb,Pe={STR:Pb,NUM:Ab,ARR:Rb,OBJ:Mb,NULL:Nb,BOOL:Ib,NAN:Ob,INFINITY:jb,MINUS_INFINITY:Db,INF:Lb,SPECIAL:$b,ATOM:Fb,COLLECTION:Vb,ALL:SO};class bO extends Error{}class kO extends Error{}function CO(t,e=Pe.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return EO(t.trim(),e)}const EO=(t,e)=>{const n=t.length;let r=0;const s=f=>{throw new bO(`${f} at position ${r}`)},i=f=>{throw new kO(`${f} at position ${r}`)},a=()=>(d(),r>=n&&s("Unexpected end of input"),t[r]==='"'?o():t[r]==="{"?l():t[r]==="["?u():t.substring(r,r+4)==="null"||Pe.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Pe.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Pe.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Pe.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Pe.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Pe.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):c()),o=()=>{const f=r;let h=!1;for(r++;r<n&&(t[r]!=='"'||h&&t[r-1]==="\\");)h=t[r]==="\\"?!h:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(f,++r-Number(h)))}catch(w){i(String(w))}else if(Pe.STR&e)try{return JSON.parse(t.substring(f,r-Number(h))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,d();const f={};try{for(;t[r]!=="}";){if(d(),r>=n&&Pe.OBJ&e)return f;const h=o();d(),r++;try{const w=a();Object.defineProperty(f,h,{value:w,writable:!0,enumerable:!0,configurable:!0})}catch(w){if(Pe.OBJ&e)return f;throw w}d(),t[r]===","&&r++}}catch{if(Pe.OBJ&e)return f;s("Expected '}' at end of object")}return r++,f},u=()=>{r++;const f=[];try{for(;t[r]!=="]";)f.push(a()),d(),t[r]===","&&r++}catch{if(Pe.ARR&e)return f;s("Expected ']' at end of array")}return r++,f},c=()=>{if(r===0){t==="-"&&Pe.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(h){if(Pe.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(h))}}const f=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Pe.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(f,r))}catch{t.substring(f,r)==="-"&&Pe.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(w){i(String(w))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return a()},pv=t=>CO(t,Pe.ALL^Pe.NUM);var _e,vn,fs,Vn,Rd,pl,Md,Nd,Id,gl,Od,gv;class to extends Tb{constructor(e){super(),_e.add(this),vn.set(this,void 0),fs.set(this,void 0),Vn.set(this,void 0),z(this,vn,e),z(this,fs,[])}get currentChatCompletionSnapshot(){return k(this,Vn,"f")}static fromReadableStream(e){const n=new to(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new to(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){var a;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),k(this,_e,"m",Rd).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of i)k(this,_e,"m",Md).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new It;return this._addChatCompletion(k(this,_e,"m",gl).call(this))}async _fromReadableStream(e,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),k(this,_e,"m",Rd).call(this),this._connected();const s=dn.fromReadableStream(e,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(k(this,_e,"m",gl).call(this)),k(this,_e,"m",Md).call(this,o),i=o.id;if((a=s.controller.signal)!=null&&a.aborted)throw new It;return this._addChatCompletion(k(this,_e,"m",gl).call(this))}[(vn=new WeakMap,fs=new WeakMap,Vn=new WeakMap,_e=new WeakSet,Rd=function(){this.ended||z(this,Vn,void 0)},pl=function(n){let r=k(this,fs,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},k(this,fs,"f")[n.index]=r,r)},Md=function(n){var s,i,a,o,l,u,c,d,f,h,w,v,S,g,p;if(this.ended)return;const r=k(this,_e,"m",gv).call(this,n);this._emit("chunk",n,r);for(const y of n.choices){const x=r.choices[y.index];y.delta.content!=null&&((s=x.message)==null?void 0:s.role)==="assistant"&&((i=x.message)!=null&&i.content)&&(this._emit("content",y.delta.content,x.message.content),this._emit("content.delta",{delta:y.delta.content,snapshot:x.message.content,parsed:x.message.parsed})),y.delta.refusal!=null&&((a=x.message)==null?void 0:a.role)==="assistant"&&((o=x.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:y.delta.refusal,snapshot:x.message.refusal}),((l=y.logprobs)==null?void 0:l.content)!=null&&((u=x.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=y.logprobs)==null?void 0:c.content,snapshot:((d=x.logprobs)==null?void 0:d.content)??[]}),((f=y.logprobs)==null?void 0:f.refusal)!=null&&((h=x.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(w=y.logprobs)==null?void 0:w.refusal,snapshot:((v=x.logprobs)==null?void 0:v.refusal)??[]});const _=k(this,_e,"m",pl).call(this,x);x.finish_reason&&(k(this,_e,"m",Id).call(this,x),_.current_tool_call_index!=null&&k(this,_e,"m",Nd).call(this,x,_.current_tool_call_index));for(const b of y.delta.tool_calls??[])_.current_tool_call_index!==b.index&&(k(this,_e,"m",Id).call(this,x),_.current_tool_call_index!=null&&k(this,_e,"m",Nd).call(this,x,_.current_tool_call_index)),_.current_tool_call_index=b.index;for(const b of y.delta.tool_calls??[]){const C=(S=x.message.tool_calls)==null?void 0:S[b.index];C!=null&&C.type&&((C==null?void 0:C.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(g=C.function)==null?void 0:g.name,index:b.index,arguments:C.function.arguments,parsed_arguments:C.function.parsed_arguments,arguments_delta:((p=b.function)==null?void 0:p.arguments)??""}):(C==null||C.type,void 0))}}},Nd=function(n,r){var a,o,l;if(k(this,_e,"m",pl).call(this,n).done_tool_calls.has(r))return;const i=(a=n.message.tool_calls)==null?void 0:a[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(o=k(this,vn,"f"))==null?void 0:o.tools)==null?void 0:l.find(c=>Iu(c)&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:_o(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Id=function(n){var s,i;const r=k(this,_e,"m",pl).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=k(this,_e,"m",Od).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},gl=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");const n=k(this,Vn,"f");if(!n)throw new V("request ended without sending any chunks");return z(this,Vn,void 0),z(this,fs,[]),TO(n,k(this,vn,"f"))},Od=function(){var r;const n=(r=k(this,vn,"f"))==null?void 0:r.response_format;return kp(n)?n:null},gv=function(n){var r,s,i,a;let o=k(this,Vn,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=z(this,Vn,{...u,choices:[]});for(const{delta:c,finish_reason:d,index:f,logprobs:h=null,...w}of n.choices){let v=o.choices[f];if(v||(v=o.choices[f]={finish_reason:d,index:f,message:{},logprobs:h,...w}),h)if(!v.logprobs)v.logprobs=Object.assign({},h);else{const{content:b,refusal:C,...T}=h;Object.assign(v.logprobs,T),b&&((r=v.logprobs).content??(r.content=[]),v.logprobs.content.push(...b)),C&&((s=v.logprobs).refusal??(s.refusal=[]),v.logprobs.refusal.push(...C))}if(d&&(v.finish_reason=d,k(this,vn,"f")&&_b(k(this,vn,"f")))){if(d==="length")throw new nb;if(d==="content_filter")throw new rb}if(Object.assign(v,w),!c)continue;const{content:S,refusal:g,function_call:p,role:y,tool_calls:x,..._}=c;if(Object.assign(v.message,_),g&&(v.message.refusal=(v.message.refusal||"")+g),y&&(v.message.role=y),p&&(v.message.function_call?(p.name&&(v.message.function_call.name=p.name),p.arguments&&((i=v.message.function_call).arguments??(i.arguments=""),v.message.function_call.arguments+=p.arguments)):v.message.function_call=p),S&&(v.message.content=(v.message.content||"")+S,!v.message.refusal&&k(this,_e,"m",Od).call(this)&&(v.message.parsed=pv(v.message.content))),x){v.message.tool_calls||(v.message.tool_calls=[]);for(const{index:b,id:C,type:T,function:I,...R}of x){const j=(a=v.message.tool_calls)[b]??(a[b]={});Object.assign(j,R),C&&(j.id=C),T&&(j.type=T),I&&(j.function??(j.function={name:I.name??"",arguments:""})),I!=null&&I.name&&(j.function.name=I.name),I!=null&&I.arguments&&(j.function.arguments+=I.arguments,vO(k(this,vn,"f"),j)&&(j.function.parsed_arguments=pv(j.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new dn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function TO(t,e){const{id:n,choices:r,created:s,model:i,system_fingerprint:a,...o}=t,l={...o,id:n,choices:r.map(({message:u,finish_reason:c,index:d,logprobs:f,...h})=>{if(!c)throw new V(`missing finish_reason for choice ${d}`);const{content:w=null,function_call:v,tool_calls:S,...g}=u,p=u.role;if(!p)throw new V(`missing role for choice ${d}`);if(v){const{arguments:y,name:x}=v;if(y==null)throw new V(`missing function_call.arguments for choice ${d}`);if(!x)throw new V(`missing function_call.name for choice ${d}`);return{...h,message:{content:w,function_call:{arguments:y,name:x},role:p,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:f}}return S?{...h,index:d,finish_reason:c,logprobs:f,message:{...g,role:p,content:w,refusal:u.refusal??null,tool_calls:S.map((y,x)=>{const{function:_,type:b,id:C,...T}=y,{arguments:I,name:R,...j}=_||{};if(C==null)throw new V(`missing choices[${d}].tool_calls[${x}].id
${yl(t)}`);if(b==null)throw new V(`missing choices[${d}].tool_calls[${x}].type
${yl(t)}`);if(R==null)throw new V(`missing choices[${d}].tool_calls[${x}].function.name
${yl(t)}`);if(I==null)throw new V(`missing choices[${d}].tool_calls[${x}].function.arguments
${yl(t)}`);return{...T,id:C,type:b,function:{...j,name:R,arguments:I}}})}}:{...h,message:{...g,content:w,role:p,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:f}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return pO(l,e)}function yl(t){return JSON.stringify(t)}class $u extends to{static fromReadableStream(e){const n=new $u(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,r){const s=new $u(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}}let Pp=class extends F{constructor(){super(...arguments),this.messages=new xb(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(M`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(M`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/chat/completions",we,{query:e,...n})}delete(e,n){return this._client.delete(M`/chat/completions/${e}`,n)}parse(e,n){return wO(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>Cp(r,e))}runTools(e,n){return e.stream?$u.runTools(this._client,e,n):Tp.runTools(this._client,e,n)}stream(e,n){return to.createChatCompletion(this._client,e,n)}};Pp.Messages=xb;class Ap extends F{constructor(){super(...arguments),this.completions=new Pp(this._client)}}Ap.Completions=Pp;const Bb=Symbol("brand.privateNullableHeaders");function*PO(t){if(!t)return;if(Bb in t){const{values:r,nulls:s}=t;yield*r.entries();for(const i of s)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():ev(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=ev(r[1])?r[1]:[r[1]];let a=!1;for(const o of i)o!==void 0&&(e&&!a&&(a=!0,yield[s,null]),yield[s,o])}}const $=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[i,a]of PO(r)){const o=i.toLowerCase();s.has(o)||(e.delete(i),s.add(o)),a===null?(e.delete(i),n.add(o)):(e.append(i,a),n.delete(o))}}return{[Bb]:!0,values:e,nulls:n}};class Ub extends F{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:$([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class zb extends F{create(e,n){return this._client.post("/audio/transcriptions",ns({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class Wb extends F{create(e,n){return this._client.post("/audio/translations",ns({body:e,...n,__metadata:{model:e.model}},this._client))}}class So extends F{constructor(){super(...arguments),this.transcriptions=new zb(this._client),this.translations=new Wb(this._client),this.speech=new Ub(this._client)}}So.Transcriptions=zb;So.Translations=Wb;So.Speech=Ub;class Hb extends F{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(M`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",we,{query:e,...n})}cancel(e,n){return this._client.post(M`/batches/${e}/cancel`,n)}}class qb extends F{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(M`/assistants/${e}`,{...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(M`/assistants/${e}`,{body:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/assistants",we,{query:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(M`/assistants/${e}`,{...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let Kb=class extends F{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}};class Gb extends F{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let xc=class extends F{constructor(){super(...arguments),this.sessions=new Kb(this._client),this.transcriptionSessions=new Gb(this._client)}};xc.Sessions=Kb;xc.TranscriptionSessions=Gb;class Xb extends F{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:$([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}cancel(e,n){return this._client.post(M`/chatkit/sessions/${e}/cancel`,{...n,headers:$([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}}let Qb=class extends F{retrieve(e,n){return this._client.get(M`/chatkit/threads/${e}`,{...n,headers:$([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",Nu,{query:e,...n,headers:$([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(M`/chatkit/threads/${e}`,{...n,headers:$([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}listItems(e,n={},r){return this._client.getAPIList(M`/chatkit/threads/${e}/items`,Nu,{query:n,...r,headers:$([{"OpenAI-Beta":"chatkit_beta=v1"},r==null?void 0:r.headers])})}};class _c extends F{constructor(){super(...arguments),this.sessions=new Xb(this._client),this.threads=new Qb(this._client)}}_c.Sessions=Xb;_c.Threads=Qb;class Yb extends F{create(e,n,r){return this._client.post(M`/threads/${e}/messages`,{body:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{thread_id:s}=n;return this._client.get(M`/threads/${s}/messages/${e}`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:s,...i}=n;return this._client.post(M`/threads/${s}/messages/${e}`,{body:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(M`/threads/${e}/messages`,we,{query:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{thread_id:s}=n;return this._client.delete(M`/threads/${s}/messages/${e}`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Jb extends F{retrieve(e,n,r){const{thread_id:s,run_id:i,...a}=n;return this._client.get(M`/threads/${s}/runs/${i}/steps/${e}`,{query:a,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n,r){const{thread_id:s,...i}=n;return this._client.getAPIList(M`/threads/${s}/runs/${e}/steps`,we,{query:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const AO=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};var jd={};const hs=t=>{var e,n,r,s;if(typeof globalThis.process<"u")return((e=jd==null?void 0:jd[t])==null?void 0:e.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};var De,Fr,kh,an,Wl,Wt,Vr,Vs,Ir,Fu,yt,Hl,ql,Ea,ca,da,yv,vv,wv,xv,_v,Sv,bv;class Ta extends Ep{constructor(){super(...arguments),De.add(this),kh.set(this,[]),an.set(this,{}),Wl.set(this,{}),Wt.set(this,void 0),Vr.set(this,void 0),Vs.set(this,void 0),Ir.set(this,void 0),Fu.set(this,void 0),yt.set(this,void 0),Hl.set(this,void 0),ql.set(this,void 0),Ea.set(this,void 0)}[(kh=new WeakMap,an=new WeakMap,Wl=new WeakMap,Wt=new WeakMap,Vr=new WeakMap,Vs=new WeakMap,Ir=new WeakMap,Fu=new WeakMap,yt=new WeakMap,Hl=new WeakMap,ql=new WeakMap,Ea=new WeakMap,De=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Fr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=dn.fromReadableStream(e,this.controller);for await(const a of s)k(this,De,"m",ca).call(this,a);if((i=s.controller.signal)!=null&&i.aborted)throw new It;return this._addRun(k(this,De,"m",da).call(this))}toReadableStream(){return new dn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s){const i=new Fr;return i._run(()=>i._runToolAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.submitToolOutputs(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)k(this,De,"m",ca).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new It;return this._addRun(k(this,De,"m",da).call(this))}static createThreadAssistantStream(e,n,r){const s=new Fr;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const i=new Fr;return i._run(()=>i._runAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return k(this,Hl,"f")}currentRun(){return k(this,ql,"f")}currentMessageSnapshot(){return k(this,Wt,"f")}currentRunStepSnapshot(){return k(this,Ea,"f")}async finalRunSteps(){return await this.done(),Object.values(k(this,an,"f"))}async finalMessages(){return await this.done(),Object.values(k(this,Wl,"f"))}async finalRun(){if(await this.done(),!k(this,Vr,"f"))throw Error("Final run was not received.");return k(this,Vr,"f")}async _createThreadAssistantStream(e,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of a)k(this,De,"m",ca).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new It;return this._addRun(k(this,De,"m",da).call(this))}async _createAssistantStream(e,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.create(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)k(this,De,"m",ca).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new It;return this._addRun(k(this,De,"m",da).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let i=e[r];if(i==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(Td(i)&&Td(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!Td(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(a):i[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);e[r]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s){return await this._createToolAssistantStream(n,e,r,s)}}Fr=Ta,ca=function(e){if(!this.ended)switch(z(this,Hl,e),k(this,De,"m",wv).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":k(this,De,"m",bv).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":k(this,De,"m",vv).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":k(this,De,"m",yv).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},da=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");if(!k(this,Vr,"f"))throw Error("Final run has not been received");return k(this,Vr,"f")},yv=function(e){const[n,r]=k(this,De,"m",_v).call(this,e,k(this,Wt,"f"));z(this,Wt,n),k(this,Wl,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=n.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=k(this,Vs,"f")){if(k(this,Ir,"f"))switch(k(this,Ir,"f").type){case"text":this._emit("textDone",k(this,Ir,"f").text,k(this,Wt,"f"));break;case"image_file":this._emit("imageFileDone",k(this,Ir,"f").image_file,k(this,Wt,"f"));break}z(this,Vs,s.index)}z(this,Ir,n.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(k(this,Vs,"f")!==void 0){const s=e.data.content[k(this,Vs,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,k(this,Wt,"f"));break;case"text":this._emit("textDone",s.text,k(this,Wt,"f"));break}}k(this,Wt,"f")&&this._emit("messageDone",e.data),z(this,Wt,void 0)}},vv=function(e){const n=k(this,De,"m",xv).call(this,e);switch(z(this,Ea,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==k(this,Fu,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(k(this,yt,"f")&&this._emit("toolCallDone",k(this,yt,"f")),z(this,Fu,i.index),z(this,yt,n.step_details.tool_calls[i.index]),k(this,yt,"f")&&this._emit("toolCallCreated",k(this,yt,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":z(this,Ea,void 0),e.data.step_details.type=="tool_calls"&&k(this,yt,"f")&&(this._emit("toolCallDone",k(this,yt,"f")),z(this,yt,void 0)),this._emit("runStepDone",e.data,n);break}},wv=function(e){k(this,kh,"f").push(e),this._emit("event",e)},xv=function(e){switch(e.event){case"thread.run.step.created":return k(this,an,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=k(this,an,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=Fr.accumulateDelta(n,r.delta);k(this,an,"f")[e.data.id]=s}return k(this,an,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":k(this,an,"f")[e.data.id]=e.data;break}if(k(this,an,"f")[e.data.id])return k(this,an,"f")[e.data.id];throw new Error("No snapshot available")},_v=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=k(this,De,"m",Sv).call(this,i,a)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Sv=function(e,n){return Fr.accumulateDelta(n,e)},bv=function(e){switch(z(this,ql,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":z(this,Vr,e.data),k(this,yt,"f")&&(this._emit("toolCallDone",k(this,yt,"f")),z(this,yt,void 0));break}};let Rp=class extends F{constructor(){super(...arguments),this.steps=new Jb(this._client)}create(e,n,r){const{include:s,...i}=n;return this._client.post(M`/threads/${e}/runs`,{query:{include:s},body:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(e,n,r){const{thread_id:s}=n;return this._client.get(M`/threads/${s}/runs/${e}`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:s,...i}=n;return this._client.post(M`/threads/${s}/runs/${e}`,{body:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(M`/threads/${e}/runs`,we,{query:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{thread_id:s}=n;return this._client.post(M`/threads/${s}/runs/${e}/cancel`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(s.id,{thread_id:e},r)}createAndStream(e,n,r){return Ta.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){var i;const s=$([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await xo(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,r){return Ta.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r){const{thread_id:s,...i}=n;return this._client.post(M`/threads/${s}/runs/${e}/submit_tool_outputs`,{body:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,r){const s=await this.submitToolOutputs(e,n,r);return await this.poll(s.id,n,r)}submitToolOutputsStream(e,n,r){return Ta.createToolAssistantStream(e,this._client.beta.threads.runs,n,r)}};Rp.Steps=Jb;class Sc extends F{constructor(){super(...arguments),this.runs=new Rp(this._client),this.messages=new Yb(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(M`/threads/${e}`,{...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(M`/threads/${e}`,{body:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n){return this._client.delete(M`/threads/${e}`,{...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(e,n){return Ta.createThreadAssistantStream(e,this._client.beta.threads,n)}}Sc.Runs=Rp;Sc.Messages=Yb;class xi extends F{constructor(){super(...arguments),this.realtime=new xc(this._client),this.chatkit=new _c(this._client),this.assistants=new qb(this._client),this.threads=new Sc(this._client)}}xi.Realtime=xc;xi.ChatKit=_c;xi.Assistants=qb;xi.Threads=Sc;class Zb extends F{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class ek extends F{retrieve(e,n,r){const{container_id:s}=n;return this._client.get(M`/containers/${s}/files/${e}/content`,{...r,headers:$([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let Mp=class extends F{constructor(){super(...arguments),this.content=new ek(this._client)}create(e,n,r){return this._client.post(M`/containers/${e}/files`,ns({body:n,...r},this._client))}retrieve(e,n,r){const{container_id:s}=n;return this._client.get(M`/containers/${s}/files/${e}`,r)}list(e,n={},r){return this._client.getAPIList(M`/containers/${e}/files`,we,{query:n,...r})}delete(e,n,r){const{container_id:s}=n;return this._client.delete(M`/containers/${s}/files/${e}`,{...r,headers:$([{Accept:"*/*"},r==null?void 0:r.headers])})}};Mp.Content=ek;class Np extends F{constructor(){super(...arguments),this.files=new Mp(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(M`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",we,{query:e,...n})}delete(e,n){return this._client.delete(M`/containers/${e}`,{...n,headers:$([{Accept:"*/*"},n==null?void 0:n.headers])})}}Np.Files=Mp;class tk extends F{create(e,n,r){const{include:s,...i}=n;return this._client.post(M`/conversations/${e}/items`,{query:{include:s},body:i,...r})}retrieve(e,n,r){const{conversation_id:s,...i}=n;return this._client.get(M`/conversations/${s}/items/${e}`,{query:i,...r})}list(e,n={},r){return this._client.getAPIList(M`/conversations/${e}/items`,Nu,{query:n,...r})}delete(e,n,r){const{conversation_id:s}=n;return this._client.delete(M`/conversations/${s}/items/${e}`,r)}}class Ip extends F{constructor(){super(...arguments),this.items=new tk(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(M`/conversations/${e}`,n)}update(e,n,r){return this._client.post(M`/conversations/${e}`,{body:n,...r})}delete(e,n){return this._client.delete(M`/conversations/${e}`,n)}}Ip.Items=tk;class nk extends F{create(e,n){const r=!!e.encoding_format;let s=r?e.encoding_format:"base64";r&&je(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const i=this._client.post("/embeddings",{body:{...e,encoding_format:s},...n});return r?i:(je(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const l=o.embedding;o.embedding=AO(l)}),a)))}}class rk extends F{retrieve(e,n,r){const{eval_id:s,run_id:i}=n;return this._client.get(M`/evals/${s}/runs/${i}/output_items/${e}`,r)}list(e,n,r){const{eval_id:s,...i}=n;return this._client.getAPIList(M`/evals/${s}/runs/${e}/output_items`,we,{query:i,...r})}}class Op extends F{constructor(){super(...arguments),this.outputItems=new rk(this._client)}create(e,n,r){return this._client.post(M`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){const{eval_id:s}=n;return this._client.get(M`/evals/${s}/runs/${e}`,r)}list(e,n={},r){return this._client.getAPIList(M`/evals/${e}/runs`,we,{query:n,...r})}delete(e,n,r){const{eval_id:s}=n;return this._client.delete(M`/evals/${s}/runs/${e}`,r)}cancel(e,n,r){const{eval_id:s}=n;return this._client.post(M`/evals/${s}/runs/${e}`,r)}}Op.OutputItems=rk;class jp extends F{constructor(){super(...arguments),this.runs=new Op(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(M`/evals/${e}`,n)}update(e,n,r){return this._client.post(M`/evals/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/evals",we,{query:e,...n})}delete(e,n){return this._client.delete(M`/evals/${e}`,n)}}jp.Runs=Op;let sk=class extends F{create(e,n){return this._client.post("/files",ns({body:e,...n},this._client))}retrieve(e,n){return this._client.get(M`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",we,{query:e,...n})}delete(e,n){return this._client.delete(M`/files/${e}`,n)}content(e,n){return this._client.get(M`/files/${e}/content`,{...n,headers:$([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(e);for(;!a.status||!s.has(a.status);)if(await xo(n),a=await this.retrieve(e),Date.now()-i>r)throw new xp({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return a}};class ik extends F{}let ak=class extends F{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Dp extends F{constructor(){super(...arguments),this.graders=new ak(this._client)}}Dp.Graders=ak;class ok extends F{create(e,n,r){return this._client.getAPIList(M`/fine_tuning/checkpoints/${e}/permissions`,wc,{body:n,method:"post",...r})}retrieve(e,n={},r){return this._client.get(M`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}delete(e,n,r){const{fine_tuned_model_checkpoint:s}=n;return this._client.delete(M`/fine_tuning/checkpoints/${s}/permissions/${e}`,r)}}let Lp=class extends F{constructor(){super(...arguments),this.permissions=new ok(this._client)}};Lp.Permissions=ok;class lk extends F{list(e,n={},r){return this._client.getAPIList(M`/fine_tuning/jobs/${e}/checkpoints`,we,{query:n,...r})}}class $p extends F{constructor(){super(...arguments),this.checkpoints=new lk(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(M`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",we,{query:e,...n})}cancel(e,n){return this._client.post(M`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return this._client.getAPIList(M`/fine_tuning/jobs/${e}/events`,we,{query:n,...r})}pause(e,n){return this._client.post(M`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(M`/fine_tuning/jobs/${e}/resume`,n)}}$p.Checkpoints=lk;class _i extends F{constructor(){super(...arguments),this.methods=new ik(this._client),this.jobs=new $p(this._client),this.checkpoints=new Lp(this._client),this.alpha=new Dp(this._client)}}_i.Methods=ik;_i.Jobs=$p;_i.Checkpoints=Lp;_i.Alpha=Dp;class uk extends F{}class Fp extends F{constructor(){super(...arguments),this.graderModels=new uk(this._client)}}Fp.GraderModels=uk;class ck extends F{createVariation(e,n){return this._client.post("/images/variations",ns({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",ns({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class dk extends F{retrieve(e,n){return this._client.get(M`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",wc,e)}delete(e,n){return this._client.delete(M`/models/${e}`,n)}}class fk extends F{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class hk extends F{accept(e,n,r){return this._client.post(M`/realtime/calls/${e}/accept`,{body:n,...r,headers:$([{Accept:"*/*"},r==null?void 0:r.headers])})}hangup(e,n){return this._client.post(M`/realtime/calls/${e}/hangup`,{...n,headers:$([{Accept:"*/*"},n==null?void 0:n.headers])})}refer(e,n,r){return this._client.post(M`/realtime/calls/${e}/refer`,{body:n,...r,headers:$([{Accept:"*/*"},r==null?void 0:r.headers])})}reject(e,n={},r){return this._client.post(M`/realtime/calls/${e}/reject`,{body:n,...r,headers:$([{Accept:"*/*"},r==null?void 0:r.headers])})}}class mk extends F{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class bc extends F{constructor(){super(...arguments),this.clientSecrets=new mk(this._client),this.calls=new hk(this._client)}}bc.ClientSecrets=mk;bc.Calls=hk;function RO(t,e){return!e||!NO(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:pk(t,e)}function pk(t,e){const n=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:jO(e,s)};if(s.type==="message"){const i=s.content.map(a=>a.type==="output_text"?{...a,parsed:MO(e,a.text)}:a);return{...s,content:i}}return s}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Ch(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function MO(t,e){var n,r,s,i;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=t.text)==null?void 0:s.format)?((i=t.text)==null?void 0:i.format).$parseRaw(e):JSON.parse(e)}function NO(t){var e;return!!kp((e=t.text)==null?void 0:e.format)}function IO(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function OO(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function jO(t,e){const n=OO(t.tools??[],e.name);return{...e,...e,parsed_arguments:IO(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function Ch(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}var ms,vl,Bn,wl,kv,Cv,Ev,Tv;class Vp extends Ep{constructor(e){super(),ms.add(this),vl.set(this,void 0),Bn.set(this,void 0),wl.set(this,void 0),z(this,vl,e)}static createResponse(e,n,r){const s=new Vp(n);return s._run(()=>s._createOrRetrieveResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(e,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),k(this,ms,"m",kv).call(this);let i,a=null;"response_id"in n?(i=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):i=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of i)k(this,ms,"m",Cv).call(this,l,a);if((o=i.controller.signal)!=null&&o.aborted)throw new It;return k(this,ms,"m",Ev).call(this)}[(vl=new WeakMap,Bn=new WeakMap,wl=new WeakMap,ms=new WeakSet,kv=function(){this.ended||z(this,Bn,void 0)},Cv=function(n,r){if(this.ended)return;const s=(a,o)=>{(r==null||o.sequence_number>r)&&this._emit(a,o)},i=k(this,ms,"m",Tv).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const a=i.output[n.output_index];if(!a)throw new V(`missing output at index ${n.output_index}`);if(a.type==="message"){const o=a.content[n.content_index];if(!o)throw new V(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new V(`expected content to be 'output_text', got ${o.type}`);s("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=i.output[n.output_index];if(!a)throw new V(`missing output at index ${n.output_index}`);a.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:s(n.type,n);break}},Ev=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");const n=k(this,Bn,"f");if(!n)throw new V("request ended without sending any events");z(this,Bn,void 0);const r=DO(n,k(this,vl,"f"));return z(this,wl,r),r},Tv=function(n){var s;let r=k(this,Bn,"f");if(!r){if(n.type!=="response.created")throw new V(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=z(this,Bn,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const i=r.output[n.output_index];if(!i)throw new V(`missing output at index ${n.output_index}`);const a=i.type,o=n.part;a==="message"&&o.type!=="reasoning_text"?i.content.push(o):a==="reasoning"&&o.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(o));break}case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new V(`missing output at index ${n.output_index}`);if(i.type==="message"){const a=i.content[n.content_index];if(!a)throw new V(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new V(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new V(`missing output at index ${n.output_index}`);i.type==="function_call"&&(i.arguments+=n.delta);break}case"response.reasoning_text.delta":{const i=r.output[n.output_index];if(!i)throw new V(`missing output at index ${n.output_index}`);if(i.type==="reasoning"){const a=(s=i.content)==null?void 0:s[n.content_index];if(!a)throw new V(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new V(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{z(this,Bn,n.response);break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=k(this,wl,"f");if(!e)throw new V("stream ended without producing a ChatCompletion");return e}}function DO(t,e){return RO(t,e)}class gk extends F{list(e,n={},r){return this._client.getAPIList(M`/responses/${e}/input_items`,we,{query:n,...r})}}class yk extends F{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class kc extends F{constructor(){super(...arguments),this.inputItems=new gk(this._client),this.inputTokens=new yk(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Ch(r),r))}retrieve(e,n={},r){return this._client.get(M`/responses/${e}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&Ch(s),s))}delete(e,n){return this._client.delete(M`/responses/${e}`,{...n,headers:$([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>pk(r,e))}stream(e,n){return Vp.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(M`/responses/${e}/cancel`,n)}compact(e,n){return this._client.post("/responses/compact",{body:e,...n})}}kc.InputItems=gk;kc.InputTokens=yk;class vk extends F{create(e,n,r){return this._client.post(M`/uploads/${e}/parts`,ns({body:n,...r},this._client))}}class Bp extends F{constructor(){super(...arguments),this.parts=new vk(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(M`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(M`/uploads/${e}/complete`,{body:n,...r})}}Bp.Parts=vk;const LO=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};class wk extends F{create(e,n,r){return this._client.post(M`/vector_stores/${e}/file_batches`,{body:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:s}=n;return this._client.get(M`/vector_stores/${s}/file_batches/${e}`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{vector_store_id:s}=n;return this._client.post(M`/vector_stores/${s}/file_batches/${e}/cancel`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r){const{vector_store_id:s,...i}=n;return this._client.getAPIList(M`/vector_stores/${s}/file_batches/${e}/files`,we,{query:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(e,n,r){var i;const s=$([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(n,{vector_store_id:e},{...r,headers:s}).withResponse();switch(a.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await xo(l);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,a=Math.min(i,n.length),o=this._client,l=n.values(),u=[...r];async function c(f){for(let h of f){const w=await o.files.create({file:h,purpose:"assistants"},s);u.push(w.id)}}const d=Array(a).fill(l).map(c);return await LO(d),await this.createAndPoll(e,{file_ids:u})}}class xk extends F{create(e,n,r){return this._client.post(M`/vector_stores/${e}/files`,{body:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:s}=n;return this._client.get(M`/vector_stores/${s}/files/${e}`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{vector_store_id:s,...i}=n;return this._client.post(M`/vector_stores/${s}/files/${e}`,{body:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(M`/vector_stores/${e}/files`,we,{query:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{vector_store_id:s}=n;return this._client.delete(M`/vector_stores/${s}/files/${e}`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){var i;const s=$([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...r,headers:s}).withResponse(),o=a.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=a.response.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await xo(l);break;case"failed":case"completed":return o}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}content(e,n,r){const{vector_store_id:s}=n;return this._client.getAPIList(M`/vector_stores/${s}/files/${e}/content`,wc,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Cc extends F{constructor(){super(...arguments),this.files=new xk(this._client),this.fileBatches=new wk(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(M`/vector_stores/${e}`,{...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(M`/vector_stores/${e}`,{body:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",we,{query:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(M`/vector_stores/${e}`,{...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(e,n,r){return this._client.getAPIList(M`/vector_stores/${e}/search`,wc,{body:n,method:"post",...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}Cc.Files=xk;Cc.FileBatches=wk;class _k extends F{create(e,n){return this._client.post("/videos",fv({body:e,...n},this._client))}retrieve(e,n){return this._client.get(M`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",Nu,{query:e,...n})}delete(e,n){return this._client.delete(M`/videos/${e}`,n)}downloadContent(e,n={},r){return this._client.get(M`/videos/${e}/content`,{query:n,...r,headers:$([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}remix(e,n,r){return this._client.post(M`/videos/${e}/remix`,fv({body:n,...r},this._client))}}var xs,Sk,Kl;class bk extends F{constructor(){super(...arguments),xs.add(this)}async unwrap(e,n,r=this._client.webhookSecret,s=300){return await this.verifySignature(e,n,r,s),JSON.parse(e)}async verifySignature(e,n,r=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");k(this,xs,"m",Sk).call(this,r);const i=$([n]).values,a=k(this,xs,"m",Kl).call(this,i,"webhook-signature"),o=k(this,xs,"m",Kl).call(this,i,"webhook-timestamp"),l=k(this,xs,"m",Kl).call(this,i,"webhook-id"),u=parseInt(o,10);if(isNaN(u))throw new ra("Invalid webhook timestamp format");const c=Math.floor(Date.now()/1e3);if(c-u>s)throw new ra("Webhook timestamp is too old");if(u>c+s)throw new ra("Webhook timestamp is too new");const d=a.split(" ").map(v=>v.startsWith("v1,")?v.substring(3):v),f=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),h=l?`${l}.${o}.${e}`:`${o}.${e}`,w=await crypto.subtle.importKey("raw",f,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const v of d)try{const S=Buffer.from(v,"base64");if(await crypto.subtle.verify("HMAC",w,S,new TextEncoder().encode(h)))return}catch{continue}throw new ra("The given webhook signature does not match the expected signature")}}xs=new WeakSet,Sk=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Kl=function(e,n){if(!e)throw new Error("Headers are required");const r=e.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var Eh,Up,Gl,kk;class G{constructor({baseURL:e=hs("OPENAI_BASE_URL"),apiKey:n=hs("OPENAI_API_KEY"),organization:r=hs("OPENAI_ORG_ID")??null,project:s=hs("OPENAI_PROJECT_ID")??null,webhookSecret:i=hs("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(Eh.add(this),Gl.set(this,void 0),this.completions=new Zb(this),this.chat=new Ap(this),this.embeddings=new nk(this),this.files=new sk(this),this.images=new ck(this),this.audio=new So(this),this.moderations=new fk(this),this.models=new dk(this),this.fineTuning=new _i(this),this.graders=new Fp(this),this.vectorStores=new Cc(this),this.webhooks=new bk(this),this.beta=new xi(this),this.batches=new Hb(this),this.uploads=new Bp(this),this.responses=new kc(this),this.realtime=new bc(this),this.conversations=new Ip(this),this.evals=new jp(this),this.containers=new Np(this),this.videos=new _k(this),n===void 0)throw new V("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const o={apiKey:n,organization:r,project:s,webhookSecret:i,...a,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&FI())throw new V(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=o.baseURL,this.timeout=o.timeout??Up.DEFAULT_TIMEOUT,this.logger=o.logger??console;const l="warn";this.logLevel=l,this.logLevel=cv(o.logLevel,"ClientOptions.logLevel",this)??cv(hs("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??WI(),z(this,Gl,qI),this._options=o,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=s,this.webhookSecret=i}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return $([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return JI(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${vs}`}defaultIdempotencyKey(){return`stainless-node-retry-${KS()}`}makeStatusError(e,n,r,s){return Ve.generate(e,n,r,s)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(r){throw r instanceof V?r:new V(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new V(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,r){const s=!k(this,Eh,"m",kk).call(this)&&r||this.baseURL,i=OI(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return jI(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>({method:e,path:n,...s})))}request(e,n=null){return new vc(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var g,p;const s=await e,i=s.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(s);const{req:a,url:o,timeout:l}=await this.buildRequest(s,{retryCount:i-n});await this.prepareRequest(a,{url:o,options:s});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),c=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(je(this).debug(`[${u}] sending request`,Nr({retryOfRequestLogID:r,method:s.method,url:o,options:s,headers:a.headers})),(g=s.signal)!=null&&g.aborted)throw new It;const f=new AbortController,h=await this.fetchWithTimeout(o,a,l,f).catch(mh),w=Date.now();if(h instanceof globalThis.Error){const y=`retrying, ${n} attempts remaining`;if((p=s.signal)!=null&&p.aborted)throw new It;const x=hh(h)||/timed? ?out/i.test(String(h)+("cause"in h?String(h.cause):""));if(n)return je(this).info(`[${u}] connection ${x?"timed out":"failed"} - ${y}`),je(this).debug(`[${u}] connection ${x?"timed out":"failed"} (${y})`,Nr({retryOfRequestLogID:r,url:o,durationMs:w-d,message:h.message})),this.retryRequest(s,n,r??u);throw je(this).info(`[${u}] connection ${x?"timed out":"failed"} - error; no more retries left`),je(this).debug(`[${u}] connection ${x?"timed out":"failed"} (error; no more retries left)`,Nr({retryOfRequestLogID:r,url:o,durationMs:w-d,message:h.message})),x?new xp:new gc({cause:h})}const v=[...h.headers.entries()].filter(([y])=>y==="x-request-id").map(([y,x])=>", "+y+": "+JSON.stringify(x)).join(""),S=`[${u}${c}${v}] ${a.method} ${o} ${h.ok?"succeeded":"failed"} with status ${h.status} in ${w-d}ms`;if(!h.ok){const y=await this.shouldRetry(h);if(n&&y){const I=`retrying, ${n} attempts remaining`;return await HI(h.body),je(this).info(`${S} - ${I}`),je(this).debug(`[${u}] response error (${I})`,Nr({retryOfRequestLogID:r,url:h.url,status:h.status,headers:h.headers,durationMs:w-d})),this.retryRequest(s,n,r??u,h.headers)}const x=y?"error; no more retries left":"error; not retryable";je(this).info(`${S} - ${x}`);const _=await h.text().catch(I=>mh(I).message),b=$I(_),C=b?void 0:_;throw je(this).debug(`[${u}] response error (${x})`,Nr({retryOfRequestLogID:r,url:h.url,status:h.status,headers:h.headers,message:C,durationMs:Date.now()-d})),this.makeStatusError(h.status,b,C,h.headers)}return je(this).info(S),je(this).debug(`[${u}] response start`,Nr({retryOfRequestLogID:r,url:h.url,status:h.status,headers:h.headers,durationMs:w-d})),{response:h,options:s,controller:f,requestLogID:u,retryOfRequestLogID:r,startTime:d}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new oO(this,r,e)}async fetchWithTimeout(e,n,r,s){const{signal:i,method:a,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r),u=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,c={signal:s.signal,...u?{duplex:"half"}:{},method:"GET",...o};a&&(c.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,c)}finally{clearTimeout(l)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){let i;const a=s==null?void 0:s.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(i=l)}const o=s==null?void 0:s.get("retry-after");if(o&&!i){const l=parseFloat(o);Number.isNaN(l)?i=Date.parse(o)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,l)}return await xo(i),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:s,path:i,query:a,defaultBaseURL:o}=r,l=this.buildURL(i,a,o);"timeout"in r&&LI("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:c}=this.buildBody({options:r}),d=await this.buildHeaders({options:e,method:s,bodyHeaders:u,retryCount:n});return{req:{method:s,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&c instanceof globalThis.ReadableStream&&{duplex:"half"},...c&&{body:c},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const a=$([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...zI(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=$([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:ab(e)}:k(this,Gl,"f").call(this,{body:e,headers:r})}}Up=G,Gl=new WeakMap,Eh=new WeakSet,kk=function(){return this.baseURL!=="https://api.openai.com/v1"};G.OpenAI=Up;G.DEFAULT_TIMEOUT=6e5;G.OpenAIError=V;G.APIError=Ve;G.APIConnectionError=gc;G.APIConnectionTimeoutError=xp;G.APIUserAbortError=It;G.NotFoundError=YS;G.ConflictError=JS;G.RateLimitError=eb;G.BadRequestError=GS;G.AuthenticationError=XS;G.InternalServerError=tb;G.PermissionDeniedError=QS;G.UnprocessableEntityError=ZS;G.InvalidWebhookSignatureError=ra;G.toFile=fO;G.Completions=Zb;G.Chat=Ap;G.Embeddings=nk;G.Files=sk;G.Images=ck;G.Audio=So;G.Moderations=fk;G.Models=dk;G.FineTuning=_i;G.Graders=Fp;G.VectorStores=Cc;G.Webhooks=bk;G.Beta=xi;G.Batches=Hb;G.Uploads=Bp;G.Responses=kc;G.Realtime=bc;G.Conversations=Ip;G.Evals=jp;G.Containers=Np;G.Videos=_k;var Pv;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(Pv||(Pv={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Av;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(Av||(Av={}));var Rv;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Rv||(Rv={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=["user","model","function","system"];var Nv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Nv||(Nv={}));var Iv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Iv||(Iv={}));var Ov;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ov||(Ov={}));var jv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(jv||(jv={}));var Pa;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Pa||(Pa={}));var Dv;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Dv||(Dv={}));var Lv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Lv||(Lv={}));var $v;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($v||($v={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class ps extends He{constructor(e,n){super(e),this.response=n}}class Ck extends He{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class dr extends He{}class Ek extends He{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="https://generativelanguage.googleapis.com",FO="v1beta",VO="0.24.1",BO="genai-js";var rs;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(rs||(rs={}));class UO{constructor(e,n,r,s,i){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||FO;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||$O}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function zO(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${BO}/${VO}`),e.join(" ")}async function WO(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",zO(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new dr(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new dr(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new dr(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function HO(t,e,n,r,s,i){const a=new UO(t,e,n,r,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},XO(i)),{method:"POST",headers:await WO(a),body:s})}}async function bo(t,e,n,r,s,i={},a=fetch){const{url:o,fetchOptions:l}=await HO(t,e,n,r,s,i);return qO(o,l,a)}async function qO(t,e,n=fetch){let r;try{r=await n(t,e)}catch(s){KO(s,t)}return r.ok||await GO(r,t),r}function KO(t,e){let n=t;throw n.name==="AbortError"?(n=new Ek(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof Ck||t instanceof dr||(n=new He(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function GO(t,e){let n="",r;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new Ck(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function XO(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Xl(t.candidates[0]))throw new ps(`${qn(t)}`,t);return QO(t)}else if(t.promptFeedback)throw new ps(`Text not available. ${qn(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Xl(t.candidates[0]))throw new ps(`${qn(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Fv(t)[0]}else if(t.promptFeedback)throw new ps(`Function call not available. ${qn(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Xl(t.candidates[0]))throw new ps(`${qn(t)}`,t);return Fv(t)}else if(t.promptFeedback)throw new ps(`Function call not available. ${qn(t)}`,t)},t}function QO(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const a of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Fv(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const a of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const YO=[Pa.RECITATION,Pa.SAFETY,Pa.LANGUAGE];function Xl(t){return!!t.finishReason&&YO.includes(t.finishReason)}function qn(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const i=t.candidates[0];Xl(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function no(t){return this instanceof no?(this.v=t,this):new no(t)}function JO(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(f){r[f]&&(s[f]=function(h){return new Promise(function(w,v){i.push([f,h,w,v])>1||o(f,h)})})}function o(f,h){try{l(r[f](h))}catch(w){d(i[0][3],w)}}function l(f){f.value instanceof no?Promise.resolve(f.value.v).then(u,c):d(i[0][2],f)}function u(f){o("next",f)}function c(f){o("throw",f)}function d(f,h){f(h),i.shift(),i.length&&o(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function ZO(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=nj(e),[r,s]=n.tee();return{stream:tj(r),response:ej(s)}}async function ej(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return zp(rj(e));e.push(s)}}function tj(t){return JO(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield no(n.read());if(s)break;yield yield no(zp(r))}})}function nj(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return e.read().then(({value:a,done:o})=>{if(o){if(s.trim()){r.error(new He("Failed to parse stream"));return}r.close();return}s+=a;let l=s.match(Vv),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new He(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),s=s.substring(l[0].length),l=s.match(Vv)}return i()}).catch(a=>{let o=a;throw o.stack=a.stack,o.name==="AbortError"?o=new Ek("Request aborted when reading from the stream"):o=new He("Error reading from the stream"),o})}}})}function rj(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let s=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const a={};for(const o of i.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),n.candidates[s].content.parts.push(a)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(t,e,n,r){const s=await bo(e,rs.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return ZO(s)}async function Pk(t,e,n,r){const i=await(await bo(e,rs.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:zp(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function ro(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return sj(e)}function sj(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),s=!0):(e.parts.push(i),r=!0);if(r&&s)throw new He("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new He("No content is provided for sending chat message.");return r?e:n}function ij(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new dr("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(s)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const i=ro(t);r.contents=[i]}return{generateContentRequest:r}}function Bv(t){let e;return t.contents?e=t:e={contents:[ro(t)]},t.systemInstruction&&(e.systemInstruction=Ak(t.systemInstruction)),e}function aj(t){return typeof t=="string"||Array.isArray(t)?{content:ro(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],oj={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function lj(t){let e=!1;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new He(`First content should be with role 'user', got ${r}`);if(!Mv.includes(r))throw new He(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Mv)}`);if(!Array.isArray(s))throw new He("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new He("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of s)for(const l of Uv)l in o&&(i[l]+=1);const a=oj[r];for(const o of Uv)if(!a.includes(o)&&i[o]>0)throw new He(`Content with role '${r}' can't contain '${o}' part`);e=!0}}function zv(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="SILENT_ERROR";class uj{constructor(e,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(lj(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,s,i,a,o,l;await this._sendPromise;const u=ro(e),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>Pk(this._apiKey,this.model,c,d)).then(h=>{var w;if(zv(h.response)){this._history.push(u);const v=Object.assign({parts:[],role:"model"},(w=h.response.candidates)===null||w===void 0?void 0:w[0].content);this._history.push(v)}else{const v=qn(h.response);v&&console.warn(`sendMessage() was unsuccessful. ${v}. Inspect response object for details.`)}f=h}).catch(h=>{throw this._sendPromise=Promise.resolve(),h}),await this._sendPromise,f}async sendMessageStream(e,n={}){var r,s,i,a,o,l;await this._sendPromise;const u=ro(e),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),n),f=Tk(this._apiKey,this.model,c,d);return this._sendPromise=this._sendPromise.then(()=>f).catch(h=>{throw new Error(Wv)}).then(h=>h.response).then(h=>{if(zv(h)){this._history.push(u);const w=Object.assign({},h.candidates[0].content);w.role||(w.role="model"),this._history.push(w)}else{const w=qn(h);w&&console.warn(`sendMessageStream() was unsuccessful. ${w}. Inspect response object for details.`)}}).catch(h=>{h.message!==Wv&&console.error(h)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t,e,n,r){return(await bo(e,rs.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(t,e,n,r){return(await bo(e,rs.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function fj(t,e,n,r){const s=n.requests.map(a=>Object.assign(Object.assign({},a),{model:e}));return(await bo(e,rs.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Ak(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const s=Bv(e),i=Object.assign(Object.assign({},this._requestOptions),n);return Pk(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(e,n={}){var r;const s=Bv(e),i=Object.assign(Object.assign({},this._requestOptions),n);return Tk(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(e){var n;return new uj(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=ij(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return cj(this.apiKey,this.model,r,s)}async embedContent(e,n={}){const r=aj(e),s=Object.assign(Object.assign({},this._requestOptions),n);return dj(this.apiKey,this.model,r,s)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return fj(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new He("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Hv(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new dr("Cached content must contain a `name` field.");if(!e.model)throw new dr("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const a of s)if(n!=null&&n[a]&&e[a]&&(n==null?void 0:n[a])!==e[a]){if(a==="model"){const o=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(o===l)continue}throw new dr(`Different value for "${a}" specified in modelParams (${n[a]}) and cachedContent (${e[a]})`)}const i=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Hv(this.apiKey,i,r)}}const Rk=[{code:"en",name:"English",nativeName:"English",direction:"ltr"},{code:"mn",name:"Mongolian",nativeName:"",direction:"ltr"},{code:"es",name:"Spanish",nativeName:"Espaol",direction:"ltr"},{code:"fr",name:"French",nativeName:"Franais",direction:"ltr"},{code:"de",name:"German",nativeName:"Deutsch",direction:"ltr"},{code:"pt",name:"Portuguese",nativeName:"Portugus",direction:"ltr"},{code:"it",name:"Italian",nativeName:"Italiano",direction:"ltr"},{code:"ja",name:"Japanese",nativeName:"",direction:"ltr"},{code:"zh",name:"Chinese",nativeName:"",direction:"ltr"},{code:"ko",name:"Korean",nativeName:"",direction:"ltr"},{code:"ar",name:"Arabic",nativeName:"",direction:"rtl"},{code:"hi",name:"Hindi",nativeName:"",direction:"ltr"},{code:"ru",name:"Russian",nativeName:"",direction:"ltr"},{code:"nl",name:"Dutch",nativeName:"Nederlands",direction:"ltr"},{code:"tr",name:"Turkish",nativeName:"Trke",direction:"ltr"}];let ss=null,Vu=null,is=null,Bu="anthropic";function KD(t){ss=new wo({apiKey:t,dangerouslyAllowBrowser:!0})}function GD(t){Vu=new G({apiKey:t,dangerouslyAllowBrowser:!0})}function XD(t){is=new hj(t)}function QD(t){Bu=t}function YD(){return Bu}function JD(){return ss!==null}function ZD(){return Vu!==null}function eL(){return is!==null}function Dd(){return ss!==null||is!==null}function Ec(){return Bu==="gemini"&&is?"gemini":Bu==="anthropic"&&ss?"anthropic":is?"gemini":ss?"anthropic":null}const Mk={twitter:{maxLength:280,style:"concise, punchy, uses 1-2 relevant emojis, includes a hook"},instagram:{maxLength:2200,style:"engaging, storytelling, uses emojis, includes call-to-action, hashtag-friendly"},linkedin:{maxLength:3e3,style:"professional, thought-leadership, insightful, uses line breaks for readability"},tiktok:{maxLength:300,style:"trendy, casual, uses gen-z language, hook in first line, emoji-heavy"},facebook:{maxLength:63206,style:"conversational, community-focused, shareable, uses emojis moderately, encourages engagement and discussion"}},Nk={professional:"authoritative, data-driven, industry expert, credible",casual:"friendly, conversational, relatable, approachable",witty:"clever, humorous, uses wordplay, memorable one-liners",inspirational:"motivating, uplifting, visionary, empowering"};async function mj(t,e){if(!is)throw new Error("Gemini API key not configured.");return(await is.getGenerativeModel({model:"gemini-2.0-flash"}).generateContent({contents:[{role:"user",parts:[{text:`${t}

${e}`}]}]})).response.text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim()}async function pj(t,e,n=1024){if(!ss)throw new Error("Anthropic API key not configured.");const s=(await ss.messages.create({model:"claude-sonnet-4-20250514",max_tokens:n,messages:[{role:"user",content:e}],system:t})).content.find(i=>i.type==="text");if(!s||s.type!=="text")throw new Error("No text content in response");return s.text}async function Wp(t,e,n=1024){const r=Ec();if(!r)throw new Error("No AI provider configured. Please add an Anthropic or Gemini API key in Automation settings.");try{return r==="gemini"?await mj(t,e):await pj(t,e,n)}catch(s){throw gj(s)}}async function tL(t){if(!Ec())throw new Error("No AI provider configured. Please add an Anthropic or Gemini API key in Automation settings.");const{topic:n,platform:r,tone:s,niche:i,targetAudience:a,includeHashtags:o=!0,additionalContext:l,language:u="en"}=t,c=Mk[r],d=Nk[s],f=Rk.find(g=>g.code===u),h=(f==null?void 0:f.name)||"English",w=`You are an expert social media content creator specializing in viral, high-engagement content.

Your expertise:
- Creating platform-optimized content that drives engagement
- Understanding audience psychology and what makes content shareable
- Crafting hooks that stop the scroll
- Writing compelling calls-to-action
- Writing authentic, native-level content in multiple languages

Output format: Respond with valid JSON only, no markdown, no code blocks.
IMPORTANT: All content must be written in ${h}. Do not use any other language for the caption or call-to-action.`,v=`Create a ${r} post about: "${n}"

Requirements:
- Tone: ${d}
- Style: ${c.style}
- Maximum length: ${c.maxLength} characters for the main caption
- Language: Write ALL content in ${h} (${u})
${i?`- Niche/Industry: ${i}`:""}
${a?`- Target audience: ${a}`:""}
${l?`- Additional context: ${l}`:""}

Respond with this exact JSON structure:
{
  "caption": "The main post content in ${h} (under ${c.maxLength} chars)",
  "hashtags": ["relevant", "hashtags", "without", "hash", "symbol"],
  "hook": "The attention-grabbing first line in ${h}",
  "callToAction": "What you want the audience to do in ${h}"
}

${o?`Include 5-8 relevant hashtags that work well for ${h}-speaking audiences.`:"Do not include hashtags."}
Make the content authentic, not generic. Avoid clichs. Write in natural, native ${h}.`,S=await Wp(w,v,1024);try{const g=JSON.parse(S);return{caption:g.caption||"",hashtags:Array.isArray(g.hashtags)?g.hashtags:[],hook:g.hook||"",callToAction:g.callToAction||""}}catch{return{caption:S.slice(0,c.maxLength),hashtags:[],hook:"",callToAction:""}}}async function nL(t,e=3){if(!Ec())throw new Error("No AI provider configured. Please add an Anthropic or Gemini API key in Automation settings.");const{topic:r,platform:s,tone:i,language:a="en"}=t,o=Mk[s],l=Nk[i],u=Rk.find(w=>w.code===a),c=(u==null?void 0:u.name)||"English",d=`You are an expert social media content creator. Generate multiple unique variations of content, each with a different angle or approach.

Output format: Respond with valid JSON only, no markdown, no code blocks.
IMPORTANT: All content must be written in ${c}. Do not use any other language.`,f=`Create ${e} different ${s} posts about: "${r}"

Requirements for each:
- Tone: ${l}
- Style: ${o.style}
- Maximum length: ${o.maxLength} characters
- Language: Write ALL content in ${c} (${a})
- Each variation should have a unique angle/approach

Respond with this exact JSON structure:
{
  "variations": [
    {
      "caption": "Post content in ${c}",
      "hashtags": ["relevant", "hashtags"],
      "angle": "Brief description of this variation's unique angle"
    }
  ]
}

Make each variation distinctly different while staying on topic. Write in natural, native ${c}.`,h=await Wp(d,f,2048);try{return JSON.parse(h).variations||[]}catch{return[]}}async function rL(t){var l,u;if(!Vu)throw new Error("OpenAI API key not configured. Please add your API key in Settings.");const{prompt:e,style:n="vivid",size:r="1024x1024",quality:s="standard"}=t,i=`Create a modern, professional social media image: ${e}.
Style: Clean, high-quality, suitable for social media marketing.
Do not include any text or words in the image.`,o=(u=(l=(await Vu.images.generate({model:"dall-e-3",prompt:i,n:1,size:r,style:n,quality:s})).data)==null?void 0:l[0])==null?void 0:u.url;if(!o)throw new Error("No image generated");return o}function gj(t){const e=t instanceof Error?t.message:String(t);return e.includes("credit balance")||e.includes("too low")?new Error("API credits depleted. Please add credits at console.anthropic.com or update your API key."):e.includes("invalid_api_key")||e.includes("401")?new Error("Invalid API key. Please check your API key in Automation settings."):e.includes("rate_limit")||e.includes("429")?new Error("Rate limit exceeded. Please wait a moment and try again."):t instanceof Error?t:new Error(e)}async function sL(t,e,n){if(!Ec())throw new Error("No AI provider configured. Please add an Anthropic or Gemini API key in Automation settings.");const s="You are a social media trend analyst. Respond with valid JSON only, no markdown, no code blocks.",i=`Analyze how relevant this trend is to the given niche and topics.

Trend: "${t}"
Niche: "${e}"
Topics of interest: ${n.join(", ")}

Respond with this exact JSON structure:
{
  "relevanceScore": 85,
  "reasoning": "Brief explanation of why this score",
  "suggestedAngles": ["angle 1", "angle 2", "angle 3"],
  "targetAudiences": ["audience 1", "audience 2"],
  "bestPlatforms": ["twitter", "linkedin"]
}

relevanceScore should be 0-100. Only include platforms from: twitter, instagram, linkedin, tiktok, facebook`,a=await Wp(s,i,512);try{return JSON.parse(a)}catch{return{relevanceScore:50,reasoning:"Unable to analyze",suggestedAngles:[],targetAudiences:[],bestPlatforms:["twitter"]}}}const yj=({className:t,variant:e="compact"})=>{var d;const n=Ge(f=>f.errorState),s=n.errors.filter(f=>!f.resolved).length,a=Dd()?s>3?"error":s>0?"warning":"healthy":"warning",l={healthy:{color:"text-aurora-neon",bgColor:"bg-aurora-neon/10",borderColor:"border-aurora-neon/30",icon:cc,label:"Systems Nominal",glow:"shadow-glow-soft"},warning:{color:"text-warning",bgColor:"bg-warning/10",borderColor:"border-warning/30",icon:rh,label:s>0?`${s} Issue${s>1?"s":""}`:"API Not Configured",glow:""},error:{color:"text-critical",bgColor:"bg-critical/10",borderColor:"border-critical/30",icon:rh,label:`${s} Errors`,glow:""}}[a],u=l.icon,c=()=>{if(!n.lastError)return null;const f=new Date(n.lastError.timestamp),w=new Date().getTime()-f.getTime(),v=Math.floor(w/6e4);if(v<1)return"Just now";if(v<60)return`${v}m ago`;const S=Math.floor(v/60);return S<24?`${S}h ago`:f.toLocaleDateString()};return e==="compact"?m.jsxs("div",{className:Me("flex items-center gap-2 px-2 py-1.5 rounded-lg",l.bgColor,"border",l.borderColor,l.glow,"transition-all duration-400 ease-aurora",t),children:[m.jsx(u,{size:14,className:l.color}),m.jsx("span",{className:Me("text-[10px] font-medium",l.color),children:l.label}),s>0&&m.jsx("span",{className:Me("w-4 h-4 flex items-center justify-center rounded-full text-[9px] font-bold",a==="error"?"bg-critical text-white":"bg-warning text-black"),children:s})]}):m.jsxs("div",{className:Me("p-3 rounded-lg",l.bgColor,"border",l.borderColor,l.glow,"transition-all duration-400 ease-aurora",t),children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(xM,{size:16,className:l.color}),m.jsx("span",{className:Me("text-sm font-medium",l.color),children:"System Health"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:Me("w-2 h-2 rounded-full animate-pulse",a==="healthy"&&"bg-aurora-neon",a==="warning"&&"bg-warning",a==="error"&&"bg-critical")}),m.jsx("span",{className:"text-xs text-gray-400",children:l.label})]})]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs",children:[m.jsx("span",{className:"text-gray-500",children:"AI Provider"}),m.jsx("span",{className:Dd()?"text-aurora-neon":"text-warning",children:Dd()?"Connected":"Not Configured"})]}),n.lastError&&m.jsxs("div",{className:"flex items-center justify-between text-xs",children:[m.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[m.jsx(ip,{size:10}),"Last Issue"]}),m.jsx("span",{className:"text-gray-400",children:c()})]}),s>0&&m.jsx("div",{className:"mt-2 p-2 rounded bg-black/20 border border-white/5",children:m.jsx("p",{className:"text-[10px] text-gray-400 truncate",children:((d=n.lastError)==null?void 0:d.message)||"Unknown error"})})]})]})},vj=[{id:"dashboard",label:"Growth Hub",icon:lp},{id:"trends",label:"Trend Radar",icon:fc},{id:"content",label:"Content Lab",icon:aS},{id:"templates",label:"Templates",icon:nS},{id:"hashtags",label:"Hashtags",icon:ap},{id:"media",label:"Media Library",icon:sS},{id:"drafts",label:"Queue",icon:dc},{id:"published",label:"Published",icon:cc},{id:"calendar",label:"Calendar",icon:sp},{id:"video",label:"Video Lab",icon:cp},{id:"budget",label:"Budget",icon:jM},{id:"automation",label:"Automation",icon:up}];function wj({activeView:t,onViewChange:e,onShowShortcuts:n,onShowNotifications:r}){const s=Ge(i=>i.logout);return m.jsxs(pe.aside,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3},className:"fixed left-0 top-0 h-screen w-64 glass-panel border-r border-glass-border flex flex-col z-50",children:[m.jsx("div",{className:"p-5 border-b border-glass-border",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg gradient-bg flex items-center justify-center shadow-glow-primary",children:m.jsx(dp,{size:20,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold gradient-text",children:"SOCI"}),m.jsx("p",{className:"text-xs text-gray-500",children:"AI Growth Engine"})]})]})}),m.jsx("nav",{className:"flex-1 p-3 overflow-y-auto",children:m.jsx("ul",{className:"space-y-1",children:vj.map(i=>{const a=t===i.id,o=i.icon;return m.jsx("li",{children:m.jsxs("button",{onClick:()=>e(i.id),className:`
                    w-full flex items-center gap-3 px-3 py-2.5 rounded-lg
                    transition-all duration-400 ease-aurora text-left relative
                    ${a?"bg-aurora-neon/10 text-white":"text-gray-400 hover:text-white hover:bg-white/5 hover:shadow-glow-soft"}
                  `,children:[a&&m.jsx(pe.div,{layoutId:"activeNavBg",className:"absolute inset-0 rounded-lg bg-aurora-neon/10 border border-aurora-neon/20 shadow-glow-soft",transition:{type:"spring",stiffness:300,damping:30}}),m.jsx("span",{className:`relative z-10 ${a?"text-aurora-neon":""}`,children:m.jsx(o,{size:18})}),m.jsx("span",{className:"relative z-10 text-sm font-medium",children:i.label})]})},i.id)})})}),m.jsxs("div",{className:"flex-shrink-0 p-3 border-t border-glass-border space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between px-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-xs text-gray-500",children:"Theme"}),m.jsx(XM,{variant:"compact"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[n&&m.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors text-gray-400 hover:text-white",title:"Keyboard Shortcuts (/)",children:m.jsx(op,{size:14})}),r&&m.jsx(HN,{onClick:r})]})]}),m.jsx(yj,{className:"mx-1"}),m.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg bg-critical/10 hover:bg-critical/20 transition-colors text-critical/80 hover:text-critical border border-critical/20",children:[m.jsx(AM,{size:16}),m.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})]})]})}const qv=[{id:"dashboard",label:"Growth Hub",icon:lp},{id:"trends",label:"Trend Radar",icon:fc},{id:"content",label:"Content Lab",icon:aS},{id:"templates",label:"Templates",icon:nS},{id:"hashtags",label:"Hashtags",icon:ap},{id:"media",label:"Media Library",icon:sS},{id:"drafts",label:"Queue",icon:dc},{id:"calendar",label:"Calendar",icon:sp},{id:"video",label:"Video Lab",icon:cp},{id:"automation",label:"Automation",icon:up}];function xj({activeView:t,onViewChange:e,isOpen:n,onToggle:r}){return m.jsxs(m.Fragment,{children:[m.jsxs("header",{className:"fixed top-0 left-0 right-0 h-14 glass-panel border-b border-glass-border z-50 flex items-center justify-between px-4",children:[m.jsxs("div",{className:"flex items-center gap-2.5",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg gradient-bg flex items-center justify-center",children:m.jsx(dp,{size:16,className:"text-white"})}),m.jsx("h1",{className:"text-lg font-bold gradient-text",children:"SOCI"})]}),m.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-white/5 transition-colors text-gray-400","aria-label":n?"Close menu":"Open menu","aria-expanded":n,children:n?m.jsx(fi,{size:22}):m.jsx(RM,{size:22})})]}),m.jsx(gr,{children:n&&m.jsxs(m.Fragment,{children:[m.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:r}),m.jsx(pe.nav,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-14 right-0 bottom-0 w-64 glass-panel border-l border-glass-border z-50 overflow-y-auto",children:m.jsxs("div",{className:"p-3",children:[m.jsx("ul",{className:"space-y-1",children:qv.map(s=>{const i=t===s.id,a=s.icon;return m.jsx("li",{children:m.jsxs("button",{onClick:()=>e(s.id),className:`
                            w-full flex items-center gap-3 px-3 py-2.5 rounded-lg
                            transition-all duration-200 text-left
                            ${i?"bg-primary/15 text-white border border-primary/20":"text-gray-400 hover:text-white hover:bg-white/5"}
                          `,children:[m.jsx(a,{size:18,className:i?"text-primary-light":""}),m.jsx("span",{className:"text-sm font-medium",children:s.label})]})},s.id)})}),m.jsxs("div",{className:"mt-4 p-3 bg-white/5 rounded-lg border border-glass-border",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"w-1.5 h-1.5 bg-success rounded-full animate-pulse"}),m.jsx("span",{className:"text-xs font-medium text-success",children:"Engine Online"})]}),m.jsx("p",{className:"text-[10px] text-gray-500",children:"v2.0 Autonomous Core"})]})]})})]})}),m.jsx("nav",{className:"fixed bottom-0 left-0 right-0 glass-panel border-t border-glass-border z-40",children:m.jsx("div",{className:"flex justify-around items-center h-16 px-1 pb-safe",children:qv.slice(0,5).map(s=>{const i=t===s.id,a=s.icon;return m.jsxs("button",{onClick:()=>e(s.id),className:`
                  flex flex-col items-center justify-center py-1.5 px-3 rounded-lg min-w-[56px]
                  transition-all duration-200
                  ${i?"text-primary bg-primary/10":"text-gray-500 hover:text-gray-300"}
                `,"aria-label":s.label,"aria-current":i?"page":void 0,children:[m.jsx(a,{size:20,strokeWidth:i?2.5:2}),m.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:s.label.split(" ")[0]})]},s.id)})})})]})}const _j={success:cc,error:rh,warning:rp,info:EM},Sj={success:"border-success/30 bg-success/10",error:"border-critical/30 bg-critical/10",warning:"border-warning/30 bg-warning/10",info:"border-info/30 bg-info/10"},bj={success:"text-success",error:"text-critical",warning:"text-warning",info:"text-info"};function kj({id:t,type:e,title:n,message:r,duration:s=5e3}){const i=Ge(o=>o.removeNotification),a=_j[e];return A.useEffect(()=>{if(s>0){const o=setTimeout(()=>{i(t)},s);return()=>clearTimeout(o)}},[t,s,i]),m.jsx(pe.div,{layout:!0,initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.2},className:`
        glass-panel rounded-xl border p-4 min-w-[300px] max-w-[400px]
        ${Sj[e]}
      `,children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(a,{size:20,className:bj[e]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"font-medium text-white",children:n}),r&&m.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r})]}),m.jsx("button",{onClick:()=>i(t),className:"text-gray-500 hover:text-white transition-colors","aria-label":"Dismiss notification",children:m.jsx(fi,{size:16})})]})})}function Cj(){const t=Ge(e=>e.notifications);return m.jsx("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2",children:m.jsx(gr,{mode:"popLayout",children:t.map(e=>m.jsx(kj,{...e},e.id))})})}const Kv=[{key:"1",description:"Go to Dashboard"},{key:"2",description:"Go to Trend Radar"},{key:"3",description:"Go to Content Lab"},{key:"4",description:"Go to Queue"},{key:"5",description:"Go to Calendar"},{key:"6",description:"Go to Video Lab"},{key:"7",description:"Go to Automation"},{key:"n",ctrlKey:!0,description:"New Post (go to Content Lab)"},{key:"k",metaKey:!0,description:"Open Command Palette"},{key:"/",description:"Show Keyboard Shortcuts"}];function Ej(t){const{setActiveView:e,addNotification:n}=Ge(),r=A.useCallback((s,i)=>{e(s),n({type:"info",title:"Navigation",message:`Switched to ${i}`,duration:1500})},[e,n]);A.useEffect(()=>{const s=i=>{const a=i.target;if(a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.isContentEditable)return;const{key:o,ctrlKey:l,metaKey:u,shiftKey:c}=i;if(!l&&!u&&!c)switch(o){case"1":i.preventDefault(),r("dashboard","Dashboard");break;case"2":i.preventDefault(),r("trends","Trend Radar");break;case"3":i.preventDefault(),r("content","Content Lab");break;case"4":i.preventDefault(),r("drafts","Queue");break;case"5":i.preventDefault(),r("calendar","Calendar");break;case"6":i.preventDefault(),r("video","Video Lab");break;case"7":i.preventDefault(),r("automation","Automation");break;case"/":case"?":i.preventDefault(),t==null||t();break}(l||u)&&o.toLowerCase()==="n"&&(i.preventDefault(),r("content","Content Lab"))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[r,t])}function xl({children:t}){return m.jsx("span",{className:"inline-flex items-center justify-center min-w-[24px] h-6 px-2 bg-white/10 border border-glass-border rounded text-xs font-mono text-gray-300",children:t})}function Tj({isOpen:t,onClose:e}){const n=navigator.platform.toUpperCase().indexOf("MAC")>=0,r=s=>{const i=[];return s.ctrlKey&&i.push(n?"":"Ctrl"),s.metaKey&&i.push(n?"":"Ctrl"),s.shiftKey&&i.push(n?"":"Shift"),i.push(s.key.toUpperCase()),i};return m.jsx(gr,{children:t&&m.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:e,children:m.jsxs(pe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"glass-panel rounded-2xl p-6 max-w-md w-full",onClick:s=>s.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-primary/20",children:m.jsx(op,{size:20,className:"text-primary"})}),m.jsx("h3",{className:"text-xl font-bold text-white",children:"Keyboard Shortcuts"})]}),m.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-white/5 transition-colors",children:m.jsx(fi,{size:20,className:"text-gray-400"})})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Navigation"}),m.jsx("div",{className:"space-y-2",children:Kv.slice(0,6).map(s=>m.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:[m.jsx("span",{className:"text-sm text-gray-300",children:s.description}),m.jsx("div",{className:"flex items-center gap-1",children:r(s).map((i,a)=>m.jsx(xl,{children:i},a))})]},s.key+s.description))})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Actions"}),m.jsx("div",{className:"space-y-2",children:Kv.slice(6).map(s=>m.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:[m.jsx("span",{className:"text-sm text-gray-300",children:s.description}),m.jsx("div",{className:"flex items-center gap-1",children:r(s).map((i,a)=>m.jsx(xl,{children:i},a))})]},s.key+s.description))})]})]}),m.jsx("div",{className:"mt-6 pt-4 border-t border-glass-border",children:m.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Press ",m.jsx(xl,{children:"/"})," or ",m.jsx(xl,{children:"?"})," anytime to show this help"]})})]})})})}function Pj({isOpen:t,onClose:e,onShowShortcuts:n,onShowNotifications:r,onShowDataManager:s}){const[i,a]=A.useState(""),[o,l]=A.useState(0),u=A.useRef(null),c=A.useRef(null),{setActiveView:d,theme:f,setTheme:h}=Ge(),w=A.useCallback(()=>{h(f==="dark"?"light":"dark")},[f,h]),v=A.useMemo(()=>[{id:"nav-dashboard",label:"Go to Dashboard",description:"View analytics and overview",icon:m.jsx(lp,{size:18}),category:"navigation",keywords:["dashboard","home","analytics","overview","stats"],action:()=>{d("dashboard"),e()}},{id:"nav-trends",label:"Go to Trend Engine",description:"Discover trending topics",icon:m.jsx(fc,{size:18}),category:"navigation",keywords:["trends","trending","viral","discover","topics"],action:()=>{d("trends"),e()}},{id:"nav-content",label:"Go to Content Lab",description:"Create AI-powered content",icon:m.jsx(IM,{size:18}),category:"navigation",keywords:["content","create","generate","ai","write","lab"],action:()=>{d("content"),e()}},{id:"nav-drafts",label:"Go to Drafts & Queue",description:"Manage scheduled posts",icon:m.jsx(dc,{size:18}),category:"navigation",keywords:["drafts","queue","scheduled","posts","pending"],action:()=>{d("drafts"),e()}},{id:"nav-calendar",label:"Go to Calendar",description:"View content calendar",icon:m.jsx(sp,{size:18}),category:"navigation",keywords:["calendar","schedule","dates","plan","timeline"],action:()=>{d("calendar"),e()}},{id:"nav-video",label:"Go to Video Lab",description:"Create video content",icon:m.jsx(cp,{size:18}),category:"navigation",keywords:["video","reels","tiktok","clips","shorts"],action:()=>{d("video"),e()}},{id:"nav-automation",label:"Go to Automation Hub",description:"Manage automations and workflows",icon:m.jsx(dp,{size:18}),category:"navigation",keywords:["automation","workflows","rules","triggers","auto"],action:()=>{d("automation"),e()}},{id:"action-new-post",label:"Create New Post",description:"Start creating a new post",icon:m.jsx(NM,{size:18}),category:"actions",keywords:["new","create","post","add","write"],action:()=>{d("content"),e()}},{id:"action-schedule",label:"Schedule Content",description:"Schedule a post for later",icon:m.jsx(ip,{size:18}),category:"actions",keywords:["schedule","later","time","post","plan"],action:()=>{d("calendar"),e()}},{id:"action-hashtags",label:"Find Trending Hashtags",description:"Discover popular hashtags",icon:m.jsx(ap,{size:18}),category:"actions",keywords:["hashtags","tags","trending","popular"],action:()=>{d("trends"),e()}},{id:"settings-theme",label:f==="dark"?"Switch to Light Mode":"Switch to Dark Mode",description:"Toggle between light and dark theme",icon:f==="dark"?m.jsx(lS,{size:18}):m.jsx(iS,{size:18}),category:"settings",keywords:["theme","dark","light","mode","appearance"],action:()=>{w(),e()}},{id:"settings-shortcuts",label:"View Keyboard Shortcuts",description:"See all available shortcuts",icon:m.jsx(op,{size:18}),category:"settings",keywords:["keyboard","shortcuts","keys","hotkeys","help"],action:()=>{e(),n()}},{id:"settings-notifications",label:"Open Notifications",description:"View recent notifications",icon:m.jsx(Tu,{size:18}),category:"settings",keywords:["notifications","alerts","messages","inbox"],action:()=>{e(),r()}},...s?[{id:"settings-data",label:"Manage Data",description:"Import, export, or reset your data",icon:m.jsx(rS,{size:18}),category:"settings",keywords:["data","backup","export","import","reset","storage"],action:()=>{e(),s()}}]:[]],[f,d,w,e,n,r,s]),S=A.useMemo(()=>{if(!i.trim())return v;const _=i.toLowerCase();return v.filter(b=>{var R;const C=b.label.toLowerCase().includes(_),T=(R=b.description)==null?void 0:R.toLowerCase().includes(_),I=b.keywords.some(j=>j.includes(_));return C||T||I})},[v,i]),g=A.useMemo(()=>{const _={navigation:[],actions:[],settings:[]};return S.forEach(b=>{_[b.category].push(b)}),_},[S]);A.useEffect(()=>{l(0)},[i]),A.useEffect(()=>{t&&(a(""),l(0),setTimeout(()=>{var _;return(_=u.current)==null?void 0:_.focus()},50))},[t]);const p=A.useCallback(_=>{switch(_.key){case"ArrowDown":_.preventDefault(),l(b=>b<S.length-1?b+1:0);break;case"ArrowUp":_.preventDefault(),l(b=>b>0?b-1:S.length-1);break;case"Enter":_.preventDefault(),S[o]&&S[o].action();break;case"Escape":_.preventDefault(),e();break}},[S,o,e]);A.useEffect(()=>{const _=c.current;if(!_)return;const b=_.querySelector(`[data-index="${o}"]`);b&&b.scrollIntoView({block:"nearest"})},[o]);const y=_=>{switch(_){case"navigation":return"Navigation";case"actions":return"Quick Actions";case"settings":return"Settings";default:return _}};let x=-1;return m.jsx(gr,{children:t&&m.jsxs(m.Fragment,{children:[m.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:e}),m.jsx(pe.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{duration:.15},className:"fixed top-[20%] left-1/2 -translate-x-1/2 w-full max-w-lg z-50",children:m.jsxs("div",{className:"bg-surface border border-glass-border rounded-xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-glass-border",children:[m.jsx(k0,{size:20,className:"text-gray-500"}),m.jsx("input",{ref:u,type:"text",placeholder:"Type a command or search...",value:i,onChange:_=>a(_.target.value),onKeyDown:p,className:"flex-1 bg-transparent text-white placeholder-gray-500 outline-none text-base"}),m.jsx("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-2 py-1 bg-white/5 border border-glass-border rounded text-xs text-gray-500",children:"ESC"})]}),m.jsx("div",{ref:c,className:"max-h-80 overflow-y-auto p-2",children:S.length===0?m.jsxs("div",{className:"p-8 text-center text-gray-500",children:[m.jsx(k0,{size:32,className:"mx-auto mb-2 opacity-50"}),m.jsx("p",{children:"No commands found"})]}):Object.entries(g).map(([_,b])=>b.length===0?null:m.jsxs("div",{className:"mb-2",children:[m.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase px-2 py-1",children:y(_)}),b.map(C=>{x++;const T=x;return m.jsxs("button",{"data-index":T,onClick:C.action,onMouseEnter:()=>l(T),className:`
                                w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left
                                transition-colors group
                                ${o===T?"bg-primary/20 text-white":"text-gray-300 hover:bg-white/5"}
                              `,children:[m.jsx("span",{className:`
                                ${o===T?"text-primary":"text-gray-500"}
                              `,children:C.icon}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"font-medium truncate",children:C.label}),C.description&&m.jsx("p",{className:"text-xs text-gray-500 truncate",children:C.description})]}),m.jsx(_M,{size:14,className:`
                                  opacity-0 group-hover:opacity-100 transition-opacity
                                  ${o===T?"opacity-100 text-primary":"text-gray-500"}
                                `})]},C.id)})]},_))}),m.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t border-glass-border bg-white/5 text-xs text-gray-500",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/10 rounded",children:""}),m.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/10 rounded",children:""}),"to navigate"]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/10 rounded",children:""}),"to select"]})]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/10 rounded",children:"esc"}),"to close"]})]})]})})]})})}function Aj(){const[t,e]=A.useState(!1);return A.useEffect(()=>{const n=r=>{(r.metaKey||r.ctrlKey)&&r.key.toLowerCase()==="k"&&(r.preventDefault(),e(s=>!s))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[]),{isOpen:t,open:()=>e(!0),close:()=>e(!1),toggle:()=>e(n=>!n)}}const Rj=({lines:t=3})=>m.jsxs("div",{className:"animate-pulse space-y-3",children:[m.jsx("div",{className:"h-4 bg-white/5 rounded w-3/4"}),Array.from({length:t-1}).map((e,n)=>m.jsx("div",{className:"h-4 bg-white/5 rounded",style:{width:`${Math.random()*30+60}%`}},n))]}),Mj=({children:t,className:e,title:n,subtitle:r,action:s,highlight:i=!1,noPadding:a=!1,hoverable:o=!0,variant:l="default",loading:u=!1})=>{const c=l==="aurora",d=l==="gradient-border";return m.jsx("div",{className:Me("relative overflow-hidden rounded-xl","backdrop-blur-xl",c?"bg-gradient-to-br from-aurora-neon/5 to-aurora-purple/5":"bg-glass-bg",d?"p-[1px] bg-gradient-to-br from-aurora-neon/30 via-aurora-purple/20 to-primary/30":"border border-glass-border",o&&"card-hover cursor-default",o&&!d&&"hover:border-glass-border-hover",i&&"shadow-glow-primary border-primary/30",e),children:m.jsxs("div",{className:Me(d&&"bg-glass-bg rounded-xl overflow-hidden",d&&"backdrop-blur-xl"),children:[(i||c)&&m.jsx("div",{className:Me("absolute top-0 left-0 w-full h-0.5",c?"bg-gradient-to-r from-aurora-neon via-aurora-purple to-primary":"gradient-bg")}),(n||s)&&m.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-glass-border",children:[m.jsxs("div",{children:[n&&m.jsx("h3",{className:Me("text-base font-semibold",c?"text-aurora-neon":"text-white"),children:n}),r&&m.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r})]}),s&&m.jsx("div",{className:"flex-shrink-0",children:s})]}),m.jsx("div",{className:a?"":"p-5",children:u?m.jsx(Rj,{}):t})]})})};function _s({children:t,variant:e="primary",size:n="md",isLoading:r=!1,className:s="",disabled:i,onClick:a,type:o="button",title:l}){const u=Me("inline-flex items-center justify-center gap-2 font-medium rounded-lg","transition-all duration-400 ease-aurora relative overflow-hidden","focus:outline-none focus:ring-2","disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"),c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"},d={primary:Me("gradient-bg text-white","shadow-md hover:shadow-lg hover:shadow-primary/25","focus:ring-primary/30"),aurora:Me("bg-aurora-neon text-black font-semibold","shadow-md hover:shadow-glow-soft","focus:ring-aurora-neon/30","hover:bg-aurora-neon/90"),secondary:Me("bg-white/5 text-gray-200 border border-glass-border","hover:bg-white/10 hover:border-glass-border-hover hover:shadow-glow-soft","focus:ring-aurora-neon/20"),ghost:Me("bg-transparent text-gray-400","hover:text-white hover:bg-white/5","focus:ring-white/10"),danger:Me("bg-critical/10 text-critical border border-critical/20","hover:bg-critical/20 hover:border-critical/30","focus:ring-critical/30")},f=r||i;return m.jsxs(pe.button,{type:o,whileHover:{scale:f?1:1.02},whileTap:{scale:f?1:.98},className:Me(u,c[n],d[e],s),disabled:f,onClick:a,title:l,children:[r&&m.jsx(TM,{className:"w-4 h-4 animate-spin"}),t]})}function Nj({isOpen:t,onClose:e}){const[n,r]=A.useState("idle"),[s,i]=A.useState(""),[a,o]=A.useState(!1),l=A.useRef(null),{persona:u,posts:c,automationSettings:d,platformCredentials:f,theme:h,persistentNotifications:w,setPersona:v,setPosts:S,updateAutomationSettings:g,updatePlatformCredential:p,setTheme:y,addNotification:x}=Ge(),_=()=>{const I={version:"1.0.0",exportedAt:new Date().toISOString(),data:{persona:u,posts:c,automationSettings:d,platformCredentials:f,theme:h,persistentNotifications:w}},R=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),j=URL.createObjectURL(R),se=document.createElement("a");se.href=j,se.download=`soci-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(j),x({type:"success",title:"Export Complete",message:"Your data has been exported successfully"})},b=I=>{var se;const R=(se=I.target.files)==null?void 0:se[0];if(!R)return;const j=new FileReader;j.onload=dt=>{var en,tn;try{const jn=(en=dt.target)==null?void 0:en.result,Q=JSON.parse(jn);if(!Q.version||!Q.data)throw new Error("Invalid backup file format");Q.data.persona&&v(Q.data.persona),Q.data.posts&&S(Q.data.posts),Q.data.automationSettings&&g(Q.data.automationSettings),Q.data.platformCredentials&&Q.data.platformCredentials.forEach(O=>{p(O.platform,O)}),Q.data.theme&&y(Q.data.theme),r("success"),i(`Successfully imported ${((tn=Q.data.posts)==null?void 0:tn.length)||0} posts`),x({type:"success",title:"Import Complete",message:"Your data has been restored successfully"})}catch(jn){console.error("Import error:",jn),r("error"),i("Failed to import data. Please check the file format."),x({type:"error",title:"Import Failed",message:"Could not parse the backup file"})}},j.readAsText(R),l.current&&(l.current.value="")},C=()=>{localStorage.removeItem("soci-storage-v2"),window.location.reload()},T=()=>{const I=localStorage.getItem("soci-storage-v2");if(!I)return"0 KB";const R=new Blob([I]).size;return R<1024?`${R} B`:R<1024*1024?`${(R/1024).toFixed(1)} KB`:`${(R/(1024*1024)).toFixed(2)} MB`};return m.jsx(gr,{children:t&&m.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:e,children:m.jsx(pe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"w-full max-w-md",onClick:I=>I.stopPropagation(),children:m.jsxs(Mj,{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-primary/20",children:m.jsx(rS,{size:20,className:"text-primary"})}),m.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Management"})]}),m.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-white/5 transition-colors",children:m.jsx(fi,{size:20,className:"text-gray-400"})})]}),m.jsxs("div",{className:"p-4 bg-white/5 rounded-lg mb-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-gray-400",children:"Local Storage Used"}),m.jsx("span",{className:"text-sm font-medium text-white",children:T()})]}),m.jsxs("div",{className:"flex items-center justify-between mt-2",children:[m.jsx("span",{className:"text-sm text-gray-400",children:"Total Posts"}),m.jsx("span",{className:"text-sm font-medium text-white",children:c.length})]})]}),m.jsx(gr,{children:n!=="idle"&&m.jsxs(pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`p-3 rounded-lg mb-4 flex items-center gap-2 ${n==="success"?"bg-success/20 text-success":"bg-critical/20 text-critical"}`,children:[n==="success"?m.jsx(cc,{size:16}):m.jsx(rp,{size:16}),m.jsx("span",{className:"text-sm",children:s}),m.jsx("button",{onClick:()=>r("idle"),className:"ml-auto p-1 hover:bg-white/10 rounded",children:m.jsx(fi,{size:14})})]})}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs(_s,{onClick:_,variant:"secondary",className:"w-full justify-start gap-3",children:[m.jsx(SM,{size:18}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"font-medium",children:"Export Data"}),m.jsx("p",{className:"text-xs text-gray-400",children:"Download all data as JSON backup"})]})]}),m.jsx("input",{ref:l,type:"file",accept:".json",onChange:b,className:"hidden"}),m.jsxs(_s,{onClick:()=>{var I;return(I=l.current)==null?void 0:I.click()},variant:"secondary",className:"w-full justify-start gap-3",children:[m.jsx(OM,{size:18}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"font-medium",children:"Import Data"}),m.jsx("p",{className:"text-xs text-gray-400",children:"Restore from JSON backup file"})]})]}),m.jsx("div",{className:"pt-3 border-t border-glass-border",children:a?m.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-critical/10 border border-critical/30 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"This will permanently delete all your data including posts, settings, and preferences. This action cannot be undone."}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(_s,{onClick:C,variant:"primary",className:"flex-1 bg-critical hover:bg-critical/80",children:[m.jsx(uS,{size:16,className:"mr-2"}),"Delete All Data"]}),m.jsx(_s,{onClick:()=>o(!1),variant:"secondary",className:"flex-1",children:"Cancel"})]})]}):m.jsxs(_s,{onClick:()=>o(!0),variant:"secondary",className:"w-full justify-start gap-3 text-critical hover:bg-critical/10",children:[m.jsx(oS,{size:18}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"font-medium",children:"Reset All Data"}),m.jsx("p",{className:"text-xs text-gray-400",children:"Clear all data and start fresh"})]})]})})]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-glass-border",children:m.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-500",children:[m.jsx(CM,{size:14,className:"mt-0.5 flex-shrink-0"}),m.jsx("p",{children:"Backup files are stored as JSON and include posts, settings, persona, and preferences. API keys are not exported for security."})]})})]})})})})}const Ik=A.forwardRef(({label:t,error:e,hint:n,leftIcon:r,rightIcon:s,className:i,id:a,...o},l)=>{const u=a||`input-${Math.random().toString(36).slice(2,9)}`;return m.jsxs("div",{className:"w-full",children:[t&&m.jsx("label",{htmlFor:u,className:"block text-sm font-medium text-gray-300 mb-1.5",children:t}),m.jsxs("div",{className:"relative",children:[r&&m.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:r}),m.jsx("input",{ref:l,id:u,className:Me("w-full bg-white/5 border rounded-lg py-2.5 px-3 text-white placeholder-gray-500","transition-all duration-200","focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20","hover:border-glass-border-hover",e?"border-critical":"border-glass-border",r&&"pl-10",s&&"pr-10",i),"aria-invalid":e?"true":"false","aria-describedby":e?`${u}-error`:n?`${u}-hint`:void 0,...o}),s&&m.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:s})]}),e&&m.jsx("p",{id:`${u}-error`,className:"mt-1 text-xs text-critical",role:"alert",children:e}),n&&!e&&m.jsx("p",{id:`${u}-hint`,className:"mt-1 text-xs text-gray-500",children:n})]})});Ik.displayName="Input";function Ij(){const[t,e]=A.useState(""),[n,r]=A.useState(!1),[s,i]=A.useState(""),[a,o]=A.useState(!1),l=Ge(c=>c.login),u=async c=>{c.preventDefault(),i(""),o(!0);try{await l(t)||i("Incorrect password")}catch{i("Authentication failed")}finally{o(!1)}};return m.jsxs("div",{className:"min-h-screen bg-dark flex items-center justify-center p-4",children:[m.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[m.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/20 rounded-full blur-3xl"}),m.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/20 rounded-full blur-3xl"})]}),m.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-md",children:m.jsxs("div",{className:"glass-card rounded-2xl p-8 shadow-2xl border border-glass-border",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(pe.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl gradient-bg mb-4",children:m.jsx("span",{className:"text-3xl font-bold text-white",children:"S"})}),m.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Welcome to Soci"}),m.jsx("p",{className:"text-gray-400",children:"Enter your password to continue"})]}),m.jsxs("form",{onSubmit:u,className:"space-y-6",children:[m.jsx(Ik,{type:n?"text":"password",placeholder:"Enter password",value:t,onChange:c=>e(c.target.value),error:s,leftIcon:m.jsx(PM,{className:"w-4 h-4"}),rightIcon:m.jsx("button",{type:"button",onClick:()=>r(!n),className:"hover:text-white transition-colors",children:n?m.jsx(bM,{className:"w-4 h-4"}):m.jsx(kM,{className:"w-4 h-4"})}),autoFocus:!0}),m.jsx(_s,{type:"submit",variant:"primary",size:"lg",isLoading:a,disabled:!t,className:"w-full",children:"Sign In"})]})]})})]})}const Oj=()=>Ge.getState();class jj extends A.Component{constructor(){super(...arguments);Eo(this,"state",{hasError:!1,error:null,errorInfo:null,showStack:!1});Eo(this,"handleReset",()=>{var n,r;this.setState({hasError:!1,error:null,errorInfo:null,showStack:!1}),(r=(n=this.props).onReset)==null||r.call(n)});Eo(this,"toggleStack",()=>{this.setState(n=>({showStack:!n.showStack}))})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){this.setState({errorInfo:r}),Oj().addError({message:n.message||"Unknown error",stack:n.stack,source:"ErrorBoundary"})}render(){if(this.state.hasError){const{error:r,errorInfo:s,showStack:i}=this.state;return m.jsxs("div",{className:"min-h-[300px] w-full flex flex-col items-center justify-center p-8 bg-deep/50 border border-critical/30 rounded-xl backdrop-blur-md",children:[m.jsx(rp,{className:"w-12 h-12 text-critical mb-4"}),m.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:this.props.fallbackTitle||"System Boundary Triggered"}),m.jsx("p",{className:"text-gray-400 text-center max-w-md mb-6",children:"Our resilience protocols caught an anomaly. Click below to recover this view without losing your work."}),m.jsx("div",{className:"p-3 bg-black/40 rounded-md border border-white/5 mb-4 w-full max-w-sm overflow-hidden",children:m.jsx("code",{className:"text-xs text-critical font-mono break-all",children:(r==null?void 0:r.message)||"Unknown Error"})}),!1,m.jsxs("button",{onClick:this.handleReset,className:"flex items-center gap-2 px-6 py-2 bg-aurora-neon/10 hover:bg-aurora-neon/20 text-aurora-neon border border-aurora-neon/50 rounded-lg transition-all duration-300 hover:shadow-glow-soft",children:[m.jsx(oS,{size:16}),"Graceful Reset"]})]})}return this.props.children}}function Dj(){const{theme:t}=Ge();A.useEffect(()=>{const e=document.documentElement,n=r=>{r?(e.classList.add("dark"),e.classList.remove("light")):(e.classList.add("light"),e.classList.remove("dark"))};if(t==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)");n(r.matches);const s=i=>n(i.matches);return r.addEventListener("change",s),()=>r.removeEventListener("change",s)}else n(t==="dark")},[t])}const Gv=A.lazy(()=>$t(()=>import("./Dashboard-BWll6YSO.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(t=>({default:t.Dashboard}))),Lj=A.lazy(()=>$t(()=>import("./TrendEngine-Be-FT-2K.js"),__vite__mapDeps([7,8])).then(t=>({default:t.TrendEngine}))),$j=A.lazy(()=>$t(()=>import("./ContentLab-DJjwNFEF.js"),__vite__mapDeps([9,3,10,11,12,13,5,14,15,16,4])).then(t=>({default:t.ContentLab}))),Fj=A.lazy(()=>$t(()=>import("./TemplatesLibrary-BictWaU4.js"),__vite__mapDeps([17,18,19,13,15,20,21,5])).then(t=>({default:t.TemplatesLibrary}))),Vj=A.lazy(()=>$t(()=>import("./HashtagCollections-DdTUAm-X.js"),__vite__mapDeps([22,18,13,15,20,21,23])).then(t=>({default:t.HashtagCollections}))),Bj=A.lazy(()=>$t(()=>import("./MediaLibrary-CPwNn4Td.js"),__vite__mapDeps([24,18,20,13,15,8])).then(t=>({default:t.MediaLibrary}))),Uj=A.lazy(()=>$t(()=>import("./DraftsQueue-BsiTWq5i.js"),__vite__mapDeps([25,1,2,26,13,27,19,11,15,16])).then(t=>({default:t.DraftsQueue}))),zj=A.lazy(()=>$t(()=>import("./PublishedPosts-Dyo5EPbv.js"),__vite__mapDeps([28,10,16,19,21])).then(t=>({default:t.PublishedPosts}))),Wj=A.lazy(()=>$t(()=>import("./CalendarView-BBXNTb8n.js"),__vite__mapDeps([29,2,14,20])).then(t=>({default:t.CalendarView}))),Hj=A.lazy(()=>$t(()=>import("./VideoLab-vykhTCh1.js"),__vite__mapDeps([30,5,13,15,4,27])).then(t=>({default:t.VideoLab}))),qj=A.lazy(()=>$t(()=>import("./AutomationHub-D69LemYx.js"),__vite__mapDeps([31,26,13])).then(t=>({default:t.AutomationHub}))),Kj=A.lazy(()=>$t(()=>import("./BudgetManager-CrOdyqXJ.js"),__vite__mapDeps([32,5,13,6,3,12,23])).then(t=>({default:t.BudgetManager}))),Gj=new $E({defaultOptions:{queries:{staleTime:1e3*60,retry:2,refetchOnWindowFocus:!1}}});function Xj(){return m.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-deep",children:[m.jsxs("div",{className:"relative w-20 h-20 mb-6",children:[m.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary/20"}),m.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-t-primary animate-spin"}),m.jsx("div",{className:"absolute inset-2 rounded-full border-2 border-t-accent-purple animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}}),m.jsx("div",{className:"absolute inset-4 rounded-full border-2 border-t-accent-pink animate-spin",style:{animationDuration:"2s"}})]}),m.jsx("h2",{className:"text-xl font-bold gradient-text mb-2",children:"SOCI"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Initializing AI Growth Engine..."})]})}function Qj(){return m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsxs("div",{className:"relative w-12 h-12",children:[m.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary/20"}),m.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-t-primary animate-spin"})]})})}function Yj(){const{activeView:t,setActiveView:e}=Ge(),[n,r]=A.useState(!1),[s,i]=A.useState(!1),[a,o]=A.useState(!1),[l,u]=A.useState(!1),c=Aj(),d=A.useCallback(()=>{i(!0)},[]),f=A.useCallback(()=>{o(!0)},[]),h=A.useCallback(()=>{u(!0)},[]);Ej(d),Dj();const w={dashboard:"Growth Hub",trends:"Trend Radar",content:"Content Lab",templates:"Templates",hashtags:"Hashtags",media:"Media Library",drafts:"Queue",published:"Published",calendar:"Calendar",video:"Video Lab",automation:"Automation",budget:"Budget"},v=()=>{const g=(p,y)=>m.jsx(jj,{fallbackTitle:`${w[y]} encountered an issue`,children:p},y);switch(t){case"dashboard":return g(m.jsx(Gv,{}),"dashboard");case"trends":return g(m.jsx(Lj,{}),"trends");case"content":return g(m.jsx($j,{}),"content");case"templates":return g(m.jsx(Fj,{}),"templates");case"hashtags":return g(m.jsx(Vj,{}),"hashtags");case"media":return g(m.jsx(Bj,{}),"media");case"drafts":return g(m.jsx(Uj,{}),"drafts");case"published":return g(m.jsx(zj,{}),"published");case"calendar":return g(m.jsx(Wj,{}),"calendar");case"video":return g(m.jsx(Hj,{}),"video");case"automation":return g(m.jsx(qj,{}),"automation");case"budget":return g(m.jsx(Kj,{}),"budget");default:return g(m.jsx(Gv,{}),"dashboard")}},S=g=>{e(g),r(!1)};return m.jsxs("div",{className:"min-h-screen bg-deep",children:[m.jsx("div",{className:"bg-glow bg-glow-primary"}),m.jsx("div",{className:"bg-glow bg-glow-purple"}),m.jsx("div",{className:"hidden lg:block",children:m.jsx(wj,{activeView:t,onViewChange:S,onShowShortcuts:d,onShowNotifications:f})}),m.jsx("div",{className:"lg:hidden",children:m.jsx(xj,{activeView:t,onViewChange:S,isOpen:n,onToggle:()=>r(!n)})}),m.jsx("main",{className:"lg:ml-64 min-h-screen p-4 lg:p-6 pt-16 lg:pt-6 pb-20 lg:pb-6",children:m.jsx(A.Suspense,{fallback:m.jsx(Qj,{}),children:m.jsx(gr,{mode:"wait",children:m.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:v()},t)})})}),m.jsx(Cj,{}),m.jsx(Tj,{isOpen:s,onClose:()=>i(!1)}),m.jsx(WN,{isOpen:a,onClose:()=>o(!1)}),m.jsx(Pj,{isOpen:c.isOpen,onClose:c.close,onShowShortcuts:d,onShowNotifications:f,onShowDataManager:h}),m.jsx(Nj,{isOpen:l,onClose:()=>u(!1)})]})}function Jj(){const[t,e]=A.useState(!0),n=Ge(r=>r.isAuthenticated);return A.useEffect(()=>{(async()=>{await new Promise(s=>setTimeout(s,1500)),e(!1)})()},[]),t?m.jsx(Xj,{}):n?m.jsx(FE,{client:Gj,children:m.jsx(Yj,{})}):m.jsx(Ij,{})}Ld.createRoot(document.getElementById("root")).render(m.jsx(Ss.StrictMode,{children:m.jsx(Jj,{})}));export{aD as $,rp as A,_s as B,sp as C,gr as D,kM as E,dc as F,Mj as G,ap as H,k0 as I,SM as J,KD as K,oS as L,TM as M,IM as N,sL as O,JD as P,rh as Q,eD as R,sc as S,fc as T,cc as U,_M as V,jM as W,fi as X,cp as Y,dp as Z,sS as _,Nf as a,GD as a0,Rk as a1,NM as a2,tL as a3,rL as a4,nL as a5,ZD as a6,uS as a7,MT as a8,Cm as a9,YD as aA,eL as aB,up as aC,bM as aD,QD as aE,EM as aF,ci as aa,Km as ab,b1 as ac,ae as ad,mr as ae,Ey as af,ue as ag,sD as ah,qe as ai,yr as aj,fp as ak,hp as al,YM as am,JM as an,cD as ao,uD as ap,rN as aq,A0 as ar,lD as as,oD as at,FN as au,XD as av,OM as aw,Wp as ax,MM as ay,Dd as az,gE as b,Mf as c,NE as d,_E as e,v1 as f,Ze as g,A as h,ic as i,nD as j,K as k,Me as l,Lk as m,zt as n,uE as o,EE as p,m as q,vE as r,tD as s,yE as t,rD as u,Ge as v,pe as w,BN as x,ip as y,nS as z};
