const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-B1K3jsJY.js","assets/export-CTsPx5-D.js","assets/format-BZ2d2prg.js","assets/users-CigCjQjy.js","assets/play-VFGELtNT.js","assets/chevron-down-DO2d1w-d.js","assets/arrow-up-right-CCMaMCS7.js","assets/TrendEngine-C22AtgZt.js","assets/ai-client-BJ6a5FrJ.js","assets/external-link-dwMKGnDs.js","assets/ContentLab-CTwpoFB0.js","assets/message-circle-B6lIzBm1.js","assets/send-byTrlAJg.js","assets/target-D8ShnZQ0.js","assets/check-B9KMwBVL.js","assets/chevron-right-CX1sL5N6.js","assets/copy-wao3SMMI.js","assets/share-2-CGI6sZPR.js","assets/TemplatesLibrary-D8XMoEUo.js","assets/Badge-Du1y36bn.js","assets/filter-DY3uMgWH.js","assets/pen-fsJh_gWw.js","assets/bar-chart-2-DbjNrkoY.js","assets/HashtagCollections-1EPWY2-k.js","assets/palette-BvF4roAU.js","assets/MediaLibrary-o_1JPzMi.js","assets/DraftsQueue-Dtm9ZOor.js","assets/twitter-CvhaymRg.js","assets/square-CeV-opnU.js","assets/PublishedPosts-BeKzdY6n.js","assets/CalendarView-WnlO6Hqs.js","assets/VideoLab-0d8lY_Kv.js","assets/AutomationHub-Udh-L0Ru.js","assets/BudgetManager-DbmUfKdq.js"])))=>i.map(i=>d[i]);
var Ak=Object.defineProperty;var Vp=t=>{throw TypeError(t)};var Rk=(t,e,n)=>e in t?Ak(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ko=(t,e,n)=>Rk(t,typeof e!="symbol"?e+"":e,n),bc=(t,e,n)=>e.has(t)||Vp("Cannot "+n);var P=(t,e,n)=>(bc(t,e,"read from private field"),n?n.call(t):e.get(t)),Y=(t,e,n)=>e.has(t)?Vp("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),W=(t,e,n,r)=>(bc(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Be=(t,e,n)=>(bc(t,e,"access private method"),n);var Co=(t,e,n,r)=>({set _(s){W(t,e,s,n)},get _(){return P(t,e,r)}});function Mk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Nk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ew={exports:{}},$u={},tw={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=Symbol.for("react.element"),Ik=Symbol.for("react.portal"),jk=Symbol.for("react.fragment"),Ok=Symbol.for("react.strict_mode"),Dk=Symbol.for("react.profiler"),Lk=Symbol.for("react.provider"),$k=Symbol.for("react.context"),Fk=Symbol.for("react.forward_ref"),Vk=Symbol.for("react.suspense"),Bk=Symbol.for("react.memo"),Uk=Symbol.for("react.lazy"),Bp=Symbol.iterator;function zk(t){return t===null||typeof t!="object"?null:(t=Bp&&t[Bp]||t["@@iterator"],typeof t=="function"?t:null)}var nw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rw=Object.assign,sw={};function di(t,e,n){this.props=t,this.context=e,this.refs=sw,this.updater=n||nw}di.prototype.isReactComponent={};di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iw(){}iw.prototype=di.prototype;function kh(t,e,n){this.props=t,this.context=e,this.refs=sw,this.updater=n||nw}var Ch=kh.prototype=new iw;Ch.constructor=kh;rw(Ch,di.prototype);Ch.isPureReactComponent=!0;var Up=Array.isArray,aw=Object.prototype.hasOwnProperty,Eh={current:null},ow={key:!0,ref:!0,__self:!0,__source:!0};function lw(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)aw.call(e,r)&&!ow.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:io,type:t,key:i,ref:a,props:s,_owner:Eh.current}}function Wk(t,e){return{$$typeof:io,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Th(t){return typeof t=="object"&&t!==null&&t.$$typeof===io}function Hk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zp=/\/+/g;function kc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Hk(""+t.key):e.toString(36)}function wl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case io:case Ik:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+kc(a,0):r,Up(s)?(n="",t!=null&&(n=t.replace(zp,"$&/")+"/"),wl(s,e,n,"",function(u){return u})):s!=null&&(Th(s)&&(s=Wk(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(zp,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Up(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+kc(i,o);a+=wl(i,e,n,l,s)}else if(l=zk(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+kc(i,o++),a+=wl(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Eo(t,e,n){if(t==null)return t;var r=[],s=0;return wl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function qk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nt={current:null},xl={transition:null},Kk={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:xl,ReactCurrentOwner:Eh};function uw(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Eo,forEach:function(t,e,n){Eo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eo(t,function(){e++}),e},toArray:function(t){return Eo(t,function(e){return e})||[]},only:function(t){if(!Th(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=di;X.Fragment=jk;X.Profiler=Dk;X.PureComponent=kh;X.StrictMode=Ok;X.Suspense=Vk;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kk;X.act=uw;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rw({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Eh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)aw.call(e,l)&&!ow.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:io,type:t.type,key:s,ref:i,props:r,_owner:a}};X.createContext=function(t){return t={$$typeof:$k,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lk,_context:t},t.Consumer=t};X.createElement=lw;X.createFactory=function(t){var e=lw.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:Fk,render:t}};X.isValidElement=Th;X.lazy=function(t){return{$$typeof:Uk,_payload:{_status:-1,_result:t},_init:qk}};X.memo=function(t,e){return{$$typeof:Bk,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=xl.transition;xl.transition={};try{t()}finally{xl.transition=e}};X.unstable_act=uw;X.useCallback=function(t,e){return nt.current.useCallback(t,e)};X.useContext=function(t){return nt.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return nt.current.useDeferredValue(t)};X.useEffect=function(t,e){return nt.current.useEffect(t,e)};X.useId=function(){return nt.current.useId()};X.useImperativeHandle=function(t,e,n){return nt.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return nt.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return nt.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return nt.current.useMemo(t,e)};X.useReducer=function(t,e,n){return nt.current.useReducer(t,e,n)};X.useRef=function(t){return nt.current.useRef(t)};X.useState=function(t){return nt.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return nt.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return nt.current.useTransition()};X.version="18.3.1";tw.exports=X;var A=tw.exports;const xs=Nk(A),XO=Mk({__proto__:null,default:xs},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gk=A,Xk=Symbol.for("react.element"),Qk=Symbol.for("react.fragment"),Yk=Object.prototype.hasOwnProperty,Jk=Gk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zk={key:!0,ref:!0,__self:!0,__source:!0};function cw(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Yk.call(e,r)&&!Zk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Xk,type:t,key:i,ref:a,props:s,_owner:Jk.current}}$u.Fragment=Qk;$u.jsx=cw;$u.jsxs=cw;ew.exports=$u;var h=ew.exports,Nd={},dw={exports:{}},St={},fw={exports:{}},hw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,B){var H=j.length;j.push(B);e:for(;0<H;){var oe=H-1>>>1,Pe=j[oe];if(0<s(Pe,B))j[oe]=B,j[H]=Pe,H=oe;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var B=j[0],H=j.pop();if(H!==B){j[0]=H;e:for(var oe=0,Pe=j.length,So=Pe>>>1;oe<So;){var Sr=2*(oe+1)-1,Sc=j[Sr],br=Sr+1,bo=j[br];if(0>s(Sc,H))br<Pe&&0>s(bo,Sc)?(j[oe]=bo,j[br]=H,oe=br):(j[oe]=Sc,j[Sr]=H,oe=Sr);else if(br<Pe&&0>s(bo,H))j[oe]=bo,j[br]=H,oe=br;else break e}}return B}function s(j,B){var H=j.sortIndex-B.sortIndex;return H!==0?H:j.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,f=3,m=!1,w=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=j)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function x(j){if(v=!1,g(j),!w)if(n(l)!==null)w=!0,On(_);else{var B=n(u);B!==null&&Q(x,B.startTime-j)}}function _(j,B){w=!1,v&&(v=!1,y(T),T=-1),m=!0;var H=f;try{for(g(B),d=n(l);d!==null&&(!(d.expirationTime>B)||j&&!O());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,f=d.priorityLevel;var Pe=oe(d.expirationTime<=B);B=t.unstable_now(),typeof Pe=="function"?d.callback=Pe:d===n(l)&&r(l),g(B)}else r(l);d=n(l)}if(d!==null)var So=!0;else{var Sr=n(u);Sr!==null&&Q(x,Sr.startTime-B),So=!1}return So}finally{d=null,f=H,m=!1}}var b=!1,C=null,T=-1,I=5,R=-1;function O(){return!(t.unstable_now()-R<I)}function se(){if(C!==null){var j=t.unstable_now();R=j;var B=!0;try{B=C(!0,j)}finally{B?dt():(b=!1,C=null)}}else b=!1}var dt;if(typeof p=="function")dt=function(){p(se)};else if(typeof MessageChannel<"u"){var en=new MessageChannel,tn=en.port2;en.port1.onmessage=se,dt=function(){tn.postMessage(null)}}else dt=function(){S(se,0)};function On(j){C=j,b||(b=!0,dt())}function Q(j,B){T=S(function(){j(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,On(_))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var H=f;f=B;try{return j()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,B){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var H=f;f=j;try{return B()}finally{f=H}},t.unstable_scheduleCallback=function(j,B,H){var oe=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?oe+H:oe):H=oe,j){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=H+Pe,j={id:c++,callback:B,priorityLevel:j,startTime:H,expirationTime:Pe,sortIndex:-1},H>oe?(j.sortIndex=H,e(u,j),n(l)===null&&j===n(u)&&(v?(y(T),T=-1):v=!0,Q(x,H-oe))):(j.sortIndex=Pe,e(l,j),w||m||(w=!0,On(_))),j},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(j){var B=f;return function(){var H=f;f=B;try{return j.apply(this,arguments)}finally{f=H}}}})(hw);fw.exports=hw;var eC=fw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC=A,_t=eC;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mw=new Set,Ta={};function ss(t,e){ti(t,e),ti(t+"Capture",e)}function ti(t,e){for(Ta[t]=e,t=0;t<e.length;t++)mw.add(e[t])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Id=Object.prototype.hasOwnProperty,nC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wp={},Hp={};function rC(t){return Id.call(Hp,t)?!0:Id.call(Wp,t)?!1:nC.test(t)?Hp[t]=!0:(Wp[t]=!0,!1)}function sC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iC(t,e,n,r){if(e===null||typeof e>"u"||sC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fe[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fe[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fe[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fe[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fe[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fe[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fe[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fe[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fe[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ph=/[\-:]([a-z])/g;function Ah(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ph,Ah);Fe[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ph,Ah);Fe[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ph,Ah);Fe[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fe[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fe[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rh(t,e,n,r){var s=Fe.hasOwnProperty(e)?Fe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iC(e,n,s,r)&&(n=null),r||s===null?rC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jn=tC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,To=Symbol.for("react.element"),_s=Symbol.for("react.portal"),Ss=Symbol.for("react.fragment"),Mh=Symbol.for("react.strict_mode"),jd=Symbol.for("react.profiler"),pw=Symbol.for("react.provider"),gw=Symbol.for("react.context"),Nh=Symbol.for("react.forward_ref"),Od=Symbol.for("react.suspense"),Dd=Symbol.for("react.suspense_list"),Ih=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),yw=Symbol.for("react.offscreen"),qp=Symbol.iterator;function xi(t){return t===null||typeof t!="object"?null:(t=qp&&t[qp]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,Cc;function Ki(t){if(Cc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cc=e&&e[1]||""}return`
`+Cc+t}var Ec=!1;function Tc(t,e){if(!t||Ec)return"";Ec=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ec=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ki(t):""}function aC(t){switch(t.tag){case 5:return Ki(t.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 2:case 15:return t=Tc(t.type,!1),t;case 11:return t=Tc(t.type.render,!1),t;case 1:return t=Tc(t.type,!0),t;default:return""}}function Ld(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ss:return"Fragment";case _s:return"Portal";case jd:return"Profiler";case Mh:return"StrictMode";case Od:return"Suspense";case Dd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gw:return(t.displayName||"Context")+".Consumer";case pw:return(t._context.displayName||"Context")+".Provider";case Nh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ih:return e=t.displayName||null,e!==null?e:Ld(t.type)||"Memo";case Wn:e=t._payload,t=t._init;try{return Ld(t(e))}catch{}}return null}function oC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ld(e);case 8:return e===Mh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lC(t){var e=vw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Po(t){t._valueTracker||(t._valueTracker=lC(t))}function ww(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $d(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xw(t,e){e=e.checked,e!=null&&Rh(t,"checked",e,!1)}function Fd(t,e){xw(t,e);var n=fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vd(t,e.type,fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vd(t,e,n){(e!=="number"||Gl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gi=Array.isArray;function Fs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Bd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Gi(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fr(n)}}function _w(t,e){var n=fr(e.value),r=fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ud(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ao,bw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ao.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uC=["Webkit","ms","Moz","O"];Object.keys(ca).forEach(function(t){uC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ca[e]=ca[t]})});function kw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ca.hasOwnProperty(t)&&ca[t]?(""+e).trim():e+"px"}function Cw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var cC=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zd(t,e){if(e){if(cC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Wd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=null;function jh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qd=null,Vs=null,Bs=null;function Yp(t){if(t=lo(t)){if(typeof qd!="function")throw Error(N(280));var e=t.stateNode;e&&(e=zu(e),qd(t.stateNode,t.type,e))}}function Ew(t){Vs?Bs?Bs.push(t):Bs=[t]:Vs=t}function Tw(){if(Vs){var t=Vs,e=Bs;if(Bs=Vs=null,Yp(t),e)for(t=0;t<e.length;t++)Yp(e[t])}}function Pw(t,e){return t(e)}function Aw(){}var Pc=!1;function Rw(t,e,n){if(Pc)return t(e,n);Pc=!0;try{return Pw(t,e,n)}finally{Pc=!1,(Vs!==null||Bs!==null)&&(Aw(),Tw())}}function Aa(t,e){var n=t.stateNode;if(n===null)return null;var r=zu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Kd=!1;if(Pn)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){Kd=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{Kd=!1}function dC(t,e,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var da=!1,Xl=null,Ql=!1,Gd=null,fC={onError:function(t){da=!0,Xl=t}};function hC(t,e,n,r,s,i,a,o,l){da=!1,Xl=null,dC.apply(fC,arguments)}function mC(t,e,n,r,s,i,a,o,l){if(hC.apply(this,arguments),da){if(da){var u=Xl;da=!1,Xl=null}else throw Error(N(198));Ql||(Ql=!0,Gd=u)}}function is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Mw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jp(t){if(is(t)!==t)throw Error(N(188))}function pC(t){var e=t.alternate;if(!e){if(e=is(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Jp(s),t;if(i===r)return Jp(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Nw(t){return t=pC(t),t!==null?Iw(t):null}function Iw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Iw(t);if(e!==null)return e;t=t.sibling}return null}var jw=_t.unstable_scheduleCallback,Zp=_t.unstable_cancelCallback,gC=_t.unstable_shouldYield,yC=_t.unstable_requestPaint,ge=_t.unstable_now,vC=_t.unstable_getCurrentPriorityLevel,Oh=_t.unstable_ImmediatePriority,Ow=_t.unstable_UserBlockingPriority,Yl=_t.unstable_NormalPriority,wC=_t.unstable_LowPriority,Dw=_t.unstable_IdlePriority,Fu=null,fn=null;function xC(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Fu,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:bC,_C=Math.log,SC=Math.LN2;function bC(t){return t>>>=0,t===0?32:31-(_C(t)/SC|0)|0}var Ro=64,Mo=4194304;function Xi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Xi(o):(i&=a,i!==0&&(r=Xi(i)))}else a=n&~s,a!==0?r=Xi(a):i!==0&&(r=Xi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qt(e),s=1<<n,r|=t[n],e&=~s;return r}function kC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Qt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=kC(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Xd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lw(){var t=Ro;return Ro<<=1,!(Ro&4194240)&&(Ro=64),t}function Ac(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ao(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qt(e),t[e]=n}function EC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Qt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Dh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ee=0;function $w(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fw,Lh,Vw,Bw,Uw,Qd=!1,No=[],rr=null,sr=null,ir=null,Ra=new Map,Ma=new Map,Kn=[],TC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eg(t,e){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(e.pointerId)}}function Si(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=lo(e),e!==null&&Lh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function PC(t,e,n,r,s){switch(e){case"focusin":return rr=Si(rr,t,e,n,r,s),!0;case"dragenter":return sr=Si(sr,t,e,n,r,s),!0;case"mouseover":return ir=Si(ir,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ra.set(i,Si(Ra.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ma.set(i,Si(Ma.get(i)||null,t,e,n,r,s)),!0}return!1}function zw(t){var e=jr(t.target);if(e!==null){var n=is(e);if(n!==null){if(e=n.tag,e===13){if(e=Mw(n),e!==null){t.blockedOn=e,Uw(t.priority,function(){Vw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _l(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hd=r,n.target.dispatchEvent(r),Hd=null}else return e=lo(n),e!==null&&Lh(e),t.blockedOn=n,!1;e.shift()}return!0}function tg(t,e,n){_l(t)&&n.delete(e)}function AC(){Qd=!1,rr!==null&&_l(rr)&&(rr=null),sr!==null&&_l(sr)&&(sr=null),ir!==null&&_l(ir)&&(ir=null),Ra.forEach(tg),Ma.forEach(tg)}function bi(t,e){t.blockedOn===e&&(t.blockedOn=null,Qd||(Qd=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,AC)))}function Na(t){function e(s){return bi(s,t)}if(0<No.length){bi(No[0],t);for(var n=1;n<No.length;n++){var r=No[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rr!==null&&bi(rr,t),sr!==null&&bi(sr,t),ir!==null&&bi(ir,t),Ra.forEach(e),Ma.forEach(e),n=0;n<Kn.length;n++)r=Kn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)zw(n),n.blockedOn===null&&Kn.shift()}var Us=jn.ReactCurrentBatchConfig,Zl=!0;function RC(t,e,n,r){var s=ee,i=Us.transition;Us.transition=null;try{ee=1,$h(t,e,n,r)}finally{ee=s,Us.transition=i}}function MC(t,e,n,r){var s=ee,i=Us.transition;Us.transition=null;try{ee=4,$h(t,e,n,r)}finally{ee=s,Us.transition=i}}function $h(t,e,n,r){if(Zl){var s=Yd(t,e,n,r);if(s===null)Fc(t,e,r,eu,n),eg(t,r);else if(PC(s,t,e,n,r))r.stopPropagation();else if(eg(t,r),e&4&&-1<TC.indexOf(t)){for(;s!==null;){var i=lo(s);if(i!==null&&Fw(i),i=Yd(t,e,n,r),i===null&&Fc(t,e,r,eu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Fc(t,e,r,null,n)}}var eu=null;function Yd(t,e,n,r){if(eu=null,t=jh(r),t=jr(t),t!==null)if(e=is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Mw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return eu=t,null}function Ww(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vC()){case Oh:return 1;case Ow:return 4;case Yl:case wC:return 16;case Dw:return 536870912;default:return 16}default:return 16}}var tr=null,Fh=null,Sl=null;function Hw(){if(Sl)return Sl;var t,e=Fh,n=e.length,r,s="value"in tr?tr.value:tr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Sl=s.slice(t,1<r?1-r:void 0)}function bl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Io(){return!0}function ng(){return!1}function bt(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Io:ng,this.isPropagationStopped=ng,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),e}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vh=bt(fi),oo=de({},fi,{view:0,detail:0}),NC=bt(oo),Rc,Mc,ki,Vu=de({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Rc=t.screenX-ki.screenX,Mc=t.screenY-ki.screenY):Mc=Rc=0,ki=t),Rc)},movementY:function(t){return"movementY"in t?t.movementY:Mc}}),rg=bt(Vu),IC=de({},Vu,{dataTransfer:0}),jC=bt(IC),OC=de({},oo,{relatedTarget:0}),Nc=bt(OC),DC=de({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),LC=bt(DC),$C=de({},fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FC=bt($C),VC=de({},fi,{data:0}),sg=bt(VC),BC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zC[t])?!!e[t]:!1}function Bh(){return WC}var HC=de({},oo,{key:function(t){if(t.key){var e=BC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bh,charCode:function(t){return t.type==="keypress"?bl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qC=bt(HC),KC=de({},Vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ig=bt(KC),GC=de({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bh}),XC=bt(GC),QC=de({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),YC=bt(QC),JC=de({},Vu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZC=bt(JC),e2=[9,13,27,32],Uh=Pn&&"CompositionEvent"in window,fa=null;Pn&&"documentMode"in document&&(fa=document.documentMode);var t2=Pn&&"TextEvent"in window&&!fa,qw=Pn&&(!Uh||fa&&8<fa&&11>=fa),ag=" ",og=!1;function Kw(t,e){switch(t){case"keyup":return e2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bs=!1;function n2(t,e){switch(t){case"compositionend":return Gw(e);case"keypress":return e.which!==32?null:(og=!0,ag);case"textInput":return t=e.data,t===ag&&og?null:t;default:return null}}function r2(t,e){if(bs)return t==="compositionend"||!Uh&&Kw(t,e)?(t=Hw(),Sl=Fh=tr=null,bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qw&&e.locale!=="ko"?null:e.data;default:return null}}var s2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!s2[t.type]:e==="textarea"}function Xw(t,e,n,r){Ew(r),e=tu(e,"onChange"),0<e.length&&(n=new Vh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ha=null,Ia=null;function i2(t){ax(t,0)}function Bu(t){var e=Es(t);if(ww(e))return t}function a2(t,e){if(t==="change")return e}var Qw=!1;if(Pn){var Ic;if(Pn){var jc="oninput"in document;if(!jc){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),jc=typeof ug.oninput=="function"}Ic=jc}else Ic=!1;Qw=Ic&&(!document.documentMode||9<document.documentMode)}function cg(){ha&&(ha.detachEvent("onpropertychange",Yw),Ia=ha=null)}function Yw(t){if(t.propertyName==="value"&&Bu(Ia)){var e=[];Xw(e,Ia,t,jh(t)),Rw(i2,e)}}function o2(t,e,n){t==="focusin"?(cg(),ha=e,Ia=n,ha.attachEvent("onpropertychange",Yw)):t==="focusout"&&cg()}function l2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(Ia)}function u2(t,e){if(t==="click")return Bu(e)}function c2(t,e){if(t==="input"||t==="change")return Bu(e)}function d2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jt=typeof Object.is=="function"?Object.is:d2;function ja(t,e){if(Jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Id.call(e,s)||!Jt(t[s],e[s]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fg(t,e){var n=dg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dg(n)}}function Jw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zw(){for(var t=window,e=Gl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gl(t.document)}return e}function zh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f2(t){var e=Zw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jw(n.ownerDocument.documentElement,n)){if(r!==null&&zh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=fg(n,i);var a=fg(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h2=Pn&&"documentMode"in document&&11>=document.documentMode,ks=null,Jd=null,ma=null,Zd=!1;function hg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zd||ks==null||ks!==Gl(r)||(r=ks,"selectionStart"in r&&zh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ma&&ja(ma,r)||(ma=r,r=tu(Jd,"onSelect"),0<r.length&&(e=new Vh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ks)))}function jo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cs={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},Oc={},ex={};Pn&&(ex=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function Uu(t){if(Oc[t])return Oc[t];if(!Cs[t])return t;var e=Cs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ex)return Oc[t]=e[n];return t}var tx=Uu("animationend"),nx=Uu("animationiteration"),rx=Uu("animationstart"),sx=Uu("transitionend"),ix=new Map,mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(t,e){ix.set(t,e),ss(e,[t])}for(var Dc=0;Dc<mg.length;Dc++){var Lc=mg[Dc],m2=Lc.toLowerCase(),p2=Lc[0].toUpperCase()+Lc.slice(1);vr(m2,"on"+p2)}vr(tx,"onAnimationEnd");vr(nx,"onAnimationIteration");vr(rx,"onAnimationStart");vr("dblclick","onDoubleClick");vr("focusin","onFocus");vr("focusout","onBlur");vr(sx,"onTransitionEnd");ti("onMouseEnter",["mouseout","mouseover"]);ti("onMouseLeave",["mouseout","mouseover"]);ti("onPointerEnter",["pointerout","pointerover"]);ti("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function pg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mC(r,e,void 0,t),t.currentTarget=null}function ax(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;pg(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;pg(s,o,u),i=l}}}if(Ql)throw t=Gd,Ql=!1,Gd=null,t}function ne(t,e){var n=e[sf];n===void 0&&(n=e[sf]=new Set);var r=t+"__bubble";n.has(r)||(ox(e,t,2,!1),n.add(r))}function $c(t,e,n){var r=0;e&&(r|=4),ox(n,t,r,e)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Oa(t){if(!t[Oo]){t[Oo]=!0,mw.forEach(function(n){n!=="selectionchange"&&(g2.has(n)||$c(n,!1,t),$c(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oo]||(e[Oo]=!0,$c("selectionchange",!1,e))}}function ox(t,e,n,r){switch(Ww(e)){case 1:var s=RC;break;case 4:s=MC;break;default:s=$h}n=s.bind(null,e,n,t),s=void 0,!Kd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Fc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=jr(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}Rw(function(){var u=i,c=jh(n),d=[];e:{var f=ix.get(t);if(f!==void 0){var m=Vh,w=t;switch(t){case"keypress":if(bl(n)===0)break e;case"keydown":case"keyup":m=qC;break;case"focusin":w="focus",m=Nc;break;case"focusout":w="blur",m=Nc;break;case"beforeblur":case"afterblur":m=Nc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=jC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=XC;break;case tx:case nx:case rx:m=LC;break;case sx:m=YC;break;case"scroll":m=NC;break;case"wheel":m=ZC;break;case"copy":case"cut":case"paste":m=FC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ig}var v=(e&4)!==0,S=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,g;p!==null;){g=p;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,y!==null&&(x=Aa(p,y),x!=null&&v.push(Da(p,x,g)))),S)break;p=p.return}0<v.length&&(f=new m(f,w,null,n,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Hd&&(w=n.relatedTarget||n.fromElement)&&(jr(w)||w[An]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?jr(w):null,w!==null&&(S=is(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(v=rg,x="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=ig,x="onPointerLeave",y="onPointerEnter",p="pointer"),S=m==null?f:Es(m),g=w==null?f:Es(w),f=new v(x,p+"leave",m,n,c),f.target=S,f.relatedTarget=g,x=null,jr(c)===u&&(v=new v(y,p+"enter",w,n,c),v.target=g,v.relatedTarget=S,x=v),S=x,m&&w)t:{for(v=m,y=w,p=0,g=v;g;g=as(g))p++;for(g=0,x=y;x;x=as(x))g++;for(;0<p-g;)v=as(v),p--;for(;0<g-p;)y=as(y),g--;for(;p--;){if(v===y||y!==null&&v===y.alternate)break t;v=as(v),y=as(y)}v=null}else v=null;m!==null&&gg(d,f,m,v,!1),w!==null&&S!==null&&gg(d,S,w,v,!0)}}e:{if(f=u?Es(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=a2;else if(lg(f))if(Qw)_=c2;else{_=l2;var b=o2}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=u2);if(_&&(_=_(t,u))){Xw(d,_,n,c);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Vd(f,"number",f.value)}switch(b=u?Es(u):window,t){case"focusin":(lg(b)||b.contentEditable==="true")&&(ks=b,Jd=u,ma=null);break;case"focusout":ma=Jd=ks=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,hg(d,n,c);break;case"selectionchange":if(h2)break;case"keydown":case"keyup":hg(d,n,c)}var C;if(Uh)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else bs?Kw(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(qw&&n.locale!=="ko"&&(bs||T!=="onCompositionStart"?T==="onCompositionEnd"&&bs&&(C=Hw()):(tr=c,Fh="value"in tr?tr.value:tr.textContent,bs=!0)),b=tu(u,T),0<b.length&&(T=new sg(T,t,null,n,c),d.push({event:T,listeners:b}),C?T.data=C:(C=Gw(n),C!==null&&(T.data=C)))),(C=t2?n2(t,n):r2(t,n))&&(u=tu(u,"onBeforeInput"),0<u.length&&(c=new sg("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}ax(d,e)})}function Da(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Aa(t,n),i!=null&&r.unshift(Da(t,i,s)),i=Aa(t,e),i!=null&&r.push(Da(t,i,s))),t=t.return}return r}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gg(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Aa(n,i),l!=null&&a.unshift(Da(n,l,o))):s||(l=Aa(n,i),l!=null&&a.push(Da(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var y2=/\r\n?/g,v2=/\u0000|\uFFFD/g;function yg(t){return(typeof t=="string"?t:""+t).replace(y2,`
`).replace(v2,"")}function Do(t,e,n){if(e=yg(e),yg(t)!==e&&n)throw Error(N(425))}function nu(){}var ef=null,tf=null;function nf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rf=typeof setTimeout=="function"?setTimeout:void 0,w2=typeof clearTimeout=="function"?clearTimeout:void 0,vg=typeof Promise=="function"?Promise:void 0,x2=typeof queueMicrotask=="function"?queueMicrotask:typeof vg<"u"?function(t){return vg.resolve(null).then(t).catch(_2)}:rf;function _2(t){setTimeout(function(){throw t})}function Vc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Na(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Na(e)}function ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),cn="__reactFiber$"+hi,La="__reactProps$"+hi,An="__reactContainer$"+hi,sf="__reactEvents$"+hi,S2="__reactListeners$"+hi,b2="__reactHandles$"+hi;function jr(t){var e=t[cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[An]||n[cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wg(t);t!==null;){if(n=t[cn])return n;t=wg(t)}return e}t=n,n=t.parentNode}return null}function lo(t){return t=t[cn]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function zu(t){return t[La]||null}var af=[],Ts=-1;function wr(t){return{current:t}}function re(t){0>Ts||(t.current=af[Ts],af[Ts]=null,Ts--)}function te(t,e){Ts++,af[Ts]=t.current,t.current=e}var hr={},Ke=wr(hr),lt=wr(!1),Yr=hr;function ni(t,e){var n=t.type.contextTypes;if(!n)return hr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ut(t){return t=t.childContextTypes,t!=null}function ru(){re(lt),re(Ke)}function xg(t,e,n){if(Ke.current!==hr)throw Error(N(168));te(Ke,e),te(lt,n)}function lx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,oC(t)||"Unknown",s));return de({},n,r)}function su(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hr,Yr=Ke.current,te(Ke,t),te(lt,lt.current),!0}function _g(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=lx(t,e,Yr),r.__reactInternalMemoizedMergedChildContext=t,re(lt),re(Ke),te(Ke,t)):re(lt),te(lt,n)}var Sn=null,Wu=!1,Bc=!1;function ux(t){Sn===null?Sn=[t]:Sn.push(t)}function k2(t){Wu=!0,ux(t)}function xr(){if(!Bc&&Sn!==null){Bc=!0;var t=0,e=ee;try{var n=Sn;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sn=null,Wu=!1}catch(s){throw Sn!==null&&(Sn=Sn.slice(t+1)),jw(Oh,xr),s}finally{ee=e,Bc=!1}}return null}var Ps=[],As=0,iu=null,au=0,At=[],Rt=0,Jr=null,Cn=1,En="";function Pr(t,e){Ps[As++]=au,Ps[As++]=iu,iu=t,au=e}function cx(t,e,n){At[Rt++]=Cn,At[Rt++]=En,At[Rt++]=Jr,Jr=t;var r=Cn;t=En;var s=32-Qt(r)-1;r&=~(1<<s),n+=1;var i=32-Qt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Cn=1<<32-Qt(e)+s|n<<s|r,En=i+t}else Cn=1<<i|n<<s|r,En=t}function Wh(t){t.return!==null&&(Pr(t,1),cx(t,1,0))}function Hh(t){for(;t===iu;)iu=Ps[--As],Ps[As]=null,au=Ps[--As],Ps[As]=null;for(;t===Jr;)Jr=At[--Rt],At[Rt]=null,En=At[--Rt],At[Rt]=null,Cn=At[--Rt],At[Rt]=null}var xt=null,wt=null,ie=!1,Gt=null;function dx(t,e){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,wt=ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jr!==null?{id:Cn,overflow:En}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,wt=null,!0):!1;default:return!1}}function of(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lf(t){if(ie){var e=wt;if(e){var n=e;if(!Sg(t,e)){if(of(t))throw Error(N(418));e=ar(n.nextSibling);var r=xt;e&&Sg(t,e)?dx(r,n):(t.flags=t.flags&-4097|2,ie=!1,xt=t)}}else{if(of(t))throw Error(N(418));t.flags=t.flags&-4097|2,ie=!1,xt=t}}}function bg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function Lo(t){if(t!==xt)return!1;if(!ie)return bg(t),ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nf(t.type,t.memoizedProps)),e&&(e=wt)){if(of(t))throw fx(),Error(N(418));for(;e;)dx(t,e),e=ar(e.nextSibling)}if(bg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wt=ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wt=null}}else wt=xt?ar(t.stateNode.nextSibling):null;return!0}function fx(){for(var t=wt;t;)t=ar(t.nextSibling)}function ri(){wt=xt=null,ie=!1}function qh(t){Gt===null?Gt=[t]:Gt.push(t)}var C2=jn.ReactCurrentBatchConfig;function Ci(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function $o(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kg(t){var e=t._init;return e(t._payload)}function hx(t){function e(y,p){if(t){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=cr(y,p),y.index=0,y.sibling=null,y}function i(y,p,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,p,g,x){return p===null||p.tag!==6?(p=Gc(g,y.mode,x),p.return=y,p):(p=s(p,g),p.return=y,p)}function l(y,p,g,x){var _=g.type;return _===Ss?c(y,p,g.props.children,x,g.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wn&&kg(_)===p.type)?(x=s(p,g.props),x.ref=Ci(y,p,g),x.return=y,x):(x=Rl(g.type,g.key,g.props,null,y.mode,x),x.ref=Ci(y,p,g),x.return=y,x)}function u(y,p,g,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Xc(g,y.mode,x),p.return=y,p):(p=s(p,g.children||[]),p.return=y,p)}function c(y,p,g,x,_){return p===null||p.tag!==7?(p=Gr(g,y.mode,x,_),p.return=y,p):(p=s(p,g),p.return=y,p)}function d(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Gc(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case To:return g=Rl(p.type,p.key,p.props,null,y.mode,g),g.ref=Ci(y,null,p),g.return=y,g;case _s:return p=Xc(p,y.mode,g),p.return=y,p;case Wn:var x=p._init;return d(y,x(p._payload),g)}if(Gi(p)||xi(p))return p=Gr(p,y.mode,g,null),p.return=y,p;$o(y,p)}return null}function f(y,p,g,x){var _=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:o(y,p,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case To:return g.key===_?l(y,p,g,x):null;case _s:return g.key===_?u(y,p,g,x):null;case Wn:return _=g._init,f(y,p,_(g._payload),x)}if(Gi(g)||xi(g))return _!==null?null:c(y,p,g,x,null);$o(y,g)}return null}function m(y,p,g,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(g)||null,o(p,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case To:return y=y.get(x.key===null?g:x.key)||null,l(p,y,x,_);case _s:return y=y.get(x.key===null?g:x.key)||null,u(p,y,x,_);case Wn:var b=x._init;return m(y,p,g,b(x._payload),_)}if(Gi(x)||xi(x))return y=y.get(g)||null,c(p,y,x,_,null);$o(p,x)}return null}function w(y,p,g,x){for(var _=null,b=null,C=p,T=p=0,I=null;C!==null&&T<g.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var R=f(y,C,g[T],x);if(R===null){C===null&&(C=I);break}t&&C&&R.alternate===null&&e(y,C),p=i(R,p,T),b===null?_=R:b.sibling=R,b=R,C=I}if(T===g.length)return n(y,C),ie&&Pr(y,T),_;if(C===null){for(;T<g.length;T++)C=d(y,g[T],x),C!==null&&(p=i(C,p,T),b===null?_=C:b.sibling=C,b=C);return ie&&Pr(y,T),_}for(C=r(y,C);T<g.length;T++)I=m(C,y,T,g[T],x),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),p=i(I,p,T),b===null?_=I:b.sibling=I,b=I);return t&&C.forEach(function(O){return e(y,O)}),ie&&Pr(y,T),_}function v(y,p,g,x){var _=xi(g);if(typeof _!="function")throw Error(N(150));if(g=_.call(g),g==null)throw Error(N(151));for(var b=_=null,C=p,T=p=0,I=null,R=g.next();C!==null&&!R.done;T++,R=g.next()){C.index>T?(I=C,C=null):I=C.sibling;var O=f(y,C,R.value,x);if(O===null){C===null&&(C=I);break}t&&C&&O.alternate===null&&e(y,C),p=i(O,p,T),b===null?_=O:b.sibling=O,b=O,C=I}if(R.done)return n(y,C),ie&&Pr(y,T),_;if(C===null){for(;!R.done;T++,R=g.next())R=d(y,R.value,x),R!==null&&(p=i(R,p,T),b===null?_=R:b.sibling=R,b=R);return ie&&Pr(y,T),_}for(C=r(y,C);!R.done;T++,R=g.next())R=m(C,y,T,R.value,x),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?T:R.key),p=i(R,p,T),b===null?_=R:b.sibling=R,b=R);return t&&C.forEach(function(se){return e(y,se)}),ie&&Pr(y,T),_}function S(y,p,g,x){if(typeof g=="object"&&g!==null&&g.type===Ss&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case To:e:{for(var _=g.key,b=p;b!==null;){if(b.key===_){if(_=g.type,_===Ss){if(b.tag===7){n(y,b.sibling),p=s(b,g.props.children),p.return=y,y=p;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wn&&kg(_)===b.type){n(y,b.sibling),p=s(b,g.props),p.ref=Ci(y,b,g),p.return=y,y=p;break e}n(y,b);break}else e(y,b);b=b.sibling}g.type===Ss?(p=Gr(g.props.children,y.mode,x,g.key),p.return=y,y=p):(x=Rl(g.type,g.key,g.props,null,y.mode,x),x.ref=Ci(y,p,g),x.return=y,y=x)}return a(y);case _s:e:{for(b=g.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),p=s(p,g.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=Xc(g,y.mode,x),p.return=y,y=p}return a(y);case Wn:return b=g._init,S(y,p,b(g._payload),x)}if(Gi(g))return w(y,p,g,x);if(xi(g))return v(y,p,g,x);$o(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),p=s(p,g),p.return=y,y=p):(n(y,p),p=Gc(g,y.mode,x),p.return=y,y=p),a(y)):n(y,p)}return S}var si=hx(!0),mx=hx(!1),ou=wr(null),lu=null,Rs=null,Kh=null;function Gh(){Kh=Rs=lu=null}function Xh(t){var e=ou.current;re(ou),t._currentValue=e}function uf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zs(t,e){lu=t,Kh=Rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(at=!0),t.firstContext=null)}function Dt(t){var e=t._currentValue;if(Kh!==t)if(t={context:t,memoizedValue:e,next:null},Rs===null){if(lu===null)throw Error(N(308));Rs=t,lu.dependencies={lanes:0,firstContext:t}}else Rs=Rs.next=t;return e}var Or=null;function Qh(t){Or===null?Or=[t]:Or.push(t)}function px(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Qh(e)):(n.next=s.next,s.next=n),e.interleaved=n,Rn(t,r)}function Rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hn=!1;function Yh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function or(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Rn(t,n)}return s=r.interleaved,s===null?(e.next=e,Qh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Rn(t,n)}function kl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dh(t,n)}}function Cg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uu(t,e,n,r){var s=t.updateQueue;Hn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var f=o.lane,m=o.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,v=o;switch(f=e,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(m,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(m,d,f):w,f==null)break e;d=de({},d,f);break e;case 2:Hn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);es|=a,t.lanes=a,t.memoizedState=d}}function Eg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var uo={},hn=wr(uo),$a=wr(uo),Fa=wr(uo);function Dr(t){if(t===uo)throw Error(N(174));return t}function Jh(t,e){switch(te(Fa,e),te($a,t),te(hn,uo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ud(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ud(e,t)}re(hn),te(hn,e)}function ii(){re(hn),re($a),re(Fa)}function yx(t){Dr(Fa.current);var e=Dr(hn.current),n=Ud(e,t.type);e!==n&&(te($a,t),te(hn,n))}function Zh(t){$a.current===t&&(re(hn),re($a))}var le=wr(0);function cu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uc=[];function em(){for(var t=0;t<Uc.length;t++)Uc[t]._workInProgressVersionPrimary=null;Uc.length=0}var Cl=jn.ReactCurrentDispatcher,zc=jn.ReactCurrentBatchConfig,Zr=0,ce=null,Ce=null,Me=null,du=!1,pa=!1,Va=0,E2=0;function Ue(){throw Error(N(321))}function tm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jt(t[n],e[n]))return!1;return!0}function nm(t,e,n,r,s,i){if(Zr=i,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cl.current=t===null||t.memoizedState===null?R2:M2,t=n(r,s),pa){i=0;do{if(pa=!1,Va=0,25<=i)throw Error(N(301));i+=1,Me=Ce=null,e.updateQueue=null,Cl.current=N2,t=n(r,s)}while(pa)}if(Cl.current=fu,e=Ce!==null&&Ce.next!==null,Zr=0,Me=Ce=ce=null,du=!1,e)throw Error(N(300));return t}function rm(){var t=Va!==0;return Va=0,t}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ce.memoizedState=Me=t:Me=Me.next=t,Me}function Lt(){if(Ce===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var e=Me===null?ce.memoizedState:Me.next;if(e!==null)Me=e,Ce=t;else{if(t===null)throw Error(N(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Me===null?ce.memoizedState=Me=t:Me=Me.next=t}return Me}function Ba(t,e){return typeof e=="function"?e(t):e}function Wc(t){var e=Lt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((Zr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,ce.lanes|=c,es|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,Jt(r,e.memoizedState)||(at=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ce.lanes|=i,es|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hc(t){var e=Lt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Jt(i,e.memoizedState)||(at=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function vx(){}function wx(t,e){var n=ce,r=Lt(),s=e(),i=!Jt(r.memoizedState,s);if(i&&(r.memoizedState=s,at=!0),r=r.queue,sm(Sx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Ua(9,_x.bind(null,n,r,s,e),void 0,null),Ne===null)throw Error(N(349));Zr&30||xx(n,e,s)}return s}function xx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _x(t,e,n,r){e.value=n,e.getSnapshot=r,bx(e)&&kx(t)}function Sx(t,e,n){return n(function(){bx(e)&&kx(t)})}function bx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jt(t,n)}catch{return!0}}function kx(t){var e=Rn(t,1);e!==null&&Yt(e,t,1,-1)}function Tg(t){var e=sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},e.queue=t,t=t.dispatch=A2.bind(null,ce,t),[e.memoizedState,t]}function Ua(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Cx(){return Lt().memoizedState}function El(t,e,n,r){var s=sn();ce.flags|=t,s.memoizedState=Ua(1|e,n,void 0,r===void 0?null:r)}function Hu(t,e,n,r){var s=Lt();r=r===void 0?null:r;var i=void 0;if(Ce!==null){var a=Ce.memoizedState;if(i=a.destroy,r!==null&&tm(r,a.deps)){s.memoizedState=Ua(e,n,i,r);return}}ce.flags|=t,s.memoizedState=Ua(1|e,n,i,r)}function Pg(t,e){return El(8390656,8,t,e)}function sm(t,e){return Hu(2048,8,t,e)}function Ex(t,e){return Hu(4,2,t,e)}function Tx(t,e){return Hu(4,4,t,e)}function Px(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ax(t,e,n){return n=n!=null?n.concat([t]):null,Hu(4,4,Px.bind(null,e,t),n)}function im(){}function Rx(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Mx(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Nx(t,e,n){return Zr&21?(Jt(n,e)||(n=Lw(),ce.lanes|=n,es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=n)}function T2(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=zc.transition;zc.transition={};try{t(!1),e()}finally{ee=n,zc.transition=r}}function Ix(){return Lt().memoizedState}function P2(t,e,n){var r=ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jx(t))Ox(e,n);else if(n=px(t,e,n,r),n!==null){var s=tt();Yt(n,t,r,s),Dx(n,e,r)}}function A2(t,e,n){var r=ur(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jx(t))Ox(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Jt(o,a)){var l=e.interleaved;l===null?(s.next=s,Qh(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=px(t,e,s,r),n!==null&&(s=tt(),Yt(n,t,r,s),Dx(n,e,r))}}function jx(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function Ox(t,e){pa=du=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Dx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dh(t,n)}}var fu={readContext:Dt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},R2={readContext:Dt,useCallback:function(t,e){return sn().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:Pg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,El(4194308,4,Px.bind(null,e,t),n)},useLayoutEffect:function(t,e){return El(4194308,4,t,e)},useInsertionEffect:function(t,e){return El(4,2,t,e)},useMemo:function(t,e){var n=sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=P2.bind(null,ce,t),[r.memoizedState,t]},useRef:function(t){var e=sn();return t={current:t},e.memoizedState=t},useState:Tg,useDebugValue:im,useDeferredValue:function(t){return sn().memoizedState=t},useTransition:function(){var t=Tg(!1),e=t[0];return t=T2.bind(null,t[1]),sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ce,s=sn();if(ie){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Ne===null)throw Error(N(349));Zr&30||xx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Pg(Sx.bind(null,r,i,t),[t]),r.flags|=2048,Ua(9,_x.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=sn(),e=Ne.identifierPrefix;if(ie){var n=En,r=Cn;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Va++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=E2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},M2={readContext:Dt,useCallback:Rx,useContext:Dt,useEffect:sm,useImperativeHandle:Ax,useInsertionEffect:Ex,useLayoutEffect:Tx,useMemo:Mx,useReducer:Wc,useRef:Cx,useState:function(){return Wc(Ba)},useDebugValue:im,useDeferredValue:function(t){var e=Lt();return Nx(e,Ce.memoizedState,t)},useTransition:function(){var t=Wc(Ba)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:vx,useSyncExternalStore:wx,useId:Ix,unstable_isNewReconciler:!1},N2={readContext:Dt,useCallback:Rx,useContext:Dt,useEffect:sm,useImperativeHandle:Ax,useInsertionEffect:Ex,useLayoutEffect:Tx,useMemo:Mx,useReducer:Hc,useRef:Cx,useState:function(){return Hc(Ba)},useDebugValue:im,useDeferredValue:function(t){var e=Lt();return Ce===null?e.memoizedState=t:Nx(e,Ce.memoizedState,t)},useTransition:function(){var t=Hc(Ba)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:vx,useSyncExternalStore:wx,useId:Ix,unstable_isNewReconciler:!1};function Ut(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qu={isMounted:function(t){return(t=t._reactInternals)?is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tt(),s=ur(t),i=Tn(r,s);i.payload=e,n!=null&&(i.callback=n),e=or(t,i,s),e!==null&&(Yt(e,t,s,r),kl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tt(),s=ur(t),i=Tn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=or(t,i,s),e!==null&&(Yt(e,t,s,r),kl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tt(),r=ur(t),s=Tn(n,r);s.tag=2,e!=null&&(s.callback=e),e=or(t,s,r),e!==null&&(Yt(e,t,r,n),kl(e,t,r))}};function Ag(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!ja(n,r)||!ja(s,i):!0}function Lx(t,e,n){var r=!1,s=hr,i=e.contextType;return typeof i=="object"&&i!==null?i=Dt(i):(s=ut(e)?Yr:Ke.current,r=e.contextTypes,i=(r=r!=null)?ni(t,s):hr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Rg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qu.enqueueReplaceState(e,e.state,null)}function df(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Yh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Dt(i):(i=ut(e)?Yr:Ke.current,s.context=ni(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(cf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qu.enqueueReplaceState(s,s.state,null),uu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ai(t,e){try{var n="",r=e;do n+=aC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ff(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var I2=typeof WeakMap=="function"?WeakMap:Map;function $x(t,e,n){n=Tn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mu||(mu=!0,Sf=r),ff(t,e)},n}function Fx(t,e,n){n=Tn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ff(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ff(t,e),typeof r!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Mg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new I2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=K2.bind(null,t,e,n),e.then(t,t))}function Ng(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ig(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tn(-1,1),e.tag=2,or(n,e,1))),n.lanes|=1),t)}var j2=jn.ReactCurrentOwner,at=!1;function Je(t,e,n,r){e.child=t===null?mx(e,null,n,r):si(e,t.child,n,r)}function jg(t,e,n,r,s){n=n.render;var i=e.ref;return zs(e,s),r=nm(t,e,n,r,i,s),n=rm(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mn(t,e,s)):(ie&&n&&Wh(e),e.flags|=1,Je(t,e,r,s),e.child)}function Og(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!hm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Vx(t,e,i,r,s)):(t=Rl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ja,n(a,r)&&t.ref===e.ref)return Mn(t,e,s)}return e.flags|=1,t=cr(i,r),t.ref=e.ref,t.return=e,e.child=t}function Vx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ja(i,r)&&t.ref===e.ref)if(at=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(at=!0);else return e.lanes=t.lanes,Mn(t,e,s)}return hf(t,e,n,r,s)}function Bx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Ns,vt),vt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(Ns,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,te(Ns,vt),vt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,te(Ns,vt),vt|=r;return Je(t,e,s,n),e.child}function Ux(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hf(t,e,n,r,s){var i=ut(n)?Yr:Ke.current;return i=ni(e,i),zs(e,s),n=nm(t,e,n,r,i,s),r=rm(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mn(t,e,s)):(ie&&r&&Wh(e),e.flags|=1,Je(t,e,n,s),e.child)}function Dg(t,e,n,r,s){if(ut(n)){var i=!0;su(e)}else i=!1;if(zs(e,s),e.stateNode===null)Tl(t,e),Lx(e,n,r),df(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dt(u):(u=ut(n)?Yr:Ke.current,u=ni(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Rg(e,a,r,u),Hn=!1;var f=e.memoizedState;a.state=f,uu(e,r,a,s),l=e.memoizedState,o!==r||f!==l||lt.current||Hn?(typeof c=="function"&&(cf(e,n,c,r),l=e.memoizedState),(o=Hn||Ag(e,n,o,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,gx(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ut(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dt(l):(l=ut(n)?Yr:Ke.current,l=ni(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&Rg(e,a,r,l),Hn=!1,f=e.memoizedState,a.state=f,uu(e,r,a,s);var w=e.memoizedState;o!==d||f!==w||lt.current||Hn?(typeof m=="function"&&(cf(e,n,m,r),w=e.memoizedState),(u=Hn||Ag(e,n,u,r,f,w,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),a.props=r,a.state=w,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return mf(t,e,n,r,i,s)}function mf(t,e,n,r,s,i){Ux(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&_g(e,n,!1),Mn(t,e,i);r=e.stateNode,j2.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=si(e,t.child,null,i),e.child=si(e,null,o,i)):Je(t,e,o,i),e.memoizedState=r.state,s&&_g(e,n,!0),e.child}function zx(t){var e=t.stateNode;e.pendingContext?xg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xg(t,e.context,!1),Jh(t,e.containerInfo)}function Lg(t,e,n,r,s){return ri(),qh(s),e.flags|=256,Je(t,e,n,r),e.child}var pf={dehydrated:null,treeContext:null,retryLane:0};function gf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wx(t,e,n){var r=e.pendingProps,s=le.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),te(le,s&1),t===null)return lf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Xu(a,r,0,null),t=Gr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=gf(n),e.memoizedState=pf,t):am(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return O2(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=cr(o,i):(i=Gr(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?gf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=pf,r}return i=t.child,t=i.sibling,r=cr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function am(t,e){return e=Xu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fo(t,e,n,r){return r!==null&&qh(r),si(e,t.child,null,n),t=am(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function O2(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=qc(Error(N(422))),Fo(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Xu({mode:"visible",children:r.children},s,0,null),i=Gr(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&si(e,t.child,null,a),e.child.memoizedState=gf(a),e.memoizedState=pf,i);if(!(e.mode&1))return Fo(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(N(419)),r=qc(i,r,void 0),Fo(t,e,a,r)}if(o=(a&t.childLanes)!==0,at||o){if(r=Ne,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rn(t,s),Yt(r,t,s,-1))}return fm(),r=qc(Error(N(421))),Fo(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=G2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wt=ar(s.nextSibling),xt=e,ie=!0,Gt=null,t!==null&&(At[Rt++]=Cn,At[Rt++]=En,At[Rt++]=Jr,Cn=t.id,En=t.overflow,Jr=e),e=am(e,r.children),e.flags|=4096,e)}function $g(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uf(t.return,e,n)}function Kc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Hx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Je(t,e,r.children,n),r=le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$g(t,n,e);else if(t.tag===19)$g(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(te(le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&cu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Kc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&cu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Kc(e,!0,n,null,i);break;case"together":Kc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function D2(t,e,n){switch(e.tag){case 3:zx(e),ri();break;case 5:yx(e);break;case 1:ut(e.type)&&su(e);break;case 4:Jh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;te(ou,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(te(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?Wx(t,e,n):(te(le,le.current&1),t=Mn(t,e,n),t!==null?t.sibling:null);te(le,le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Hx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(le,le.current),r)break;return null;case 22:case 23:return e.lanes=0,Bx(t,e,n)}return Mn(t,e,n)}var qx,yf,Kx,Gx;qx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yf=function(){};Kx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Dr(hn.current);var i=null;switch(n){case"input":s=$d(t,s),r=$d(t,r),i=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":s=Bd(t,s),r=Bd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nu)}zd(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ta.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ta.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ne("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Gx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ei(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function L2(t,e,n){var r=e.pendingProps;switch(Hh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return ut(e.type)&&ru(),ze(e),null;case 3:return r=e.stateNode,ii(),re(lt),re(Ke),em(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gt!==null&&(Cf(Gt),Gt=null))),yf(t,e),ze(e),null;case 5:Zh(e);var s=Dr(Fa.current);if(n=e.type,t!==null&&e.stateNode!=null)Kx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return ze(e),null}if(t=Dr(hn.current),Lo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[cn]=e,r[La]=i,t=(e.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<Qi.length;s++)ne(Qi[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":Kp(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":Xp(r,i),ne("invalid",r)}zd(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Do(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Do(r.textContent,o,t),s=["children",""+o]):Ta.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ne("scroll",r)}switch(n){case"input":Po(r),Gp(r,i,!0);break;case"textarea":Po(r),Qp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=nu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[cn]=e,t[La]=r,qx(t,e,!1,!1),e.stateNode=t;e:{switch(a=Wd(n,r),n){case"dialog":ne("cancel",t),ne("close",t),s=r;break;case"iframe":case"object":case"embed":ne("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qi.length;s++)ne(Qi[s],t);s=r;break;case"source":ne("error",t),s=r;break;case"img":case"image":case"link":ne("error",t),ne("load",t),s=r;break;case"details":ne("toggle",t),s=r;break;case"input":Kp(t,r),s=$d(t,r),ne("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),ne("invalid",t);break;case"textarea":Xp(t,r),s=Bd(t,r),ne("invalid",t);break;default:s=r}zd(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Cw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pa(t,l):typeof l=="number"&&Pa(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ta.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ne("scroll",t):l!=null&&Rh(t,i,l,a))}switch(n){case"input":Po(t),Gp(t,r,!1);break;case"textarea":Po(t),Qp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=nu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ze(e),null;case 6:if(t&&e.stateNode!=null)Gx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Dr(Fa.current),Dr(hn.current),Lo(e)){if(r=e.stateNode,n=e.memoizedProps,r[cn]=e,(i=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:Do(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Do(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cn]=e,e.stateNode=r}return ze(e),null;case 13:if(re(le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&wt!==null&&e.mode&1&&!(e.flags&128))fx(),ri(),e.flags|=98560,i=!1;else if(i=Lo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[cn]=e}else ri(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ze(e),i=!1}else Gt!==null&&(Cf(Gt),Gt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?Te===0&&(Te=3):fm())),e.updateQueue!==null&&(e.flags|=4),ze(e),null);case 4:return ii(),yf(t,e),t===null&&Oa(e.stateNode.containerInfo),ze(e),null;case 10:return Xh(e.type._context),ze(e),null;case 17:return ut(e.type)&&ru(),ze(e),null;case 19:if(re(le),i=e.memoizedState,i===null)return ze(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ei(i,!1);else{if(Te!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=cu(t),a!==null){for(e.flags|=128,Ei(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return te(le,le.current&1|2),e.child}t=t.sibling}i.tail!==null&&ge()>oi&&(e.flags|=128,r=!0,Ei(i,!1),e.lanes=4194304)}else{if(!r)if(t=cu(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ei(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ie)return ze(e),null}else 2*ge()-i.renderingStartTime>oi&&n!==1073741824&&(e.flags|=128,r=!0,Ei(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ge(),e.sibling=null,n=le.current,te(le,r?n&1|2:n&1),e):(ze(e),null);case 22:case 23:return dm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function $2(t,e){switch(Hh(e),e.tag){case 1:return ut(e.type)&&ru(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ii(),re(lt),re(Ke),em(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zh(e),null;case 13:if(re(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));ri()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(le),null;case 4:return ii(),null;case 10:return Xh(e.type._context),null;case 22:case 23:return dm(),null;case 24:return null;default:return null}}var Vo=!1,We=!1,F2=typeof WeakSet=="function"?WeakSet:Set,D=null;function Ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function vf(t,e,n){try{n()}catch(r){me(t,e,r)}}var Fg=!1;function V2(t,e){if(ef=Zl,t=Zw(),zh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===s&&(o=a),f===i&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tf={focusedElem:t,selectionRange:n},Zl=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,S=w.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ut(e.type,v),S);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){me(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return w=Fg,Fg=!1,w}function ga(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&vf(e,n,i)}s=s.next}while(s!==r)}}function Ku(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xx(t){var e=t.alternate;e!==null&&(t.alternate=null,Xx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cn],delete e[La],delete e[sf],delete e[S2],delete e[b2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qx(t){return t.tag===5||t.tag===3||t.tag===4}function Vg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nu));else if(r!==4&&(t=t.child,t!==null))for(xf(t,e,n),t=t.sibling;t!==null;)xf(t,e,n),t=t.sibling}function _f(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_f(t,e,n),t=t.sibling;t!==null;)_f(t,e,n),t=t.sibling}var Ie=null,Kt=!1;function Dn(t,e,n){for(n=n.child;n!==null;)Yx(t,e,n),n=n.sibling}function Yx(t,e,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Fu,n)}catch{}switch(n.tag){case 5:We||Ms(n,e);case 6:var r=Ie,s=Kt;Ie=null,Dn(t,e,n),Ie=r,Kt=s,Ie!==null&&(Kt?(t=Ie,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(Kt?(t=Ie,n=n.stateNode,t.nodeType===8?Vc(t.parentNode,n):t.nodeType===1&&Vc(t,n),Na(t)):Vc(Ie,n.stateNode));break;case 4:r=Ie,s=Kt,Ie=n.stateNode.containerInfo,Kt=!0,Dn(t,e,n),Ie=r,Kt=s;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&vf(n,e,a),s=s.next}while(s!==r)}Dn(t,e,n);break;case 1:if(!We&&(Ms(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){me(n,e,o)}Dn(t,e,n);break;case 21:Dn(t,e,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,Dn(t,e,n),We=r):Dn(t,e,n);break;default:Dn(t,e,n)}}function Bg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new F2),e.forEach(function(r){var s=X2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ie=o.stateNode,Kt=!1;break e;case 3:Ie=o.stateNode.containerInfo,Kt=!0;break e;case 4:Ie=o.stateNode.containerInfo,Kt=!0;break e}o=o.return}if(Ie===null)throw Error(N(160));Yx(i,a,s),Ie=null,Kt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){me(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jx(e,t),e=e.sibling}function Jx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(e,t),nn(t),r&4){try{ga(3,t,t.return),Ku(3,t)}catch(v){me(t,t.return,v)}try{ga(5,t,t.return)}catch(v){me(t,t.return,v)}}break;case 1:Ft(e,t),nn(t),r&512&&n!==null&&Ms(n,n.return);break;case 5:if(Ft(e,t),nn(t),r&512&&n!==null&&Ms(n,n.return),t.flags&32){var s=t.stateNode;try{Pa(s,"")}catch(v){me(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&xw(s,i),Wd(o,a);var u=Wd(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?Cw(s,d):c==="dangerouslySetInnerHTML"?bw(s,d):c==="children"?Pa(s,d):Rh(s,c,d,u)}switch(o){case"input":Fd(s,i);break;case"textarea":_w(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Fs(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Fs(s,!!i.multiple,i.defaultValue,!0):Fs(s,!!i.multiple,i.multiple?[]:"",!1))}s[La]=i}catch(v){me(t,t.return,v)}}break;case 6:if(Ft(e,t),nn(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){me(t,t.return,v)}}break;case 3:if(Ft(e,t),nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Na(e.containerInfo)}catch(v){me(t,t.return,v)}break;case 4:Ft(e,t),nn(t);break;case 13:Ft(e,t),nn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(um=ge())),r&4&&Bg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(We=(u=We)||c,Ft(e,t),We=u):Ft(e,t),nn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(D=t,c=t.child;c!==null;){for(d=D=c;D!==null;){switch(f=D,m=f.child,f.tag){case 0:case 11:case 14:case 15:ga(4,f,f.return);break;case 1:Ms(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){me(r,n,v)}}break;case 5:Ms(f,f.return);break;case 22:if(f.memoizedState!==null){zg(d);continue}}m!==null?(m.return=f,D=m):zg(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=kw("display",a))}catch(v){me(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){me(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ft(e,t),nn(t),r&4&&Bg(t);break;case 21:break;default:Ft(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Qx(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pa(s,""),r.flags&=-33);var i=Vg(t);_f(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Vg(t);xf(t,o,a);break;default:throw Error(N(161))}}catch(l){me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function B2(t,e,n){D=t,Zx(t)}function Zx(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Vo;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||We;o=Vo;var u=We;if(Vo=a,(We=l)&&!u)for(D=s;D!==null;)a=D,l=a.child,a.tag===22&&a.memoizedState!==null?Wg(s):l!==null?(l.return=a,D=l):Wg(s);for(;i!==null;)D=i,Zx(i),i=i.sibling;D=s,Vo=o,We=u}Ug(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Ug(t)}}function Ug(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||Ku(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!We)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ut(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Eg(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Eg(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Na(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}We||e.flags&512&&wf(e)}catch(f){me(e,e.return,f)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function zg(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Wg(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ku(4,e)}catch(l){me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){me(e,s,l)}}var i=e.return;try{wf(e)}catch(l){me(e,i,l)}break;case 5:var a=e.return;try{wf(e)}catch(l){me(e,a,l)}}}catch(l){me(e,e.return,l)}if(e===t){D=null;break}var o=e.sibling;if(o!==null){o.return=e.return,D=o;break}D=e.return}}var U2=Math.ceil,hu=jn.ReactCurrentDispatcher,om=jn.ReactCurrentOwner,jt=jn.ReactCurrentBatchConfig,Z=0,Ne=null,ve=null,$e=0,vt=0,Ns=wr(0),Te=0,za=null,es=0,Gu=0,lm=0,ya=null,it=null,um=0,oi=1/0,_n=null,mu=!1,Sf=null,lr=null,Bo=!1,nr=null,pu=0,va=0,bf=null,Pl=-1,Al=0;function tt(){return Z&6?ge():Pl!==-1?Pl:Pl=ge()}function ur(t){return t.mode&1?Z&2&&$e!==0?$e&-$e:C2.transition!==null?(Al===0&&(Al=Lw()),Al):(t=ee,t!==0||(t=window.event,t=t===void 0?16:Ww(t.type)),t):1}function Yt(t,e,n,r){if(50<va)throw va=0,bf=null,Error(N(185));ao(t,n,r),(!(Z&2)||t!==Ne)&&(t===Ne&&(!(Z&2)&&(Gu|=n),Te===4&&Gn(t,$e)),ct(t,r),n===1&&Z===0&&!(e.mode&1)&&(oi=ge()+500,Wu&&xr()))}function ct(t,e){var n=t.callbackNode;CC(t,e);var r=Jl(t,t===Ne?$e:0);if(r===0)n!==null&&Zp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zp(n),e===1)t.tag===0?k2(Hg.bind(null,t)):ux(Hg.bind(null,t)),x2(function(){!(Z&6)&&xr()}),n=null;else{switch($w(r)){case 1:n=Oh;break;case 4:n=Ow;break;case 16:n=Yl;break;case 536870912:n=Dw;break;default:n=Yl}n=o1(n,e1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function e1(t,e){if(Pl=-1,Al=0,Z&6)throw Error(N(327));var n=t.callbackNode;if(Ws()&&t.callbackNode!==n)return null;var r=Jl(t,t===Ne?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gu(t,r);else{e=r;var s=Z;Z|=2;var i=n1();(Ne!==t||$e!==e)&&(_n=null,oi=ge()+500,Kr(t,e));do try{H2();break}catch(o){t1(t,o)}while(!0);Gh(),hu.current=i,Z=s,ve!==null?e=0:(Ne=null,$e=0,e=Te)}if(e!==0){if(e===2&&(s=Xd(t),s!==0&&(r=s,e=kf(t,s))),e===1)throw n=za,Kr(t,0),Gn(t,r),ct(t,ge()),n;if(e===6)Gn(t,r);else{if(s=t.current.alternate,!(r&30)&&!z2(s)&&(e=gu(t,r),e===2&&(i=Xd(t),i!==0&&(r=i,e=kf(t,i))),e===1))throw n=za,Kr(t,0),Gn(t,r),ct(t,ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Ar(t,it,_n);break;case 3:if(Gn(t,r),(r&130023424)===r&&(e=um+500-ge(),10<e)){if(Jl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=rf(Ar.bind(null,t,it,_n),e);break}Ar(t,it,_n);break;case 4:if(Gn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Qt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U2(r/1960))-r,10<r){t.timeoutHandle=rf(Ar.bind(null,t,it,_n),r);break}Ar(t,it,_n);break;case 5:Ar(t,it,_n);break;default:throw Error(N(329))}}}return ct(t,ge()),t.callbackNode===n?e1.bind(null,t):null}function kf(t,e){var n=ya;return t.current.memoizedState.isDehydrated&&(Kr(t,e).flags|=256),t=gu(t,e),t!==2&&(e=it,it=n,e!==null&&Cf(e)),t}function Cf(t){it===null?it=t:it.push.apply(it,t)}function z2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Jt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gn(t,e){for(e&=~lm,e&=~Gu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qt(e),r=1<<n;t[n]=-1,e&=~r}}function Hg(t){if(Z&6)throw Error(N(327));Ws();var e=Jl(t,0);if(!(e&1))return ct(t,ge()),null;var n=gu(t,e);if(t.tag!==0&&n===2){var r=Xd(t);r!==0&&(e=r,n=kf(t,r))}if(n===1)throw n=za,Kr(t,0),Gn(t,e),ct(t,ge()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ar(t,it,_n),ct(t,ge()),null}function cm(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(oi=ge()+500,Wu&&xr())}}function ts(t){nr!==null&&nr.tag===0&&!(Z&6)&&Ws();var e=Z;Z|=1;var n=jt.transition,r=ee;try{if(jt.transition=null,ee=1,t)return t()}finally{ee=r,jt.transition=n,Z=e,!(Z&6)&&xr()}}function dm(){vt=Ns.current,re(Ns)}function Kr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,w2(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Hh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ru();break;case 3:ii(),re(lt),re(Ke),em();break;case 5:Zh(r);break;case 4:ii();break;case 13:re(le);break;case 19:re(le);break;case 10:Xh(r.type._context);break;case 22:case 23:dm()}n=n.return}if(Ne=t,ve=t=cr(t.current,null),$e=vt=e,Te=0,za=null,lm=Gu=es=0,it=ya=null,Or!==null){for(e=0;e<Or.length;e++)if(n=Or[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Or=null}return t}function t1(t,e){do{var n=ve;try{if(Gh(),Cl.current=fu,du){for(var r=ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}du=!1}if(Zr=0,Me=Ce=ce=null,pa=!1,Va=0,om.current=null,n===null||n.return===null){Te=1,za=e,ve=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=$e,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Ng(a);if(m!==null){m.flags&=-257,Ig(m,a,o,i,e),m.mode&1&&Mg(i,u,e),e=m,l=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Mg(i,u,e),fm();break e}l=Error(N(426))}}else if(ie&&o.mode&1){var S=Ng(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Ig(S,a,o,i,e),qh(ai(l,o));break e}}i=l=ai(l,o),Te!==4&&(Te=2),ya===null?ya=[i]:ya.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=$x(i,l,e);Cg(i,y);break e;case 1:o=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(lr===null||!lr.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Fx(i,o,e);Cg(i,x);break e}}i=i.return}while(i!==null)}s1(n)}catch(_){e=_,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function n1(){var t=hu.current;return hu.current=fu,t===null?fu:t}function fm(){(Te===0||Te===3||Te===2)&&(Te=4),Ne===null||!(es&268435455)&&!(Gu&268435455)||Gn(Ne,$e)}function gu(t,e){var n=Z;Z|=2;var r=n1();(Ne!==t||$e!==e)&&(_n=null,Kr(t,e));do try{W2();break}catch(s){t1(t,s)}while(!0);if(Gh(),Z=n,hu.current=r,ve!==null)throw Error(N(261));return Ne=null,$e=0,Te}function W2(){for(;ve!==null;)r1(ve)}function H2(){for(;ve!==null&&!gC();)r1(ve)}function r1(t){var e=a1(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?s1(t):ve=e,om.current=null}function s1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$2(n,e),n!==null){n.flags&=32767,ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Te=6,ve=null;return}}else if(n=L2(n,e,vt),n!==null){ve=n;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);Te===0&&(Te=5)}function Ar(t,e,n){var r=ee,s=jt.transition;try{jt.transition=null,ee=1,q2(t,e,n,r)}finally{jt.transition=s,ee=r}return null}function q2(t,e,n,r){do Ws();while(nr!==null);if(Z&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(EC(t,i),t===Ne&&(ve=Ne=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bo||(Bo=!0,o1(Yl,function(){return Ws(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jt.transition,jt.transition=null;var a=ee;ee=1;var o=Z;Z|=4,om.current=null,V2(t,n),Jx(n,t),f2(tf),Zl=!!ef,tf=ef=null,t.current=n,B2(n),yC(),Z=o,ee=a,jt.transition=i}else t.current=n;if(Bo&&(Bo=!1,nr=t,pu=s),i=t.pendingLanes,i===0&&(lr=null),xC(n.stateNode),ct(t,ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(mu)throw mu=!1,t=Sf,Sf=null,t;return pu&1&&t.tag!==0&&Ws(),i=t.pendingLanes,i&1?t===bf?va++:(va=0,bf=t):va=0,xr(),null}function Ws(){if(nr!==null){var t=$w(pu),e=jt.transition,n=ee;try{if(jt.transition=null,ee=16>t?16:t,nr===null)var r=!1;else{if(t=nr,nr=null,pu=0,Z&6)throw Error(N(331));var s=Z;for(Z|=4,D=t.current;D!==null;){var i=D,a=i.child;if(D.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:ga(8,c,i)}var d=c.child;if(d!==null)d.return=c,D=d;else for(;D!==null;){c=D;var f=c.sibling,m=c.return;if(Xx(c),c===u){D=null;break}if(f!==null){f.return=m,D=f;break}D=m}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}D=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,D=a;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ga(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,D=y;break e}D=i.return}}var p=t.current;for(D=p;D!==null;){a=D;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,D=g;else e:for(a=p;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ku(9,o)}}catch(_){me(o,o.return,_)}if(o===a){D=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,D=x;break e}D=o.return}}if(Z=s,xr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Fu,t)}catch{}r=!0}return r}finally{ee=n,jt.transition=e}}return!1}function qg(t,e,n){e=ai(n,e),e=$x(t,e,1),t=or(t,e,1),e=tt(),t!==null&&(ao(t,1,e),ct(t,e))}function me(t,e,n){if(t.tag===3)qg(t,t,n);else for(;e!==null;){if(e.tag===3){qg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lr===null||!lr.has(r))){t=ai(n,t),t=Fx(e,t,1),e=or(e,t,1),t=tt(),e!==null&&(ao(e,1,t),ct(e,t));break}}e=e.return}}function K2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&n,Ne===t&&($e&n)===n&&(Te===4||Te===3&&($e&130023424)===$e&&500>ge()-um?Kr(t,0):lm|=n),ct(t,e)}function i1(t,e){e===0&&(t.mode&1?(e=Mo,Mo<<=1,!(Mo&130023424)&&(Mo=4194304)):e=1);var n=tt();t=Rn(t,e),t!==null&&(ao(t,e,n),ct(t,n))}function G2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),i1(t,n)}function X2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),i1(t,n)}var a1;a1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lt.current)at=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return at=!1,D2(t,e,n);at=!!(t.flags&131072)}else at=!1,ie&&e.flags&1048576&&cx(e,au,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tl(t,e),t=e.pendingProps;var s=ni(e,Ke.current);zs(e,n),s=nm(null,e,r,t,s,n);var i=rm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(r)?(i=!0,su(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yh(e),s.updater=qu,e.stateNode=s,s._reactInternals=e,df(e,r,t,n),e=mf(null,e,r,!0,i,n)):(e.tag=0,ie&&i&&Wh(e),Je(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Y2(r),t=Ut(r,t),s){case 0:e=hf(null,e,r,t,n);break e;case 1:e=Dg(null,e,r,t,n);break e;case 11:e=jg(null,e,r,t,n);break e;case 14:e=Og(null,e,r,Ut(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ut(r,s),hf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ut(r,s),Dg(t,e,r,s,n);case 3:e:{if(zx(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,gx(t,e),uu(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ai(Error(N(423)),e),e=Lg(t,e,r,n,s);break e}else if(r!==s){s=ai(Error(N(424)),e),e=Lg(t,e,r,n,s);break e}else for(wt=ar(e.stateNode.containerInfo.firstChild),xt=e,ie=!0,Gt=null,n=mx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ri(),r===s){e=Mn(t,e,n);break e}Je(t,e,r,n)}e=e.child}return e;case 5:return yx(e),t===null&&lf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,nf(r,s)?a=null:i!==null&&nf(r,i)&&(e.flags|=32),Ux(t,e),Je(t,e,a,n),e.child;case 6:return t===null&&lf(e),null;case 13:return Wx(t,e,n);case 4:return Jh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=si(e,null,r,n):Je(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ut(r,s),jg(t,e,r,s,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,te(ou,r._currentValue),r._currentValue=a,i!==null)if(Jt(i.value,a)){if(i.children===s.children&&!lt.current){e=Mn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Tn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),uf(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),uf(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Je(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,zs(e,n),s=Dt(s),r=r(s),e.flags|=1,Je(t,e,r,n),e.child;case 14:return r=e.type,s=Ut(r,e.pendingProps),s=Ut(r.type,s),Og(t,e,r,s,n);case 15:return Vx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ut(r,s),Tl(t,e),e.tag=1,ut(r)?(t=!0,su(e)):t=!1,zs(e,n),Lx(e,r,s),df(e,r,s,n),mf(null,e,r,!0,t,n);case 19:return Hx(t,e,n);case 22:return Bx(t,e,n)}throw Error(N(156,e.tag))};function o1(t,e){return jw(t,e)}function Q2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,r){return new Q2(t,e,n,r)}function hm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y2(t){if(typeof t=="function")return hm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nh)return 11;if(t===Ih)return 14}return 2}function cr(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rl(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")hm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ss:return Gr(n.children,s,i,e);case Mh:a=8,s|=8;break;case jd:return t=Mt(12,n,e,s|2),t.elementType=jd,t.lanes=i,t;case Od:return t=Mt(13,n,e,s),t.elementType=Od,t.lanes=i,t;case Dd:return t=Mt(19,n,e,s),t.elementType=Dd,t.lanes=i,t;case yw:return Xu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pw:a=10;break e;case gw:a=9;break e;case Nh:a=11;break e;case Ih:a=14;break e;case Wn:a=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Mt(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Gr(t,e,n,r){return t=Mt(7,t,r,e),t.lanes=n,t}function Xu(t,e,n,r){return t=Mt(22,t,r,e),t.elementType=yw,t.lanes=n,t.stateNode={isHidden:!1},t}function Gc(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function Xc(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function J2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ac(0),this.expirationTimes=Ac(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ac(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mm(t,e,n,r,s,i,a,o,l){return t=new J2(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Mt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yh(i),t}function Z2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function l1(t){if(!t)return hr;t=t._reactInternals;e:{if(is(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(ut(n))return lx(t,n,e)}return e}function u1(t,e,n,r,s,i,a,o,l){return t=mm(n,r,!0,t,s,i,a,o,l),t.context=l1(null),n=t.current,r=tt(),s=ur(n),i=Tn(r,s),i.callback=e??null,or(n,i,s),t.current.lanes=s,ao(t,s,r),ct(t,r),t}function Qu(t,e,n,r){var s=e.current,i=tt(),a=ur(s);return n=l1(n),e.context===null?e.context=n:e.pendingContext=n,e=Tn(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=or(s,e,a),t!==null&&(Yt(t,s,a,i),kl(t,s,a)),a}function yu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pm(t,e){Kg(t,e),(t=t.alternate)&&Kg(t,e)}function eE(){return null}var c1=typeof reportError=="function"?reportError:function(t){console.error(t)};function gm(t){this._internalRoot=t}Yu.prototype.render=gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Qu(t,e,null,null)};Yu.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ts(function(){Qu(null,t,null,null)}),e[An]=null}};function Yu(t){this._internalRoot=t}Yu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kn.length&&e!==0&&e<Kn[n].priority;n++);Kn.splice(n,0,t),n===0&&zw(t)}};function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gg(){}function tE(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=yu(a);i.call(u)}}var a=u1(e,r,t,0,null,!1,!1,"",Gg);return t._reactRootContainer=a,t[An]=a.current,Oa(t.nodeType===8?t.parentNode:t),ts(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=yu(l);o.call(u)}}var l=mm(t,0,!1,null,null,!1,!1,"",Gg);return t._reactRootContainer=l,t[An]=l.current,Oa(t.nodeType===8?t.parentNode:t),ts(function(){Qu(e,l,n,r)}),l}function Zu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=yu(a);o.call(l)}}Qu(e,a,t,s)}else a=tE(n,e,t,s,r);return yu(a)}Fw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xi(e.pendingLanes);n!==0&&(Dh(e,n|1),ct(e,ge()),!(Z&6)&&(oi=ge()+500,xr()))}break;case 13:ts(function(){var r=Rn(t,1);if(r!==null){var s=tt();Yt(r,t,1,s)}}),pm(t,1)}};Lh=function(t){if(t.tag===13){var e=Rn(t,134217728);if(e!==null){var n=tt();Yt(e,t,134217728,n)}pm(t,134217728)}};Vw=function(t){if(t.tag===13){var e=ur(t),n=Rn(t,e);if(n!==null){var r=tt();Yt(n,t,e,r)}pm(t,e)}};Bw=function(){return ee};Uw=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};qd=function(t,e,n){switch(e){case"input":if(Fd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=zu(r);if(!s)throw Error(N(90));ww(r),Fd(r,s)}}}break;case"textarea":_w(t,n);break;case"select":e=n.value,e!=null&&Fs(t,!!n.multiple,e,!1)}};Pw=cm;Aw=ts;var nE={usingClientEntryPoint:!1,Events:[lo,Es,zu,Ew,Tw,cm]},Ti={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rE={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Nw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||eE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{Fu=Uo.inject(rE),fn=Uo}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nE;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ym(e))throw Error(N(200));return Z2(t,e,null,n)};St.createRoot=function(t,e){if(!ym(t))throw Error(N(299));var n=!1,r="",s=c1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=mm(t,1,!1,null,null,n,!1,r,s),t[An]=e.current,Oa(t.nodeType===8?t.parentNode:t),new gm(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Nw(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return ts(t)};St.hydrate=function(t,e,n){if(!Ju(e))throw Error(N(200));return Zu(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!ym(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=c1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=u1(e,null,t,1,n??null,s,!1,i,a),t[An]=e.current,Oa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yu(e)};St.render=function(t,e,n){if(!Ju(e))throw Error(N(200));return Zu(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!Ju(t))throw Error(N(40));return t._reactRootContainer?(ts(function(){Zu(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1};St.unstable_batchedUpdates=cm;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ju(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Zu(t,e,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function d1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d1)}catch(t){console.error(t)}}d1(),dw.exports=St;var sE=dw.exports,Xg=sE;Nd.createRoot=Xg.createRoot,Nd.hydrateRoot=Xg.hydrateRoot;const iE="modulepreload",aE=function(t){return"/"+t},Qg={},$t=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=aE(l),l in Qg)return;Qg[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":iE,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};var ec=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oE={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Xn,bh,Hv,lE=(Hv=class{constructor(){Y(this,Xn,oE);Y(this,bh,!1)}setTimeoutProvider(t){W(this,Xn,t)}setTimeout(t,e){return P(this,Xn).setTimeout(t,e)}clearTimeout(t){P(this,Xn).clearTimeout(t)}setInterval(t,e){return P(this,Xn).setInterval(t,e)}clearInterval(t){P(this,Xn).clearInterval(t)}},Xn=new WeakMap,bh=new WeakMap,Hv),Ef=new lE;function uE(t){setTimeout(t,0)}var tc=typeof window>"u"||"Deno"in globalThis;function zt(){}function cE(t,e){return typeof t=="function"?t(e):t}function dE(t){return typeof t=="number"&&t>=0&&t!==1/0}function fE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Tf(t,e){return typeof t=="function"?t(e):t}function hE(t,e){return typeof t=="function"?t(e):t}function Yg(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==vm(a,e.options))return!1}else if(!Ha(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function Jg(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Wa(e.options.mutationKey)!==Wa(i))return!1}else if(!Ha(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function vm(t,e){return((e==null?void 0:e.queryKeyHashFn)||Wa)(t)}function Wa(t){return JSON.stringify(t,(e,n)=>Pf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ha(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ha(t[n],e[n])):!1}var mE=Object.prototype.hasOwnProperty;function f1(t,e){if(t===e)return t;const n=Zg(t)&&Zg(e);if(!n&&!(Pf(t)&&Pf(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,o=n?new Array(a):{};let l=0;for(let u=0;u<a;u++){const c=n?u:i[u],d=t[c],f=e[c];if(d===f){o[c]=d,(n?u<s:mE.call(t,c))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){o[c]=f;continue}const m=f1(d,f);o[c]=m,m===d&&l++}return s===a&&l===s?t:o}function QO(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Zg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Pf(t){if(!ey(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ey(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ey(t){return Object.prototype.toString.call(t)==="[object Object]"}function pE(t){return new Promise(e=>{Ef.setTimeout(e,t)})}function gE(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?f1(t,e):e}function yE(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function vE(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var wm=Symbol();function h1(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===wm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function YO(t,e){return typeof t=="function"?t(...e):!!t}function wE(t,e,n){let r=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),t}var Br,Qn,Ks,qv,xE=(qv=class extends ec{constructor(){super();Y(this,Br);Y(this,Qn);Y(this,Ks);W(this,Ks,e=>{if(!tc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,Qn)||this.setEventListener(P(this,Ks))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Qn))==null||e.call(this),W(this,Qn,void 0))}setEventListener(e){var n;W(this,Ks,e),(n=P(this,Qn))==null||n.call(this),W(this,Qn,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){P(this,Br)!==e&&(W(this,Br,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof P(this,Br)=="boolean"?P(this,Br):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Br=new WeakMap,Qn=new WeakMap,Ks=new WeakMap,qv),m1=new xE;function _E(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var SE=uE;function bE(){let t=[],e=0,n=o=>{o()},r=o=>{o()},s=SE;const i=o=>{e?t.push(o):s(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Ze=bE(),Gs,Yn,Xs,Kv,kE=(Kv=class extends ec{constructor(){super();Y(this,Gs,!0);Y(this,Yn);Y(this,Xs);W(this,Xs,e=>{if(!tc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,Yn)||this.setEventListener(P(this,Xs))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Yn))==null||e.call(this),W(this,Yn,void 0))}setEventListener(e){var n;W(this,Xs,e),(n=P(this,Yn))==null||n.call(this),W(this,Yn,e(this.setOnline.bind(this)))}setOnline(e){P(this,Gs)!==e&&(W(this,Gs,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return P(this,Gs)}},Gs=new WeakMap,Yn=new WeakMap,Xs=new WeakMap,Kv),vu=new kE;function CE(t){return Math.min(1e3*2**t,3e4)}function p1(t){return(t??"online")==="online"?vu.isOnline():!0}var Af=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function g1(t){let e=!1,n=0,r;const s=_E(),i=()=>s.status!=="pending",a=v=>{var S;if(!i()){const y=new Af(v);f(y),(S=t.onCancel)==null||S.call(t,y)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>m1.isFocused()&&(t.networkMode==="always"||vu.isOnline())&&t.canRun(),c=()=>p1(t.networkMode)&&t.canRun(),d=v=>{i()||(r==null||r(),s.resolve(v))},f=v=>{i()||(r==null||r(),s.reject(v))},m=()=>new Promise(v=>{var S;r=y=>{(i()||u())&&v(y)},(S=t.onPause)==null||S.call(t)}).then(()=>{var v;r=void 0,i()||(v=t.onContinue)==null||v.call(t)}),w=()=>{if(i())return;let v;const S=n===0?t.initialPromise:void 0;try{v=S??t.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(d).catch(y=>{var b;if(i())return;const p=t.retry??(tc?0:3),g=t.retryDelay??CE,x=typeof g=="function"?g(n,y):g,_=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,y);if(e||!_){f(y);return}n++,(b=t.onFail)==null||b.call(t,n,y),pE(x).then(()=>u()?void 0:m()).then(()=>{e?f(y):w()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?w():m().then(w),s)}}var Ur,Gv,y1=(Gv=class{constructor(){Y(this,Ur)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dE(this.gcTime)&&W(this,Ur,Ef.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(tc?1/0:5*60*1e3))}clearGcTimeout(){P(this,Ur)&&(Ef.clearTimeout(P(this,Ur)),W(this,Ur,void 0))}},Ur=new WeakMap,Gv),zr,Qs,Pt,Wr,Re,no,Hr,Ht,wn,Xv,EE=(Xv=class extends y1{constructor(e){super();Y(this,Ht);Y(this,zr);Y(this,Qs);Y(this,Pt);Y(this,Wr);Y(this,Re);Y(this,no);Y(this,Hr);W(this,Hr,!1),W(this,no,e.defaultOptions),this.setOptions(e.options),this.observers=[],W(this,Wr,e.client),W(this,Pt,P(this,Wr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,W(this,zr,ny(this.options)),this.state=e.state??P(this,zr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=P(this,Re))==null?void 0:e.promise}setOptions(e){if(this.options={...P(this,no),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=ny(this.options);n.data!==void 0&&(this.setState(ty(n.data,n.dataUpdatedAt)),W(this,zr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Pt).remove(this)}setData(e,n){const r=gE(this.state.data,e,this.options);return Be(this,Ht,wn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Be(this,Ht,wn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=P(this,Re))==null?void 0:r.promise;return(s=P(this,Re))==null||s.cancel(e),n?n.then(zt).catch(zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,zr))}isActive(){return this.observers.some(e=>hE(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Tf(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!fE(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,Re))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,Re))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),P(this,Pt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(P(this,Re)&&(P(this,Hr)?P(this,Re).cancel({revert:!0}):P(this,Re).cancelRetry()),this.scheduleGc()),P(this,Pt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,Ht,wn).call(this,{type:"invalidate"})}async fetch(e,n){var l,u,c,d,f,m,w,v,S,y,p,g;if(this.state.fetchStatus!=="idle"&&((l=P(this,Re))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(P(this,Re))return P(this,Re).continueRetry(),P(this,Re).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(_=>_.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(W(this,Hr,!0),r.signal)})},i=()=>{const x=h1(this.options,n),b=(()=>{const C={client:P(this,Wr),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return W(this,Hr,!1),this.options.persister?this.options.persister(x,b,this):x(b)},o=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:P(this,Wr),state:this.state,fetchFn:i};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(o,this),W(this,Qs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Be(this,Ht,wn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta}),W(this,Re,g1({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:x=>{x instanceof Af&&x.revert&&this.setState({...P(this,Qs),fetchStatus:"idle"}),r.abort()},onFail:(x,_)=>{Be(this,Ht,wn).call(this,{type:"failed",failureCount:x,error:_})},onPause:()=>{Be(this,Ht,wn).call(this,{type:"pause"})},onContinue:()=>{Be(this,Ht,wn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const x=await P(this,Re).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(m=(f=P(this,Pt).config).onSuccess)==null||m.call(f,x,this),(v=(w=P(this,Pt).config).onSettled)==null||v.call(w,x,this.state.error,this),x}catch(x){if(x instanceof Af){if(x.silent)return P(this,Re).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw Be(this,Ht,wn).call(this,{type:"error",error:x}),(y=(S=P(this,Pt).config).onError)==null||y.call(S,x,this),(g=(p=P(this,Pt).config).onSettled)==null||g.call(p,this.state.data,x,this),x}finally{this.scheduleGc()}}},zr=new WeakMap,Qs=new WeakMap,Pt=new WeakMap,Wr=new WeakMap,Re=new WeakMap,no=new WeakMap,Hr=new WeakMap,Ht=new WeakSet,wn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...TE(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...ty(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return W(this,Qs,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ze.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,Pt).notify({query:this,type:"updated",action:e})})},Xv);function TE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:p1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ty(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ny(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function ry(t){return{onFetch:(e,n)=>{var c,d,f,m,w;const r=e.options,s=(f=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const S=g=>{wE(g,()=>e.signal,()=>v=!0)},y=h1(e.options,e.fetchOptions),p=async(g,x,_)=>{if(v)return Promise.reject();if(x==null&&g.pages.length)return Promise.resolve(g);const C=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:x,direction:_?"backward":"forward",meta:e.options.meta};return S(O),O})(),T=await y(C),{maxPages:I}=e.options,R=_?vE:yE;return{pages:R(g.pages,T,I),pageParams:R(g.pageParams,x,I)}};if(s&&i.length){const g=s==="backward",x=g?PE:sy,_={pages:i,pageParams:a},b=x(r,_);o=await p(_,b,g)}else{const g=t??i.length;do{const x=l===0?a[0]??r.initialPageParam:sy(r,o);if(l>0&&x==null)break;o=await p(o,x),l++}while(l<g)}return o};e.options.persister?e.fetchFn=()=>{var v,S;return(S=(v=e.options).persister)==null?void 0:S.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function sy(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function PE(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ro,on,Qe,qr,ln,Un,Qv,AE=(Qv=class extends y1{constructor(e){super();Y(this,ln);Y(this,ro);Y(this,on);Y(this,Qe);Y(this,qr);W(this,ro,e.client),this.mutationId=e.mutationId,W(this,Qe,e.mutationCache),W(this,on,[]),this.state=e.state||RE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){P(this,on).includes(e)||(P(this,on).push(e),this.clearGcTimeout(),P(this,Qe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){W(this,on,P(this,on).filter(n=>n!==e)),this.scheduleGc(),P(this,Qe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){P(this,on).length||(this.state.status==="pending"?this.scheduleGc():P(this,Qe).remove(this))}continue(){var e;return((e=P(this,qr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,c,d,f,m,w,v,S,y,p,g,x,_,b,C,T,I;const n=()=>{Be(this,ln,Un).call(this,{type:"continue"})},r={client:P(this,ro),meta:this.options.meta,mutationKey:this.options.mutationKey};W(this,qr,g1({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,O)=>{Be(this,ln,Un).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{Be(this,ln,Un).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,Qe).canRun(this)}));const s=this.state.status==="pending",i=!P(this,qr).canStart();try{if(s)n();else{Be(this,ln,Un).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=P(this,Qe).config).onMutate)==null?void 0:o.call(a,e,this,r));const O=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,r));O!==this.state.context&&Be(this,ln,Un).call(this,{type:"pending",context:O,variables:e,isPaused:i})}const R=await P(this,qr).start();return await((d=(c=P(this,Qe).config).onSuccess)==null?void 0:d.call(c,R,e,this.state.context,this,r)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,R,e,this.state.context,r)),await((v=(w=P(this,Qe).config).onSettled)==null?void 0:v.call(w,R,null,this.state.variables,this.state.context,this,r)),await((y=(S=this.options).onSettled)==null?void 0:y.call(S,R,null,e,this.state.context,r)),Be(this,ln,Un).call(this,{type:"success",data:R}),R}catch(R){try{await((g=(p=P(this,Qe).config).onError)==null?void 0:g.call(p,R,e,this.state.context,this,r))}catch(O){Promise.reject(O)}try{await((_=(x=this.options).onError)==null?void 0:_.call(x,R,e,this.state.context,r))}catch(O){Promise.reject(O)}try{await((C=(b=P(this,Qe).config).onSettled)==null?void 0:C.call(b,void 0,R,this.state.variables,this.state.context,this,r))}catch(O){Promise.reject(O)}try{await((I=(T=this.options).onSettled)==null?void 0:I.call(T,void 0,R,e,this.state.context,r))}catch(O){Promise.reject(O)}throw Be(this,ln,Un).call(this,{type:"error",error:R}),R}finally{P(this,Qe).runNext(this)}}},ro=new WeakMap,on=new WeakMap,Qe=new WeakMap,qr=new WeakMap,ln=new WeakSet,Un=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ze.batch(()=>{P(this,on).forEach(r=>{r.onMutationUpdate(e)}),P(this,Qe).notify({mutation:this,type:"updated",action:e})})},Qv);function RE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bn,qt,so,Yv,ME=(Yv=class extends ec{constructor(e={}){super();Y(this,bn);Y(this,qt);Y(this,so);this.config=e,W(this,bn,new Set),W(this,qt,new Map),W(this,so,0)}build(e,n,r){const s=new AE({client:e,mutationCache:this,mutationId:++Co(this,so)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){P(this,bn).add(e);const n=zo(e);if(typeof n=="string"){const r=P(this,qt).get(n);r?r.push(e):P(this,qt).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(P(this,bn).delete(e)){const n=zo(e);if(typeof n=="string"){const r=P(this,qt).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&P(this,qt).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=zo(e);if(typeof n=="string"){const r=P(this,qt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=zo(e);if(typeof n=="string"){const s=(r=P(this,qt).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ze.batch(()=>{P(this,bn).forEach(e=>{this.notify({type:"removed",mutation:e})}),P(this,bn).clear(),P(this,qt).clear()})}getAll(){return Array.from(P(this,bn))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Jg(n,r))}findAll(e={}){return this.getAll().filter(n=>Jg(e,n))}notify(e){Ze.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ze.batch(()=>Promise.all(e.map(n=>n.continue().catch(zt))))}},bn=new WeakMap,qt=new WeakMap,so=new WeakMap,Yv);function zo(t){var e;return(e=t.options.scope)==null?void 0:e.id}var un,Jv,NE=(Jv=class extends ec{constructor(e={}){super();Y(this,un);this.config=e,W(this,un,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??vm(s,n);let a=this.get(i);return a||(a=new EE({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){P(this,un).has(e.queryHash)||(P(this,un).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=P(this,un).get(e.queryHash);n&&(e.destroy(),n===e&&P(this,un).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ze.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,un).get(e)}getAll(){return[...P(this,un).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Yg(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Yg(e,r)):n}notify(e){Ze.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ze.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ze.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},un=new WeakMap,Jv),fe,Jn,Zn,Ys,Js,er,Zs,ei,Zv,IE=(Zv=class{constructor(t={}){Y(this,fe);Y(this,Jn);Y(this,Zn);Y(this,Ys);Y(this,Js);Y(this,er);Y(this,Zs);Y(this,ei);W(this,fe,t.queryCache||new NE),W(this,Jn,t.mutationCache||new ME),W(this,Zn,t.defaultOptions||{}),W(this,Ys,new Map),W(this,Js,new Map),W(this,er,0)}mount(){Co(this,er)._++,P(this,er)===1&&(W(this,Zs,m1.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,fe).onFocus())})),W(this,ei,vu.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,fe).onOnline())})))}unmount(){var t,e;Co(this,er)._--,P(this,er)===0&&((t=P(this,Zs))==null||t.call(this),W(this,Zs,void 0),(e=P(this,ei))==null||e.call(this),W(this,ei,void 0))}isFetching(t){return P(this,fe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return P(this,Jn).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,fe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=P(this,fe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Tf(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return P(this,fe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=P(this,fe).get(r.queryHash),i=s==null?void 0:s.state.data,a=cE(e,i);if(a!==void 0)return P(this,fe).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Ze.batch(()=>P(this,fe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,fe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=P(this,fe);Ze.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=P(this,fe);return Ze.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ze.batch(()=>P(this,fe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(zt).catch(zt)}invalidateQueries(t,e={}){return Ze.batch(()=>(P(this,fe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ze.batch(()=>P(this,fe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(zt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(zt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=P(this,fe).build(this,e);return n.isStaleByTime(Tf(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zt).catch(zt)}fetchInfiniteQuery(t){return t.behavior=ry(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zt).catch(zt)}ensureInfiniteQueryData(t){return t.behavior=ry(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return vu.isOnline()?P(this,Jn).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,fe)}getMutationCache(){return P(this,Jn)}getDefaultOptions(){return P(this,Zn)}setDefaultOptions(t){W(this,Zn,t)}setQueryDefaults(t,e){P(this,Ys).set(Wa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...P(this,Ys).values()],n={};return e.forEach(r=>{Ha(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){P(this,Js).set(Wa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...P(this,Js).values()],n={};return e.forEach(r=>{Ha(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...P(this,Zn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=vm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===wm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...P(this,Zn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){P(this,fe).clear(),P(this,Jn).clear()}},fe=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,Ys=new WeakMap,Js=new WeakMap,er=new WeakMap,Zs=new WeakMap,ei=new WeakMap,Zv),v1=A.createContext(void 0),JO=t=>{const e=A.useContext(v1);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jE=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(v1.Provider,{value:t,children:e}));const xm=A.createContext({});function _m(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sm=typeof window<"u",w1=Sm?A.useLayoutEffect:A.useEffect,nc=A.createContext(null);function bm(t,e){t.indexOf(e)===-1&&t.push(e)}function km(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function ZO([...t],e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const s=n<0?t.length+n:n,[i]=t.splice(e,1);t.splice(s,0,i)}return t}const Nn=(t,e,n)=>n>e?e:n<t?t:n;let Cm=()=>{};const In={},x1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _1(t){return typeof t=="object"&&t!==null}const S1=t=>/^0[^.\s]+$/u.test(t);function Em(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ot=t=>t,OE=(t,e)=>n=>e(t(n)),co=(...t)=>t.reduce(OE),qa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Tm{constructor(){this.subscriptions=[]}add(e){return bm(this.subscriptions,e),()=>km(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mn=t=>t*1e3,Nt=t=>t/1e3;function b1(t,e){return e?t*(1e3/e):0}const k1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,DE=1e-7,LE=12;function $E(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=k1(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>DE&&++o<LE);return a}function fo(t,e,n,r){if(t===e&&n===r)return Ot;const s=i=>$E(i,0,1,t,n);return i=>i===0||i===1?i:k1(s(i),e,r)}const C1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,E1=t=>e=>1-t(1-e),T1=fo(.33,1.53,.69,.99),Pm=E1(T1),P1=C1(Pm),A1=t=>(t*=2)<1?.5*Pm(t):.5*(2-Math.pow(2,-10*(t-1))),Am=t=>1-Math.sin(Math.acos(t)),R1=E1(Am),M1=C1(Am),FE=fo(.42,0,1,1),VE=fo(0,0,.58,1),N1=fo(.42,0,.58,1),BE=t=>Array.isArray(t)&&typeof t[0]!="number",I1=t=>Array.isArray(t)&&typeof t[0]=="number",UE={linear:Ot,easeIn:FE,easeInOut:N1,easeOut:VE,circIn:Am,circInOut:M1,circOut:R1,backIn:Pm,backInOut:P1,backOut:T1,anticipate:A1},zE=t=>typeof t=="string",iy=t=>{if(I1(t)){Cm(t.length===4);const[e,n,r,s]=t;return fo(e,n,r,s)}else if(zE(t))return UE[t];return t},Wo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function WE(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){a.has(c)&&(u.schedule(c),t()),c(o)}const u={schedule:(c,d=!1,f=!1)=>{const w=f&&s?n:r;return d&&a.add(c),w.has(c)||w.add(c),c},cancel:c=>{r.delete(c),a.delete(c)},process:c=>{if(o=c,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,u.process(c))}};return u}const HE=40;function j1(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Wo.reduce((g,x)=>(g[x]=WE(i),g),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:f,render:m,postRender:w}=a,v=()=>{const g=In.useManualTiming?s.timestamp:performance.now();n=!1,In.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,HE),1)),s.timestamp=g,s.isProcessing=!0,o.process(s),l.process(s),u.process(s),c.process(s),d.process(s),f.process(s),m.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},S=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:Wo.reduce((g,x)=>{const _=a[x];return g[x]=(b,C=!1,T=!1)=>(n||S(),_.schedule(b,C,T)),g},{}),cancel:g=>{for(let x=0;x<Wo.length;x++)a[Wo[x]].cancel(g)},state:s,steps:a}}const{schedule:ae,cancel:mr,state:je,steps:Qc}=j1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ot,!0);let Ml;function qE(){Ml=void 0}const ot={now:()=>(Ml===void 0&&ot.set(je.isProcessing||In.useManualTiming?je.timestamp:performance.now()),Ml),set:t=>{Ml=t,queueMicrotask(qE)}},O1=t=>e=>typeof e=="string"&&e.startsWith(t),D1=O1("--"),KE=O1("var(--"),Rm=t=>KE(t)?GE.test(t.split("/*")[0].trim()):!1,GE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ka={...mi,transform:t=>Nn(0,1,t)},Ho={...mi,default:1},wa=t=>Math.round(t*1e5)/1e5,Mm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XE(t){return t==null}const QE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nm=(t,e)=>n=>!!(typeof n=="string"&&QE.test(n)&&n.startsWith(t)||e&&!XE(n)&&Object.prototype.hasOwnProperty.call(n,e)),L1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(Mm);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},YE=t=>Nn(0,255,t),Yc={...mi,transform:t=>Math.round(YE(t))},Lr={test:Nm("rgb","red"),parse:L1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Yc.transform(t)+", "+Yc.transform(e)+", "+Yc.transform(n)+", "+wa(Ka.transform(r))+")"};function JE(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Rf={test:Nm("#"),parse:JE,transform:Lr.transform},ho=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zn=ho("deg"),pn=ho("%"),U=ho("px"),ZE=ho("vh"),eT=ho("vw"),ay={...pn,parse:t=>pn.parse(t)/100,transform:t=>pn.transform(t*100)},Is={test:Nm("hsl","hue"),parse:L1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+pn.transform(wa(e))+", "+pn.transform(wa(n))+", "+wa(Ka.transform(r))+")"},ye={test:t=>Lr.test(t)||Rf.test(t)||Is.test(t),parse:t=>Lr.test(t)?Lr.parse(t):Is.test(t)?Is.parse(t):Rf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Lr.transform(t):Is.transform(t),getAnimatableNone:t=>{const e=ye.parse(t);return e.alpha=0,ye.transform(e)}},tT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nT(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Mm))==null?void 0:e.length)||0)+(((n=t.match(tT))==null?void 0:n.length)||0)>0}const $1="number",F1="color",rT="var",sT="var(",oy="${}",iT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ga(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(iT,l=>(ye.test(l)?(r.color.push(i),s.push(F1),n.push(ye.parse(l))):l.startsWith(sT)?(r.var.push(i),s.push(rT),n.push(l)):(r.number.push(i),s.push($1),n.push(parseFloat(l))),++i,oy)).split(oy);return{values:n,split:o,indexes:r,types:s}}function V1(t){return Ga(t).values}function B1(t){const{split:e,types:n}=Ga(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const o=n[a];o===$1?i+=wa(s[a]):o===F1?i+=ye.transform(s[a]):i+=s[a]}return i}}const aT=t=>typeof t=="number"?0:ye.test(t)?ye.getAnimatableNone(t):t;function oT(t){const e=V1(t);return B1(t)(e.map(aT))}const pr={test:nT,parse:V1,createTransformer:B1,getAnimatableNone:oT};function Jc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lT({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;s=Jc(l,o,t+1/3),i=Jc(l,o,t),a=Jc(l,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function wu(t,e){return n=>n>0?e:t}const ue=(t,e,n)=>t+(e-t)*n,Zc=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},uT=[Rf,Lr,Is],cT=t=>uT.find(e=>e.test(t));function ly(t){const e=cT(t);if(!e)return!1;let n=e.parse(t);return e===Is&&(n=lT(n)),n}const uy=(t,e)=>{const n=ly(t),r=ly(e);if(!n||!r)return wu(t,e);const s={...n};return i=>(s.red=Zc(n.red,r.red,i),s.green=Zc(n.green,r.green,i),s.blue=Zc(n.blue,r.blue,i),s.alpha=ue(n.alpha,r.alpha,i),Lr.transform(s))},Mf=new Set(["none","hidden"]);function dT(t,e){return Mf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function fT(t,e){return n=>ue(t,e,n)}function Im(t){return typeof t=="number"?fT:typeof t=="string"?Rm(t)?wu:ye.test(t)?uy:pT:Array.isArray(t)?U1:typeof t=="object"?ye.test(t)?uy:hT:wu}function U1(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>Im(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function hT(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Im(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function mT(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],o=t.values[a]??0;n[s]=o,r[i]++}return n}const pT=(t,e)=>{const n=pr.createTransformer(e),r=Ga(t),s=Ga(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Mf.has(t)&&!s.values.length||Mf.has(e)&&!r.values.length?dT(t,e):co(U1(mT(r,s),s.values),n):wu(t,e)};function z1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ue(t,e,n):Im(t)(t,e)}const gT=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ae.update(e,n),stop:()=>mr(e),now:()=>je.isProcessing?je.timestamp:ot.now()}},W1=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},xu=2e4;function jm(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<xu;)e+=n,r=t.next(e);return e>=xu?1/0:e}function yT(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(jm(r),xu);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Nt(s)}}const vT=5;function H1(t,e,n){const r=Math.max(e-vT,0);return b1(n-t(r),e-r)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ed=.001;function wT({duration:t=he.duration,bounce:e=he.bounce,velocity:n=he.velocity,mass:r=he.mass}){let s,i,a=1-e;a=Nn(he.minDamping,he.maxDamping,a),t=Nn(he.minDuration,he.maxDuration,Nt(t)),a<1?(s=u=>{const c=u*a,d=c*t,f=c-n,m=Nf(u,a),w=Math.exp(-d);return ed-f/m*w},i=u=>{const d=u*a*t,f=d*n+n,m=Math.pow(a,2)*Math.pow(u,2)*t,w=Math.exp(-d),v=Nf(Math.pow(u,2),a);return(-s(u)+ed>0?-1:1)*((f-m)*w)/v}):(s=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-ed+c*d},i=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const o=5/t,l=_T(s,i,o);if(t=mn(t),isNaN(l))return{stiffness:he.stiffness,damping:he.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const xT=12;function _T(t,e,n){let r=n;for(let s=1;s<xT;s++)r=r-t(r)/e(r);return r}function Nf(t,e){return t*Math.sqrt(1-e*e)}const ST=["duration","bounce"],bT=["stiffness","damping","mass"];function cy(t,e){return e.some(n=>t[n]!==void 0)}function kT(t){let e={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...t};if(!cy(t,bT)&&cy(t,ST))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Nn(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:he.mass,stiffness:s,damping:i}}else{const n=wT(t);e={...e,...n,mass:he.mass},e.isResolvedFromDuration=!0}return e}function _u(t=he.visualDuration,e=he.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:m}=kT({...n,velocity:-Nt(n.velocity||0)}),w=f||0,v=u/(2*Math.sqrt(l*c)),S=a-i,y=Nt(Math.sqrt(l/c)),p=Math.abs(S)<5;r||(r=p?he.restSpeed.granular:he.restSpeed.default),s||(s=p?he.restDelta.granular:he.restDelta.default);let g;if(v<1){const _=Nf(y,v);g=b=>{const C=Math.exp(-v*y*b);return a-C*((w+v*y*S)/_*Math.sin(_*b)+S*Math.cos(_*b))}}else if(v===1)g=_=>a-Math.exp(-y*_)*(S+(w+y*S)*_);else{const _=y*Math.sqrt(v*v-1);g=b=>{const C=Math.exp(-v*y*b),T=Math.min(_*b,300);return a-C*((w+v*y*S)*Math.sinh(T)+_*S*Math.cosh(T))/_}}const x={calculatedDuration:m&&d||null,next:_=>{const b=g(_);if(m)o.done=_>=d;else{let C=_===0?w:0;v<1&&(C=_===0?mn(w):H1(g,_,b));const T=Math.abs(C)<=r,I=Math.abs(a-b)<=s;o.done=T&&I}return o.value=o.done?a:b,o},toString:()=>{const _=Math.min(jm(x),xu),b=W1(C=>x.next(_*C).value,_,30);return _+"ms "+b},toTransition:()=>{}};return x}_u.applyToOptions=t=>{const e=yT(t,100,_u);return t.ease=e.ease,t.duration=mn(e.duration),t.type="keyframes",t};function If({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},m=T=>o!==void 0&&T<o||l!==void 0&&T>l,w=T=>o===void 0?l:l===void 0||Math.abs(o-T)<Math.abs(l-T)?o:l;let v=n*e;const S=d+v,y=a===void 0?S:a(S);y!==S&&(v=y-d);const p=T=>-v*Math.exp(-T/r),g=T=>y+p(T),x=T=>{const I=p(T),R=g(T);f.done=Math.abs(I)<=u,f.value=f.done?y:R};let _,b;const C=T=>{m(f.value)&&(_=T,b=_u({keyframes:[f.value,w(f.value)],velocity:H1(g,T,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return C(0),{calculatedDuration:null,next:T=>{let I=!1;return!b&&_===void 0&&(I=!0,x(T),C(T)),_!==void 0&&T>=_?b.next(T-_):(!I&&x(T),f)}}}function CT(t,e,n){const r=[],s=n||In.mix||z1,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Ot:e;o=co(l,o)}r.push(o)}return r}function ET(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Cm(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=CT(e,r,s),l=o.length,u=c=>{if(a&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=qa(t[d],t[d+1],c);return o[d](f)};return n?c=>u(Nn(t[0],t[i-1],c)):u}function TT(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=qa(0,e,r);t.push(ue(n,1,s))}}function PT(t){const e=[0];return TT(e,t.length-1),e}function AT(t,e){return t.map(n=>n*e)}function RT(t,e){return t.map(()=>e||N1).splice(0,t.length-1)}function xa({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=BE(r)?r.map(iy):iy(r),i={done:!1,value:e[0]},a=AT(n&&n.length===e.length?n:PT(e),t),o=ET(a,e,{ease:Array.isArray(s)?s:RT(e,s)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}const MT=t=>t!==null;function Om(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(MT),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const NT={decay:If,inertia:If,tween:xa,keyframes:xa,spring:_u};function q1(t){typeof t.type=="string"&&(t.type=NT[t.type])}class Dm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const IT=t=>t/100;class Lm extends Dm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==ot.now()&&this.tick(ot.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;q1(e);const{type:n=xa,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const l=n||xa;l!==xa&&typeof o[0]!="number"&&(this.mixKeyframes=co(IT,z1(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=jm(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:f,repeatDelay:m,type:w,onUpdate:v,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let g=this.currentTime,x=r;if(d){const T=Math.min(this.currentTime,s)/o;let I=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&I--,I=Math.min(I,d+1),!!(I%2)&&(f==="reverse"?(R=1-R,m&&(R-=m/o)):f==="mirror"&&(x=a)),g=Nn(0,1,R)*o}const _=p?{done:!1,value:c[0]}:x.next(g);i&&(_.value=i(_.value));let{done:b}=_;!p&&l!==null&&(b=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&b);return C&&w!==If&&(_.value=Om(c,this.options,S,this.speed)),v&&v(_.value),C&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return Nt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Nt(e)}get time(){return Nt(this.currentTime)}set time(e){var n;e=mn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ot.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Nt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=gT,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function jT(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $r=t=>t*180/Math.PI,jf=t=>{const e=$r(Math.atan2(t[1],t[0]));return Of(e)},OT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jf,rotateZ:jf,skewX:t=>$r(Math.atan(t[1])),skewY:t=>$r(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Of=t=>(t=t%360,t<0&&(t+=360),t),dy=jf,fy=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),hy=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),DT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fy,scaleY:hy,scale:t=>(fy(t)+hy(t))/2,rotateX:t=>Of($r(Math.atan2(t[6],t[5]))),rotateY:t=>Of($r(Math.atan2(-t[2],t[0]))),rotateZ:dy,rotate:dy,skewX:t=>$r(Math.atan(t[4])),skewY:t=>$r(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Df(t){return t.includes("scale")?1:0}function Lf(t,e){if(!t||t==="none")return Df(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=DT,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=OT,s=o}if(!s)return Df(e);const i=r[e],a=s[1].split(",").map($T);return typeof i=="function"?i(a):a[i]}const LT=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Lf(n,e)};function $T(t){return parseFloat(t.trim())}const pi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gi=new Set(pi),my=t=>t===mi||t===U,FT=new Set(["x","y","z"]),VT=pi.filter(t=>!FT.has(t));function BT(t){const e=[];return VT.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Xr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Lf(e,"x"),y:(t,{transform:e})=>Lf(e,"y")};Xr.translateX=Xr.x;Xr.translateY=Xr.y;const Qr=new Set;let $f=!1,Ff=!1,Vf=!1;function K1(){if(Ff){const t=Array.from(Qr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=BT(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ff=!1,$f=!1,Qr.forEach(t=>t.complete(Vf)),Qr.clear()}function G1(){Qr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ff=!0)})}function UT(){Vf=!0,G1(),K1(),Vf=!1}class $m{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Qr.add(this),$f||($f=!0,ae.read(G1),ae.resolveKeyframes(K1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}jT(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qr.delete(this)}cancel(){this.state==="scheduled"&&(Qr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zT=t=>t.startsWith("--");function WT(t,e,n){zT(e)?t.style.setProperty(e,n):t.style[e]=n}const HT=Em(()=>window.ScrollTimeline!==void 0),qT={};function KT(t,e){const n=Em(t);return()=>qT[e]??n()}const X1=KT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yi=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,py={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yi([0,.65,.55,1]),circOut:Yi([.55,0,1,.45]),backIn:Yi([.31,.01,.66,-.59]),backOut:Yi([.33,1.53,.69,.99])};function Q1(t,e){if(t)return typeof t=="function"?X1()?W1(t,e):"ease-out":I1(t)?Yi(t):Array.isArray(t)?t.map(n=>Q1(n,e)||py.easeOut):py[t]}function GT(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const d=Q1(o,s);Array.isArray(d)&&(c.easing=d);const f={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(c,f)}function Y1(t){return typeof t=="function"&&"applyToOptions"in t}function XT({type:t,...e}){return Y1(t)&&X1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class QT extends Dm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,Cm(typeof e.type!="string");const u=XT(e);this.animation=GT(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=Om(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):WT(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Nt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Nt(e)}get time(){return Nt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&HT()?(this.animation.timeline=e,Ot):n(this)}}const J1={anticipate:A1,backInOut:P1,circInOut:M1};function YT(t){return t in J1}function JT(t){typeof t.ease=="string"&&YT(t.ease)&&(t.ease=J1[t.ease])}const gy=10;class ZT extends QT{constructor(e){JT(e),q1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new Lm({...a,autoplay:!1}),l=mn(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-gy).value,o.sample(l).value,gy),o.stop()}}const yy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pr.test(t)||t==="0")&&!t.startsWith("url("));function eP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tP(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=yy(s,e),o=yy(i,e);return!a||!o?!1:eP(t)||(n==="spring"||Y1(n))&&r}function Bf(t){t.duration=0,t.type="keyframes"}const nP=new Set(["opacity","clipPath","filter","transform"]),rP=Em(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sP(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return rP()&&n&&nP.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const iP=40;class aP extends Dm{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:c,...d}){var w;super(),this.stop=()=>{var v,S;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=ot.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:u,element:c,...d},m=(c==null?void 0:c.KeyframeResolver)||$m;this.keyframeResolver=new m(o,(v,S,y)=>this.onKeyframesResolved(v,S,f,!y),l,u,c),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=ot.now(),tP(e,i,a,o)||((In.instantAnimations||!l)&&(c==null||c(Om(e,r,n))),e[0]=e[e.length-1],Bf(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>iP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&sP(f)?new ZT({...f,element:f.motionValue.owner.current}):new Lm(f);m.finished.then(()=>this.notifyFinished()).catch(Ot),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),UT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const oP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lP(t){const e=oP.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Z1(t,e,n=1){const[r,s]=lP(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return x1(a)?parseFloat(a):a}return Rm(s)?Z1(s,e,n+1):s}function Fm(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const e_=new Set(["width","height","top","left","right","bottom",...pi]),uP={test:t=>t==="auto",parse:t=>t},t_=t=>e=>e.test(t),n_=[mi,U,pn,zn,eT,ZE,uP],vy=t=>n_.find(t_(t));function cP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||S1(t):!0}const dP=new Set(["brightness","contrast","saturate","opacity"]);function fP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Mm)||[];if(!r)return t;const s=n.replace(r,"");let i=dP.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const hP=/\b([a-z-]*)\(.*?\)/gu,Uf={...pr,getAnimatableNone:t=>{const e=t.match(hP);return e?e.map(fP).join(" "):t}},wy={...mi,transform:Math.round},mP={rotate:zn,rotateX:zn,rotateY:zn,rotateZ:zn,scale:Ho,scaleX:Ho,scaleY:Ho,scaleZ:Ho,skew:zn,skewX:zn,skewY:zn,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:Ka,originX:ay,originY:ay,originZ:U},Vm={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U,...mP,zIndex:wy,fillOpacity:Ka,strokeOpacity:Ka,numOctaves:wy},pP={...Vm,color:ye,backgroundColor:ye,outlineColor:ye,fill:ye,stroke:ye,borderColor:ye,borderTopColor:ye,borderRightColor:ye,borderBottomColor:ye,borderLeftColor:ye,filter:Uf,WebkitFilter:Uf},r_=t=>pP[t];function s_(t,e){let n=r_(t);return n!==Uf&&(n=pr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gP=new Set(["auto","none","0"]);function yP(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!gP.has(i)&&Ga(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=s_(n,s)}class vP extends $m{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Rm(u))){const c=Z1(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!e_.has(r)||e.length!==2)return;const[s,i]=e,a=vy(s),o=vy(i);if(a!==o)if(my(a)&&my(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Xr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||cP(e[s]))&&r.push(s);r.length&&yP(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Xr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function wP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const i_=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function a_(t){return _1(t)&&"offsetHeight"in t}const xy=30,xP=t=>!isNaN(parseFloat(t)),_y={current:void 0};class _P{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=ot.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ot.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Tm);const r=this.events[e].add(n);return e==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return _y.current&&_y.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xy);return b1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function li(t,e){return new _P(t,e)}const{schedule:Bm}=j1(queueMicrotask,!1),Bt={x:!1,y:!1};function o_(){return Bt.x||Bt.y}function SP(t){return t==="x"||t==="y"?Bt[t]?null:(Bt[t]=!0,()=>{Bt[t]=!1}):Bt.x||Bt.y?null:(Bt.x=Bt.y=!0,()=>{Bt.x=Bt.y=!1})}function l_(t,e){const n=wP(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Sy(t){return!(t.pointerType==="touch"||o_())}function bP(t,e,n={}){const[r,s,i]=l_(t,n),a=o=>{if(!Sy(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const c=d=>{Sy(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,s)};return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const u_=(t,e)=>e?t===e?!0:u_(t,e.parentElement):!1,Um=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CP(t){return kP.has(t.tagName)||t.tabIndex!==-1}const Nl=new WeakSet;function by(t){return e=>{e.key==="Enter"&&t(e)}}function td(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const EP=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=by(()=>{if(Nl.has(n))return;td(n,"down");const s=by(()=>{td(n,"up")}),i=()=>td(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ky(t){return Um(t)&&!o_()}function TP(t,e,n={}){const[r,s,i]=l_(t,n),a=o=>{const l=o.currentTarget;if(!ky(o))return;Nl.add(l);const u=e(l,o),c=(m,w)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Nl.has(l)&&Nl.delete(l),ky(m)&&typeof u=="function"&&u(m,{success:w})},d=m=>{c(m,l===window||l===document||n.useGlobalTarget||u_(l,m.target))},f=m=>{c(m,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),a_(o)&&(o.addEventListener("focus",u=>EP(u,s)),!CP(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function c_(t){return _1(t)&&"ownerSVGElement"in t}function PP(t){return c_(t)&&t.tagName==="svg"}const qe=t=>!!(t&&t.getVelocity),AP=[...n_,ye,pr],RP=t=>AP.find(t_(t)),zm=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Cy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function MP(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Cy(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Cy(t[s],null)}}}}function NP(...t){return A.useCallback(MP(...t),t)}class IP extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=a_(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function jP({children:t,isPresent:e,anchorX:n,root:r}){const s=A.useId(),i=A.useRef(null),a=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=A.useContext(zm),l=NP(i,t==null?void 0:t.ref);return A.useInsertionEffect(()=>{const{width:u,height:c,top:d,left:f,right:m}=a.current;if(e||!i.current||!u||!c)return;const w=n==="left"?`left: ${f}`:`right: ${m}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");o&&(v.nonce=o);const S=r??document.head;return S.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${w}px !important;
            top: ${d}px !important;
          }
        `),()=>{S.contains(v)&&S.removeChild(v)}},[e]),h.jsx(IP,{isPresent:e,childRef:i,sizeRef:a,children:A.cloneElement(t,{ref:l})})}const OP=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o,root:l})=>{const u=_m(DP),c=A.useId();let d=!0,f=A.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:s,onExitComplete:m=>{u.set(m,!0);for(const w of u.values())if(!w)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return i&&d&&(f={...f}),A.useMemo(()=>{u.forEach((m,w)=>u.set(w,!1))},[n]),A.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=h.jsx(jP,{isPresent:n,anchorX:o,root:l,children:t})),h.jsx(nc.Provider,{value:f,children:t})};function DP(){return new Map}function d_(t=!0){const e=A.useContext(nc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=A.useId();A.useEffect(()=>{if(t)return s(i)},[t]);const a=A.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const qo=t=>t.key||"";function Ey(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const gr=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[u,c]=d_(a),d=A.useMemo(()=>Ey(t),[t]),f=a&&!u?[]:d.map(qo),m=A.useRef(!0),w=A.useRef(d),v=_m(()=>new Map),[S,y]=A.useState(d),[p,g]=A.useState(d);w1(()=>{m.current=!1,w.current=d;for(let b=0;b<p.length;b++){const C=qo(p[b]);f.includes(C)?v.delete(C):v.get(C)!==!0&&v.set(C,!1)}},[p,f.length,f.join("-")]);const x=[];if(d!==S){let b=[...d];for(let C=0;C<p.length;C++){const T=p[C],I=qo(T);f.includes(I)||(b.splice(C,0,T),x.push(T))}return i==="wait"&&x.length&&(b=x),g(Ey(b)),y(d),null}const{forceRender:_}=A.useContext(xm);return h.jsx(h.Fragment,{children:p.map(b=>{const C=qo(b),T=a&&!u?!1:d===p||f.includes(C),I=()=>{if(v.has(C))v.set(C,!0);else return;let R=!0;v.forEach(O=>{O||(R=!1)}),R&&(_==null||_(),g(w.current),a&&(c==null||c()),r&&r())};return h.jsx(OP,{isPresent:T,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:T?void 0:I,anchorX:o,children:b},C)})})},f_=A.createContext({strict:!1}),Ty={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ui={};for(const t in Ty)ui[t]={isEnabled:e=>Ty[t].some(n=>!!e[n])};function LP(t){for(const e in t)ui[e]={...ui[e],...t[e]}}const $P=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Su(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$P.has(t)}let h_=t=>!Su(t);function FP(t){typeof t=="function"&&(h_=e=>e.startsWith("on")?!Su(e):t(e))}try{FP(require("@emotion/is-prop-valid").default)}catch{}function VP(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(h_(s)||n===!0&&Su(s)||!e&&!Su(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const rc=A.createContext({});function sc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Xa(t){return typeof t=="string"||Array.isArray(t)}const Wm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hm=["initial",...Wm];function ic(t){return sc(t.animate)||Hm.some(e=>Xa(t[e]))}function m_(t){return!!(ic(t)||t.variants)}function BP(t,e){if(ic(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Xa(n)?n:void 0,animate:Xa(r)?r:void 0}}return t.inherit!==!1?e:{}}function UP(t){const{initial:e,animate:n}=BP(t,A.useContext(rc));return A.useMemo(()=>({initial:e,animate:n}),[Py(e),Py(n)])}function Py(t){return Array.isArray(t)?t.join(" "):t}function Ay(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(U.test(t))t=parseFloat(t);else return t;const n=Ay(t,e.target.x),r=Ay(t,e.target.y);return`${n}% ${r}%`}},zP={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=pr.parse(t);if(s.length>5)return r;const i=pr.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=l;const u=ue(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}},zf={borderRadius:{...Pi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pi,borderTopRightRadius:Pi,borderBottomLeftRadius:Pi,borderBottomRightRadius:Pi,boxShadow:zP};function p_(t,{layout:e,layoutId:n}){return gi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zf[t]||t==="opacity")}const WP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HP=pi.length;function qP(t,e,n){let r="",s=!0;for(let i=0;i<HP;i++){const a=pi[i],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=i_(o,Vm[a]);if(!l){s=!1;const c=WP[a]||a;r+=`${c}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function qm(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(gi.has(l)){a=!0;continue}else if(D1(l)){s[l]=u;continue}else{const c=i_(u,Vm[l]);l.startsWith("origin")?(o=!0,i[l]=c):r[l]=c}}if(e.transform||(a||n?r.transform=qP(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}const Km=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function g_(t,e,n){for(const r in e)!qe(e[r])&&!p_(r,n)&&(t[r]=e[r])}function KP({transformTemplate:t},e){return A.useMemo(()=>{const n=Km();return qm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GP(t,e){const n=t.style||{},r={};return g_(r,n,t),Object.assign(r,KP(t,e)),r}function XP(t,e){const n={},r=GP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const QP={offset:"stroke-dashoffset",array:"stroke-dasharray"},YP={offset:"strokeDashoffset",array:"strokeDasharray"};function JP(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?QP:YP;t[i.offset]=U.transform(-r);const a=U.transform(e),o=U.transform(n);t[i.array]=`${a} ${o}`}function y_(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,u,c){if(qm(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&JP(d,s,i,a,!1)}const v_=()=>({...Km(),attrs:{}}),w_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ZP(t,e,n,r){const s=A.useMemo(()=>{const i=v_();return y_(i,e,w_(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};g_(i,t.style,t),s.style={...i,...s.style}}return s}const eA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gm(t){return typeof t!="string"||t.includes("-")?!1:!!(eA.indexOf(t)>-1||/[A-Z]/u.test(t))}function tA(t,e,n,{latestValues:r},s,i=!1){const o=(Gm(t)?ZP:XP)(e,r,s,t),l=VP(e,typeof t=="string",i),u=t!==A.Fragment?{...l,...o,ref:n}:{},{children:c}=e,d=A.useMemo(()=>qe(c)?c.get():c,[c]);return A.createElement(t,{...u,children:d})}function Ry(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Xm(t,e,n,r){if(typeof e=="function"){const[s,i]=Ry(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Ry(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Il(t){return qe(t)?t.get():t}function nA({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:rA(n,r,s,t),renderState:e()}}function rA(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Il(i[f]);let{initial:a,animate:o}=t;const l=ic(t),u=m_(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const d=c?o:a;if(d&&typeof d!="boolean"&&!sc(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const w=Xm(t,f[m]);if(w){const{transitionEnd:v,transition:S,...y}=w;for(const p in y){let g=y[p];if(Array.isArray(g)){const x=c?g.length-1:0;g=g[x]}g!==null&&(s[p]=g)}for(const p in v)s[p]=v[p]}}}return s}const x_=t=>(e,n)=>{const r=A.useContext(rc),s=A.useContext(nc),i=()=>nA(t,e,r,s);return n?i():_m(i)};function Qm(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(qe(r[a])||e.style&&qe(e.style[a])||p_(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const sA=x_({scrapeMotionValuesFromProps:Qm,createRenderState:Km});function __(t,e,n){const r=Qm(t,e,n);for(const s in t)if(qe(t[s])||qe(e[s])){const i=pi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const iA=x_({scrapeMotionValuesFromProps:__,createRenderState:v_}),aA=Symbol.for("motionComponentSymbol");function js(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oA(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):js(n)&&(n.current=r))},[e])}const Ym=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lA="framerAppearId",S_="data-"+Ym(lA),b_=A.createContext({});function uA(t,e,n,r,s){var v,S;const{visualElement:i}=A.useContext(rc),a=A.useContext(f_),o=A.useContext(nc),l=A.useContext(zm).reducedMotion,u=A.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=A.useContext(b_);c&&!c.projection&&s&&(c.type==="html"||c.type==="svg")&&cA(u.current,n,s,d);const f=A.useRef(!1);A.useInsertionEffect(()=>{c&&f.current&&c.update(n,o)});const m=n[S_],w=A.useRef(!!m&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,m))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,m)));return w1(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),w.current&&c.animationState&&c.animationState.animateChanges())}),A.useEffect(()=>{c&&(!w.current&&c.animationState&&c.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),w.current=!1),c.enteringChildren=void 0)}),c}function cA(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:k_(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&js(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function k_(t){if(t)return t.options.allowProjection!==!1?t.projection:k_(t.parent)}function nd(t,{forwardMotionProps:e=!1}={},n,r){n&&LP(n);const s=Gm(t)?iA:sA;function i(o,l){let u;const c={...A.useContext(zm),...o,layoutId:dA(o)},{isStatic:d}=c,f=UP(o),m=s(o,d);if(!d&&Sm){fA();const w=hA(c);u=w.MeasureLayout,f.visualElement=uA(t,m,c,r,w.ProjectionNode)}return h.jsxs(rc.Provider,{value:f,children:[u&&f.visualElement?h.jsx(u,{visualElement:f.visualElement,...c}):null,tA(t,o,oA(m,f.visualElement,l),m,d,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=A.forwardRef(i);return a[aA]=t,a}function dA({layoutId:t}){const e=A.useContext(xm).id;return e&&t!==void 0?e+"-"+t:t}function fA(t,e){A.useContext(f_).strict}function hA(t){const{drag:e,layout:n}=ui;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function mA(t,e){if(typeof Proxy>"u")return nd;const n=new Map,r=(i,a)=>nd(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,nd(a,void 0,t,e)),n.get(a))})}function C_({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function pA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function rd(t){return t===void 0||t===1}function Wf({scale:t,scaleX:e,scaleY:n}){return!rd(t)||!rd(e)||!rd(n)}function Rr(t){return Wf(t)||E_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function E_(t){return My(t.x)||My(t.y)}function My(t){return t&&t!=="0%"}function bu(t,e,n){const r=t-n,s=e*r;return n+s}function Ny(t,e,n,r,s){return s!==void 0&&(t=bu(t,s,r)),bu(t,n,r)+e}function Hf(t,e=0,n=1,r,s){t.min=Ny(t.min,e,n,r,s),t.max=Ny(t.max,e,n,r,s)}function T_(t,{x:e,y:n}){Hf(t.x,e.translate,e.scale,e.originPoint),Hf(t.y,n.translate,n.scale,n.originPoint)}const Iy=.999999999999,jy=1.0000000000001;function yA(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ds(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,T_(t,a)),r&&Rr(i.latestValues)&&Ds(t,i.latestValues))}e.x<jy&&e.x>Iy&&(e.x=1),e.y<jy&&e.y>Iy&&(e.y=1)}function Os(t,e){t.min=t.min+e,t.max=t.max+e}function Oy(t,e,n,r,s=.5){const i=ue(t.min,t.max,s);Hf(t,e,n,i,r)}function Ds(t,e){Oy(t.x,e.x,e.scaleX,e.scale,e.originX),Oy(t.y,e.y,e.scaleY,e.scale,e.originY)}function P_(t,e){return C_(gA(t.getBoundingClientRect(),e))}function vA(t,e,n){const r=P_(t,n),{scroll:s}=e;return s&&(Os(r.x,s.offset.x),Os(r.y,s.offset.y)),r}const Dy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ls=()=>({x:Dy(),y:Dy()}),Ly=()=>({min:0,max:0}),ke=()=>({x:Ly(),y:Ly()}),qf={current:null},A_={current:!1};function wA(){if(A_.current=!0,!!Sm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qf.current=t.matches;t.addEventListener("change",e),e()}else qf.current=!1}const xA=new WeakMap;function _A(t,e,n){for(const r in e){const s=e[r],i=n[r];if(qe(s))t.addValue(r,s);else if(qe(i))t.addValue(r,li(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,li(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const $y=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SA{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$m,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ot.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ae.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=ic(n),this.isVariantNode=m_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&qe(m)&&m.set(l[f])}}mount(e){var n;this.current=e,xA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),A_.current||wA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),mr(this.notifyUpdate),mr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=gi.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ui){const n=ui[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$y.length;r++){const s=$y[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=_A(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=li(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(x1(r)||S1(r))?r=parseFloat(r):!RP(r)&&pr.test(n)&&(r=s_(e,n)),this.setBaseTarget(e,qe(r)?r.get():r)),qe(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Xm(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qe(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Tm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Bm.render(this.render)}}class R_ extends SA{constructor(){super(...arguments),this.KeyframeResolver=vP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qe(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function M_(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function bA(t){return window.getComputedStyle(t)}class kA extends R_{constructor(){super(...arguments),this.type="html",this.renderInstance=M_}readValueFromInstance(e,n){var r;if(gi.has(n))return(r=this.projection)!=null&&r.isProjecting?Df(n):LT(e,n);{const s=bA(e),i=(D1(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return P_(e,n)}build(e,n,r){qm(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Qm(e,n,r)}}const N_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CA(t,e,n,r){M_(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(N_.has(s)?s:Ym(s),e.attrs[s])}class EA extends R_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ke}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(gi.has(n)){const r=r_(n);return r&&r.default||0}return n=N_.has(n)?n:Ym(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return __(e,n,r)}build(e,n,r){y_(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){CA(e,n,r,s)}mount(e){this.isSVGTag=w_(e.tagName),super.mount(e)}}const TA=(t,e)=>Gm(t)?new EA(e):new kA(e,{allowProjection:t!==A.Fragment});function Hs(t,e,n){const r=t.getProps();return Xm(r,e,n!==void 0?n:r.custom,t)}const Kf=t=>Array.isArray(t);function PA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,li(n))}function AA(t){return Kf(t)?t[t.length-1]||0:t}function RA(t,e){const n=Hs(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=AA(i[a]);PA(t,a,o)}}function MA(t){return!!(qe(t)&&t.add)}function Gf(t,e){const n=t.getValue("willChange");if(MA(n))return n.add(e);if(!n&&In.WillChange){const r=new In.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function I_(t){return t.props[S_]}const NA=t=>t!==null;function IA(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(NA),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const jA={type:"spring",stiffness:500,damping:25,restSpeed:10},OA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),DA={type:"keyframes",duration:.8},LA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$A=(t,{keyframes:e})=>e.length>2?DA:gi.has(t)?t.startsWith("scale")?OA(e[1]):jA:LA;function FA({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const Jm=(t,e,n,r={},s,i)=>a=>{const o=Fm(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-mn(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};FA(o)||Object.assign(c,$A(t,c)),c.duration&&(c.duration=mn(c.duration)),c.repeatDelay&&(c.repeatDelay=mn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Bf(c),c.delay===0&&(d=!0)),(In.instantAnimations||In.skipAnimations)&&(d=!0,Bf(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,d&&!i&&e.get()!==void 0){const f=IA(c.keyframes,o);if(f!==void 0){ae.update(()=>{c.onUpdate(f),c.onComplete()});return}}return o.isSync?new Lm(c):new aP(c)};function VA({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function j_(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const c in o){const d=t.getValue(c,t.latestValues[c]??null),f=o[c];if(f===void 0||u&&VA(u,c))continue;const m={delay:n,...Fm(i||{},c)},w=d.get();if(w!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===w&&!m.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const y=I_(t);if(y){const p=window.MotionHandoffAnimation(y,c,ae);p!==null&&(m.startTime=p,v=!0)}}Gf(t,c),d.start(Jm(c,d,f,t.shouldReduceMotion&&e_.has(c)?{type:!1}:m,t,v));const S=d.animation;S&&l.push(S)}return a&&Promise.all(l).then(()=>{ae.update(()=>{a&&RA(t,a)})}),l}function O_(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:o-i*r}function Xf(t,e,n={}){var l;const r=Hs(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(j_(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return BA(t,e,u,c,d,f,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[u,c]=o==="beforeChildren"?[i,a]:[a,i];return u().then(()=>c())}else return Promise.all([i(),a(n.delay)])}function BA(t,e,n=0,r=0,s=0,i=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(Xf(l,e,{...a,delay:n+(typeof r=="function"?0:r)+O_(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function UA(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Xf(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Xf(t,e,n);else{const s=typeof e=="function"?Hs(t,e,n.custom):e;r=Promise.all(j_(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function D_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const zA=Hm.length;function L_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?L_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<zA;n++){const r=Hm[n],s=t.props[r];(Xa(s)||s===!1)&&(e[r]=s)}return e}const WA=[...Wm].reverse(),HA=Wm.length;function qA(t){return e=>Promise.all(e.map(({animation:n,options:r})=>UA(t,n,r)))}function KA(t){let e=qA(t),n=Fy(),r=!0;const s=l=>(u,c)=>{var f;const d=Hs(t,c,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:w,...v}=d;u={...u,...v,...w}}return u};function i(l){e=l(t)}function a(l){const{props:u}=t,c=L_(t.parent)||{},d=[],f=new Set;let m={},w=1/0;for(let S=0;S<HA;S++){const y=WA[S],p=n[y],g=u[y]!==void 0?u[y]:c[y],x=Xa(g),_=y===l?p.isActive:null;_===!1&&(w=S);let b=g===c[y]&&g!==u[y]&&x;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),p.protectedKeys={...m},!p.isActive&&_===null||!g&&!p.prevProp||sc(g)||typeof g=="boolean")continue;const C=GA(p.prevProp,g);let T=C||y===l&&p.isActive&&!b&&x||S>w&&x,I=!1;const R=Array.isArray(g)?g:[g];let O=R.reduce(s(y),{});_===!1&&(O={});const{prevResolvedValues:se={}}=p,dt={...se,...O},en=Q=>{T=!0,f.has(Q)&&(I=!0,f.delete(Q)),p.needsAnimating[Q]=!0;const j=t.getValue(Q);j&&(j.liveStyle=!1)};for(const Q in dt){const j=O[Q],B=se[Q];if(m.hasOwnProperty(Q))continue;let H=!1;Kf(j)&&Kf(B)?H=!D_(j,B):H=j!==B,H?j!=null?en(Q):f.add(Q):j!==void 0&&f.has(Q)?en(Q):p.protectedKeys[Q]=!0}p.prevProp=g,p.prevResolvedValues=O,p.isActive&&(m={...m,...O}),r&&t.blockInitialAnimation&&(T=!1);const tn=b&&C;T&&(!tn||I)&&d.push(...R.map(Q=>{const j={type:y};if(typeof Q=="string"&&r&&!tn&&t.manuallyAnimateOnMount&&t.parent){const{parent:B}=t,H=Hs(B,Q);if(B.enteringChildren&&H){const{delayChildren:oe}=H.transition||{};j.delay=O_(B.enteringChildren,t,oe)}}return{animation:Q,options:j}}))}if(f.size){const S={};if(typeof u.initial!="boolean"){const y=Hs(t,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(S.transition=y.transition)}f.forEach(y=>{const p=t.getBaseTarget(y),g=t.getValue(y);g&&(g.liveStyle=!0),S[y]=p??null}),d.push({animation:S})}let v=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function o(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const c=a(l);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Fy()}}}function GA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!D_(e,t):!1}function kr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fy(){return{animate:kr(!0),whileInView:kr(),whileHover:kr(),whileTap:kr(),whileDrag:kr(),whileFocus:kr(),exit:kr()}}class _r{constructor(e){this.isMounted=!1,this.node=e}update(){}}class XA extends _r{constructor(e){super(e),e.animationState||(e.animationState=KA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let QA=0;class YA extends _r{constructor(){super(...arguments),this.id=QA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const JA={animation:{Feature:XA},exit:{Feature:YA}};function Qa(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function mo(t){return{point:{x:t.pageX,y:t.pageY}}}const ZA=t=>e=>Um(e)&&t(e,mo(e));function _a(t,e,n,r){return Qa(t,e,ZA(n),r)}const $_=1e-4,eR=1-$_,tR=1+$_,F_=.01,nR=0-F_,rR=0+F_;function et(t){return t.max-t.min}function sR(t,e,n){return Math.abs(t-e)<=n}function Vy(t,e,n,r=.5){t.origin=r,t.originPoint=ue(e.min,e.max,t.origin),t.scale=et(n)/et(e),t.translate=ue(n.min,n.max,t.origin)-t.originPoint,(t.scale>=eR&&t.scale<=tR||isNaN(t.scale))&&(t.scale=1),(t.translate>=nR&&t.translate<=rR||isNaN(t.translate))&&(t.translate=0)}function Sa(t,e,n,r){Vy(t.x,e.x,n.x,r?r.originX:void 0),Vy(t.y,e.y,n.y,r?r.originY:void 0)}function By(t,e,n){t.min=n.min+e.min,t.max=t.min+et(e)}function iR(t,e,n){By(t.x,e.x,n.x),By(t.y,e.y,n.y)}function Uy(t,e,n){t.min=e.min-n.min,t.max=t.min+et(e)}function ku(t,e,n){Uy(t.x,e.x,n.x),Uy(t.y,e.y,n.y)}function Tt(t){return[t("x"),t("y")]}const V_=({current:t})=>t?t.ownerDocument.defaultView:null,zy=(t,e)=>Math.abs(t-e);function aR(t,e){const n=zy(t.x,e.x),r=zy(t.y,e.y);return Math.sqrt(n**2+r**2)}class B_{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=id(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=aR(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:v}=f,{timestamp:S}=je;this.history.push({...v,timestamp:S});const{onStart:y,onMove:p}=this.handlers;m||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=sd(m,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:w,onSessionEnd:v,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=id(f.type==="pointercancel"?this.lastMoveEventInfo:sd(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,y),v&&v(f,y)},!Um(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const o=mo(e),l=sd(o,this.transformPagePoint),{point:u}=l,{timestamp:c}=je;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,id(l,this.history)),this.removeListeners=co(_a(this.contextWindow,"pointermove",this.handlePointerMove),_a(this.contextWindow,"pointerup",this.handlePointerUp),_a(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mr(this.updatePoint)}}function sd(t,e){return e?{point:e(t.point)}:t}function Wy(t,e){return{x:t.x-e.x,y:t.y-e.y}}function id({point:t},e){return{point:t,delta:Wy(t,U_(e)),offset:Wy(t,oR(e)),velocity:lR(e,.1)}}function oR(t){return t[0]}function U_(t){return t[t.length-1]}function lR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=U_(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>mn(e)));)n--;if(!r)return{x:0,y:0};const i=Nt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function uR(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ue(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ue(n,t,r.max):Math.min(t,n)),t}function Hy(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function cR(t,{top:e,left:n,bottom:r,right:s}){return{x:Hy(t.x,n,s),y:Hy(t.y,e,r)}}function qy(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function dR(t,e){return{x:qy(t.x,e.x),y:qy(t.y,e.y)}}function fR(t,e){let n=.5;const r=et(t),s=et(e);return s>r?n=qa(e.min,e.max-r,t.min):r>s&&(n=qa(t.min,t.max-s,e.min)),Nn(0,1,n)}function hR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qf=.35;function mR(t=Qf){return t===!1?t=0:t===!0&&(t=Qf),{x:Ky(t,"left","right"),y:Ky(t,"top","bottom")}}function Ky(t,e,n){return{min:Gy(t,e),max:Gy(t,n)}}function Gy(t,e){return typeof t=="number"?t:t[e]||0}const pR=new WeakMap;class gR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mo(d).point)},a=(d,f)=>{const{drag:m,dragPropagation:w,onDragStart:v}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SP(m),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tt(y=>{let p=this.getAxisMotionValue(y).get()||0;if(pn.test(p)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[y];x&&(p=et(x)*(parseFloat(p)/100))}}this.originPoint[y]=p}),v&&ae.postRender(()=>v(d,f)),Gf(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:v,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=f;if(w&&this.currentDirection===null){this.currentDirection=yR(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),S&&S(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Tt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new B_(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:V_(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ae.postRender(()=>o(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ko(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=uR(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&js(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=cR(r.layoutBox,e):this.constraints=!1,this.elastic=mR(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Tt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=hR(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!js(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=vA(r,s.root,this.visualElement.getTransformPagePoint());let a=dR(s.layout.layoutBox,i);if(n){const o=n(pA(a));this.hasMutatedConstraints=!!o,o&&(a=C_(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Tt(c=>{if(!Ko(c,n,this.currentDirection))return;let d=l&&l[c]||{};a&&(d={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,w)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Gf(this.visualElement,e),r.start(Jm(e,r,0,n,this.visualElement,!1))}stopAnimation(){Tt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Tt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Tt(n=>{const{drag:r}=this.getProps();if(!Ko(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-ue(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!js(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Tt(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=fR({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tt(a=>{if(!Ko(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(ue(l,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;pR.set(this.visualElement,this);const e=this.visualElement.current,n=_a(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();js(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ae.read(r);const a=Qa(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Tt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Qf,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Ko(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vR extends _r{constructor(e){super(e),this.removeGroupControls=Ot,this.removeListeners=Ot,this.controls=new gR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ot}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xy=t=>(e,n)=>{t&&ae.postRender(()=>t(e,n))};class wR extends _r{constructor(){super(...arguments),this.removePointerDownListener=Ot}onPointerDown(e){this.session=new B_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:V_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Xy(e),onStart:Xy(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&ae.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=_a(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let ad=!1;class xR extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),ad&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),jl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,ad=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||ae.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;ad=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function z_(t){const[e,n]=d_(),r=A.useContext(xm);return h.jsx(xR,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(b_),isPresent:e,safeToRemove:n})}function _R(t,e,n){const r=qe(t)?t:li(t);return r.start(Jm("",r,e,n)),r.animation}const SR=(t,e)=>t.depth-e.depth;class bR{constructor(){this.children=[],this.isDirty=!1}add(e){bm(this.children,e),this.isDirty=!0}remove(e){km(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(SR),this.isDirty=!1,this.children.forEach(e)}}function kR(t,e){const n=ot.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(mr(r),t(i-e))};return ae.setup(r,!0),()=>mr(r)}const W_=["TopLeft","TopRight","BottomLeft","BottomRight"],CR=W_.length,Qy=t=>typeof t=="string"?parseFloat(t):t,Yy=t=>typeof t=="number"||U.test(t);function ER(t,e,n,r,s,i){s?(t.opacity=ue(0,n.opacity??1,TR(r)),t.opacityExit=ue(e.opacity??1,0,PR(r))):i&&(t.opacity=ue(e.opacity??1,n.opacity??1,r));for(let a=0;a<CR;a++){const o=`border${W_[a]}Radius`;let l=Jy(e,o),u=Jy(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Yy(l)===Yy(u)?(t[o]=Math.max(ue(Qy(l),Qy(u),r),0),(pn.test(u)||pn.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=ue(e.rotate||0,n.rotate||0,r))}function Jy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const TR=H_(0,.5,R1),PR=H_(.5,.95,Ot);function H_(t,e,n){return r=>r<t?0:r>e?1:n(qa(t,e,r))}function Zy(t,e){t.min=e.min,t.max=e.max}function Vt(t,e){Zy(t.x,e.x),Zy(t.y,e.y)}function e0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function t0(t,e,n,r,s){return t-=e,t=bu(t,1/n,r),s!==void 0&&(t=bu(t,1/s,r)),t}function AR(t,e=0,n=1,r=.5,s,i=t,a=t){if(pn.test(e)&&(e=parseFloat(e),e=ue(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ue(i.min,i.max,r);t===i&&(o-=e),t.min=t0(t.min,e,n,o,s),t.max=t0(t.max,e,n,o,s)}function n0(t,e,[n,r,s],i,a){AR(t,e[n],e[r],e[s],e.scale,i,a)}const RR=["x","scaleX","originX"],MR=["y","scaleY","originY"];function r0(t,e,n,r){n0(t.x,e,RR,n?n.x:void 0,r?r.x:void 0),n0(t.y,e,MR,n?n.y:void 0,r?r.y:void 0)}function s0(t){return t.translate===0&&t.scale===1}function q_(t){return s0(t.x)&&s0(t.y)}function i0(t,e){return t.min===e.min&&t.max===e.max}function NR(t,e){return i0(t.x,e.x)&&i0(t.y,e.y)}function a0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function K_(t,e){return a0(t.x,e.x)&&a0(t.y,e.y)}function o0(t){return et(t.x)/et(t.y)}function l0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class IR{constructor(){this.members=[]}add(e){bm(this.members,e),e.scheduleRender()}remove(e){if(km(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jR(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:m,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const od=["","X","Y","Z"],OR=1e3;let DR=0;function ld(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function G_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=I_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ae,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&G_(r)}function X_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=DR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FR),this.nodes.forEach(zR),this.nodes.forEach(WR),this.nodes.forEach(VR)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new bR)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Tm),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=c_(a)&&!PP(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let c,d=0;const f=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{d=window.innerWidth}),t(a,()=>{const m=window.innerWidth;m!==d&&(d=m,this.root.updateBlockedByResize=!0,c&&c(),c=kR(f,250),jl.hasAnimatedSinceResize&&(jl.hasAnimatedSinceResize=!1,this.nodes.forEach(d0)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||XR,{onLayoutAnimationStart:v,onLayoutAnimationComplete:S}=u.getProps(),y=!this.targetLayout||!K_(this.targetLayout,m),p=!d&&f;if(this.options.layoutRoot||this.resumeFrom||p||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...Fm(w,"layout"),onPlay:v,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(c,p)}else d||d0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HR),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&G_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(u0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(c0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(UR),this.nodes.forEach(LR),this.nodes.forEach($R)):this.nodes.forEach(c0),this.clearAllSnapshots();const o=ot.now();je.delta=Nn(0,1e3/60,o-je.timestamp),je.timestamp=o,je.isProcessing=!0,Qc.update.process(je),Qc.preRender.process(je),Qc.render.process(je),je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BR),this.sharedNodes.forEach(qR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!et(this.snapshot.measuredBox.x)&&!et(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!q_(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||Rr(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),QR(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return ke();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(YR))){const{scroll:c}=this.root;c&&(Os(o.x,c.offset.x),Os(o.y,c.offset.y))}return o}removeElementScroll(a){var l;const o=ke();if(Vt(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Vt(o,a),Os(o.x,d.offset.x),Os(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const l=ke();Vt(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ds(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Rr(c.latestValues)&&Ds(l,c.latestValues)}return Rr(this.latestValues)&&Ds(l,this.latestValues),l}removeTransform(a){const o=ke();Vt(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Rr(u.latestValues))continue;Wf(u.latestValues)&&u.updateSnapshot();const c=ke(),d=u.measurePageBox();Vt(c,d),r0(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Rr(this.latestValues)&&r0(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!this.layout||!(c||d))return;this.resolvedRelativeTargetAt=je.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vt(this.target,this.layout.layoutBox),T_(this.target,this.targetDelta)):Vt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Wf(this.parent.latestValues)||E_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),ku(this.relativeTargetOrigin,o,l),Vt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===je.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Vt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;yA(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ke());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e0(this.prevProjectionDelta.x,this.projectionDelta.x),e0(this.prevProjectionDelta.y,this.projectionDelta.y)),Sa(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!l0(this.projectionDelta.x,this.prevProjectionDelta.x)||!l0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ls(),this.projectionDelta=Ls(),this.projectionDeltaWithTransform=Ls()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=ke(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=m!==w,S=this.getStack(),y=!S||S.members.length<=1,p=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(GR));this.animationProgress=0;let g;this.mixTargetDelta=x=>{const _=x/1e3;f0(d.x,a.x,_),f0(d.y,a.y,_),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ku(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KR(this.relativeTarget,this.relativeTargetOrigin,f,_),g&&NR(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ke()),Vt(g,this.relativeTarget)),v&&(this.animationValues=c,ER(c,u,this.latestValues,_,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{jl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=li(0)),this.currentAnimation=_R(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&Q_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ke();const d=et(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=et(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Vt(o,l),Ds(o,c),Sa(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new IR),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&ld("z",a,u,this.animationValues);for(let c=0;c<od.length;c++)ld(`rotate${od[c]}`,a,u,this.animationValues),ld(`skew${od[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Il(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Il(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Rr(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=jR(this.projectionDeltaWithTransform,this.treeScale,c);l&&(d=l(c,d)),a.transform=d;const{x:f,y:m}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const w in zf){if(c[w]===void 0)continue;const{correct:v,applyTo:S,isCSSVariable:y}=zf[w],p=d==="none"?c[w]:v(c[w],u);if(S){const g=S.length;for(let x=0;x<g;x++)a[S[x]]=p}else y?this.options.visualElement.renderState.vars[w]=p:a[w]=p}this.options.layoutId&&(a.pointerEvents=u===this?Il(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(u0),this.root.sharedNodes.clear()}}}function LR(t){t.updateLayout()}function $R(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Tt(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],m=et(f);f.min=r[d].min,f.max=f.min+m}):Q_(i,e.layoutBox,r)&&Tt(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],m=et(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const o=Ls();Sa(o,r,e.layoutBox);const l=Ls();a?Sa(l,t.applyTransform(s,!0),e.measuredBox):Sa(l,r,e.layoutBox);const u=!q_(o);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const w=ke();ku(w,e.layoutBox,f.layoutBox);const v=ke();ku(v,r,m.layoutBox),K_(w,v)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function FR(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function VR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function BR(t){t.clearSnapshot()}function u0(t){t.clearMeasurements()}function c0(t){t.isLayoutDirty=!1}function UR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function d0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zR(t){t.resolveTargetDelta()}function WR(t){t.calcProjection()}function HR(t){t.resetSkewAndRotation()}function qR(t){t.removeLeadSnapshot()}function f0(t,e,n){t.translate=ue(e.translate,0,n),t.scale=ue(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function h0(t,e,n,r){t.min=ue(e.min,n.min,r),t.max=ue(e.max,n.max,r)}function KR(t,e,n,r){h0(t.x,e.x,n.x,r),h0(t.y,e.y,n.y,r)}function GR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XR={duration:.45,ease:[.4,0,.1,1]},m0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),p0=m0("applewebkit/")&&!m0("chrome/")?Math.round:Ot;function g0(t){t.min=p0(t.min),t.max=p0(t.max)}function QR(t){g0(t.x),g0(t.y)}function Q_(t,e,n){return t==="position"||t==="preserve-aspect"&&!sR(o0(e),o0(n),.2)}function YR(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const JR=X_({attachResizeListener:(t,e)=>Qa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ud={current:void 0},Y_=X_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ud.current){const t=new JR({});t.mount(window),t.setOptions({layoutScroll:!0}),ud.current=t}return ud.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ZR={pan:{Feature:wR},drag:{Feature:vR,ProjectionNode:Y_,MeasureLayout:z_}};function y0(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ae.postRender(()=>i(e,mo(e)))}class eM extends _r{mount(){const{current:e}=this.node;e&&(this.unmount=bP(e,(n,r)=>(y0(this.node,r,"Start"),s=>y0(this.node,s,"End"))))}unmount(){}}class tM extends _r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=co(Qa(this.node.current,"focus",()=>this.onFocus()),Qa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function v0(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ae.postRender(()=>i(e,mo(e)))}class nM extends _r{mount(){const{current:e}=this.node;e&&(this.unmount=TP(e,(n,r)=>(v0(this.node,r,"Start"),(s,{success:i})=>v0(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yf=new WeakMap,cd=new WeakMap,rM=t=>{const e=Yf.get(t.target);e&&e(t)},sM=t=>{t.forEach(rM)};function iM({root:t,...e}){const n=t||document;cd.has(n)||cd.set(n,{});const r=cd.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(sM,{root:t,...e})),r[s]}function aM(t,e,n){const r=iM(e);return Yf.set(t,n),r.observe(t),()=>{Yf.delete(t),r.unobserve(t)}}const oM={some:0,all:1};class lM extends _r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:oM[s]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return aM(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(uM(e,n))&&this.startObserver()}unmount(){}}function uM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const cM={inView:{Feature:lM},tap:{Feature:nM},focus:{Feature:tM},hover:{Feature:eM}},dM={layout:{ProjectionNode:Y_,MeasureLayout:z_}},fM={...JA,...cM,...ZR,...dM},pe=mA(fM,TA);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>A.createElement("svg",{ref:c,...hM,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${mM(t)}`,o].join(" "),...u},[...e.map(([d,f])=>A.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=K("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=K("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=K("BookDashed",[["path",{d:"M20 22h-2",key:"1rpnb6"}],["path",{d:"M20 15v2h-2",key:"fph276"}],["path",{d:"M4 19.5V15",key:"6gr39e"}],["path",{d:"M20 8v3",key:"deu0bs"}],["path",{d:"M18 2h2v2",key:"180o53"}],["path",{d:"M4 11V9",key:"v3xsx8"}],["path",{d:"M12 2h2",key:"cvn524"}],["path",{d:"M12 22h2",key:"kn7ki6"}],["path",{d:"M12 17h2",key:"13u4lk"}],["path",{d:"M8 22H6.5a2.5 2.5 0 0 1 0-5H8",key:"fiseg2"}],["path",{d:"M4 5v-.5A2.5 2.5 0 0 1 6.5 2H8",key:"wywhs9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=K("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=K("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=K("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=K("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=K("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=K("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=K("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=K("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=K("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=K("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=K("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=K("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=K("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=K("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=K("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=K("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=K("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=K("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=K("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=K("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=K("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),x0=t=>{let e;const n=new Set,r=(u,c)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const f=e;e=c??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(m=>m(e,f))}},s=()=>e,o={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,s,o);return o},MM=t=>t?x0(t):x0,NM=t=>t;function IM(t,e=NM){const n=xs.useSyncExternalStore(t.subscribe,xs.useCallback(()=>e(t.getState()),[t,e]),xs.useCallback(()=>e(t.getInitialState()),[t,e]));return xs.useDebugValue(n),n}const jM=t=>{const e=MM(t),n=r=>IM(e,r);return Object.assign(n,e),n},OM=t=>jM;function DM(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=n.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Zf=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Zf(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Zf(r)(n)}}}},LM=(t,e)=>(n,r,s)=>{let i={storage:DM(()=>localStorage),partialize:v=>v,version:0,merge:(v,S)=>({...S,...v}),...e},a=!1;const o=new Set,l=new Set;let u=i.storage;if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const c=()=>{const v=i.partialize({...r()});return u.setItem(i.name,{state:v,version:i.version})},d=s.setState;s.setState=(v,S)=>(d(v,S),c());const f=t((...v)=>(n(...v),c()),r,s);s.getInitialState=()=>f;let m;const w=()=>{var v,S;if(!u)return;a=!1,o.forEach(p=>{var g;return p((g=r())!=null?g:f)});const y=((S=i.onRehydrateStorage)==null?void 0:S.call(i,(v=r())!=null?v:f))||void 0;return Zf(u.getItem.bind(u))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate){const g=i.migrate(p.state,p.version);return g instanceof Promise?g.then(x=>[!0,x]):[!0,g]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var g;const[x,_]=p;if(m=i.merge(_,(g=r())!=null?g:f),n(m,!0),x)return c()}).then(()=>{y==null||y(m,void 0),m=r(),a=!0,l.forEach(p=>p(m))}).catch(p=>{y==null||y(void 0,p)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||w(),m||f},$M=LM,FM="";async function VM(t){try{const e=await fetch(`${FM}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})}),n=await e.json();return e.ok?{success:!0,sessionToken:n.sessionToken}:{success:!1,error:n.error||"Login failed",remainingAttempts:n.remainingAttempts,resetIn:n.resetIn}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Network error"}}}const BM={id:"default",name:"Default Persona",niche:"Technology & Innovation",targetAudience:"Entrepreneurs, startup founders, tech enthusiasts",tone:"professional",topics:["AI","startups","productivity","innovation"],maxDailyPosts:5,isActive:!0,defaultLanguage:"en",platformLanguages:{}},UM={autoPostDiscovery:!0,aiImageSynthesis:!0,smartScheduling:!1,autoEngagement:!1},zM=[{platform:"instagram",isConnected:!1},{platform:"twitter",isConnected:!1},{platform:"linkedin",isConnected:!1},{platform:"tiktok",isConnected:!1}],_0={anthropic:"",openai:"",gemini:""},WM={monthlyBudget:0,currency:"USD",allocations:[{category:"content_boost",percentage:30,amount:0,priority:"high"},{category:"ad_campaigns",percentage:25,amount:0,priority:"high"},{category:"influencer_collab",percentage:15,amount:0,priority:"medium"},{category:"tools_software",percentage:10,amount:0,priority:"medium"},{category:"content_creation",percentage:10,amount:0,priority:"medium"},{category:"analytics_insights",percentage:5,amount:0,priority:"low"},{category:"reserve",percentage:5,amount:0,priority:"low"}],optimizationMode:"balanced",autoOptimize:!0},HM={balanced:{content_boost:30,ad_campaigns:25,influencer_collab:15,tools_software:10,content_creation:10,analytics_insights:5,reserve:5},growth:{content_boost:35,ad_campaigns:30,influencer_collab:20,tools_software:5,content_creation:5,analytics_insights:3,reserve:2},engagement:{content_boost:40,ad_campaigns:15,influencer_collab:25,tools_software:5,content_creation:8,analytics_insights:5,reserve:2},reach:{content_boost:25,ad_campaigns:40,influencer_collab:20,tools_software:5,content_creation:5,analytics_insights:3,reserve:2}},Ge=OM()($M(t=>({isAuthenticated:!1,login:async e=>(await VM(e)).success?(t({isAuthenticated:!0}),!0):!1,logout:()=>t({isAuthenticated:!1}),activeView:"dashboard",setActiveView:e=>t({activeView:e}),theme:"dark",setTheme:e=>t({theme:e}),apiKeys:_0,setApiKey:(e,n)=>t(r=>({apiKeys:{...r.apiKeys,[e]:n}})),clearApiKeys:()=>t({apiKeys:_0}),user:null,persona:BM,setUser:e=>t({user:e}),setPersona:e=>t({persona:e}),updatePersona:e=>t(n=>({persona:n.persona?{...n.persona,...e}:null})),trends:[],setTrends:e=>t({trends:e}),addTrend:e=>t(n=>({trends:[e,...n.trends]})),posts:[],setPosts:e=>t({posts:e}),addPost:e=>t(n=>({posts:[e,...n.posts]})),updatePost:(e,n)=>t(r=>({posts:r.posts.map(s=>s.id===e?{...s,...n}:s)})),deletePost:e=>t(n=>({posts:n.posts.filter(r=>r.id!==e)})),activities:[],addActivity:e=>t(n=>({activities:[e,...n.activities].slice(0,50)})),clearActivities:()=>t({activities:[]}),automationSettings:UM,updateAutomationSettings:e=>t(n=>({automationSettings:{...n.automationSettings,...e}})),platformCredentials:zM,updatePlatformCredential:(e,n)=>t(r=>({platformCredentials:r.platformCredentials.map(s=>s.platform===e?{...s,...n}:s)})),isLoading:!1,setIsLoading:e=>t({isLoading:e}),notifications:[],addNotification:e=>t(n=>({notifications:[...n.notifications,{...e,id:crypto.randomUUID()}]})),removeNotification:e=>t(n=>({notifications:n.notifications.filter(r=>r.id!==e)})),persistentNotifications:[],addPersistentNotification:e=>t(n=>({persistentNotifications:[{...e,id:crypto.randomUUID(),timestamp:new Date().toISOString(),read:!1},...n.persistentNotifications].slice(0,50)})),markNotificationRead:e=>t(n=>({persistentNotifications:n.persistentNotifications.map(r=>r.id===e?{...r,read:!0}:r)})),markAllNotificationsRead:()=>t(e=>({persistentNotifications:e.persistentNotifications.map(n=>({...n,read:!0}))})),clearAllNotifications:()=>t({persistentNotifications:[]}),templates:[],addTemplate:e=>t(n=>({templates:[e,...n.templates]})),updateTemplate:(e,n)=>t(r=>({templates:r.templates.map(s=>s.id===e?{...s,...n,updatedAt:new Date().toISOString()}:s)})),deleteTemplate:e=>t(n=>({templates:n.templates.filter(r=>r.id!==e)})),incrementTemplateUsage:e=>t(n=>({templates:n.templates.map(r=>r.id===e?{...r,usageCount:r.usageCount+1}:r)})),hashtagCollections:[],addHashtagCollection:e=>t(n=>({hashtagCollections:[e,...n.hashtagCollections]})),updateHashtagCollection:(e,n)=>t(r=>({hashtagCollections:r.hashtagCollections.map(s=>s.id===e?{...s,...n}:s)})),deleteHashtagCollection:e=>t(n=>({hashtagCollections:n.hashtagCollections.filter(r=>r.id!==e)})),incrementHashtagCollectionUsage:e=>t(n=>({hashtagCollections:n.hashtagCollections.map(r=>r.id===e?{...r,usageCount:r.usageCount+1}:r)})),mediaItems:[],mediaFolders:[],addMediaItem:e=>t(n=>({mediaItems:[e,...n.mediaItems]})),updateMediaItem:(e,n)=>t(r=>({mediaItems:r.mediaItems.map(s=>s.id===e?{...s,...n}:s)})),deleteMediaItem:e=>t(n=>({mediaItems:n.mediaItems.filter(r=>r.id!==e)})),addMediaFolder:e=>t(n=>({mediaFolders:[e,...n.mediaFolders]})),updateMediaFolder:(e,n)=>t(r=>({mediaFolders:r.mediaFolders.map(s=>s.id===e?{...s,...n}:s)})),deleteMediaFolder:e=>t(n=>({mediaFolders:n.mediaFolders.filter(r=>r.id!==e),mediaItems:n.mediaItems.map(r=>r.folderId===e?{...r,folderId:void 0}:r)})),draftInProgress:null,saveDraftInProgress:e=>t({draftInProgress:e}),clearDraftInProgress:()=>t({draftInProgress:null}),recentlyUsedTemplates:[],recentlyUsedHashtagCollections:[],addRecentlyUsedTemplate:e=>t(n=>({recentlyUsedTemplates:[e,...n.recentlyUsedTemplates.filter(r=>r!==e)].slice(0,5)})),addRecentlyUsedHashtagCollection:e=>t(n=>({recentlyUsedHashtagCollections:[e,...n.recentlyUsedHashtagCollections.filter(r=>r!==e)].slice(0,5)})),isAutonomousModeActive:!0,emergencyStopTriggeredAt:null,triggerEmergencyStop:()=>t(e=>({isAutonomousModeActive:!1,emergencyStopTriggeredAt:new Date().toISOString(),automationSettings:{...e.automationSettings,autoPostDiscovery:!1,aiImageSynthesis:!1,smartScheduling:!1,autoEngagement:!1}})),resumeAutonomousMode:()=>t({isAutonomousModeActive:!0,emergencyStopTriggeredAt:null}),budgetConfig:WM,budgetSpends:[],setBudgetConfig:e=>t(n=>({budgetConfig:{...n.budgetConfig,...e}})),setMonthlyBudget:e=>t(n=>({budgetConfig:{...n.budgetConfig,monthlyBudget:e,allocations:n.budgetConfig.allocations.map(r=>({...r,amount:r.percentage/100*e}))}})),updateAllocation:(e,n)=>t(r=>{const s=r.budgetConfig.allocations.map(i=>i.category===e?{...i,percentage:n,amount:n/100*r.budgetConfig.monthlyBudget}:i);return{budgetConfig:{...r.budgetConfig,allocations:s}}}),addBudgetSpend:e=>t(n=>({budgetSpends:[e,...n.budgetSpends]})),deleteBudgetSpend:e=>t(n=>({budgetSpends:n.budgetSpends.filter(r=>r.id!==e)})),optimizeBudget:e=>t(n=>{const r=HM[e],s=n.budgetConfig.allocations.map(i=>({...i,percentage:r[i.category],amount:r[i.category]/100*n.budgetConfig.monthlyBudget}));return{budgetConfig:{...n.budgetConfig,optimizationMode:e,allocations:s}}}),setDefaultLanguage:e=>t(n=>({persona:n.persona?{...n.persona,defaultLanguage:e}:null})),setPlatformLanguage:(e,n)=>t(r=>{if(!r.persona)return{};const s={...r.persona.platformLanguages||{}};return n===null?delete s[e]:s[e]=n,{persona:{...r.persona,platformLanguages:s}}}),errorState:{errors:[],lastError:null,isRecoveryMode:!1},addError:e=>t(n=>{const r=Date.now();if(n.errorState.errors.some(a=>a.message===e.message&&r-new Date(a.timestamp).getTime()<5e3))return console.warn("[SOCI-ERR] Duplicate error suppressed:",e.message),{};const i={id:crypto.randomUUID(),message:e.message,stack:e.stack,source:e.source,timestamp:new Date().toISOString(),resolved:!1};return console.error("[SOCI-ERR]",i.message,e.stack||""),{errorState:{...n.errorState,errors:[i,...n.errorState.errors].slice(0,20),lastError:i}}}),clearErrors:()=>t(e=>({errorState:{...e.errorState,errors:[],lastError:null}})),resolveError:e=>t(n=>({errorState:{...n.errorState,errors:n.errorState.errors.map(r=>r.id===e?{...r,resolved:!0}:r)}})),setRecoveryMode:e=>t(n=>({errorState:{...n.errorState,isRecoveryMode:e}}))}),{name:"soci-storage-v2",partialize:t=>({isAuthenticated:t.isAuthenticated,persona:t.persona,automationSettings:t.automationSettings,platformCredentials:t.platformCredentials,posts:t.posts,apiKeys:t.apiKeys,theme:t.theme,persistentNotifications:t.persistentNotifications,templates:t.templates,hashtagCollections:t.hashtagCollections,mediaItems:t.mediaItems,mediaFolders:t.mediaFolders,draftInProgress:t.draftInProgress,recentlyUsedTemplates:t.recentlyUsedTemplates,recentlyUsedHashtagCollections:t.recentlyUsedHashtagCollections,isAutonomousModeActive:t.isAutonomousModeActive,emergencyStopTriggeredAt:t.emergencyStopTriggeredAt,budgetConfig:t.budgetConfig,budgetSpends:t.budgetSpends})}));function tD(t){var r;const e=Ge.getState();if(!e.persona)return"en";const n=(r=e.persona.platformLanguages)==null?void 0:r[t];return n||e.persona.defaultLanguage||"en"}const os=[{id:"light",icon:sS,label:"Light"},{id:"dark",icon:tS,label:"Dark"},{id:"system",icon:EM,label:"System"}];function qM({variant:t="full"}){const{theme:e,setTheme:n}=Ge();if(t==="compact"){const r=os.findIndex(i=>i.id===e),s=os[r].icon;return h.jsx("button",{onClick:()=>{const i=(r+1)%os.length;n(os[i].id)},className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",title:`Current: ${os[r].label}. Click to switch.`,children:h.jsx(s,{size:18})})}return h.jsx("div",{className:"flex items-center gap-1 p-1 rounded-xl bg-white/5 border border-glass-border",children:os.map(({id:r,icon:s,label:i})=>{const a=e===r;return h.jsxs("button",{onClick:()=>n(r),className:`
              relative flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium
              transition-colors
              ${a?"text-white":"text-gray-500 hover:text-gray-300"}
            `,title:i,children:[a&&h.jsx(pe.div,{layoutId:"themeToggleBg",className:"absolute inset-0 rounded-lg bg-primary/20 border border-primary/30",transition:{type:"spring",stiffness:300,damping:30}}),h.jsx("span",{className:"relative z-10",children:h.jsx(s,{size:16})}),h.jsx("span",{className:"relative z-10 hidden sm:inline",children:i})]},r)})})}const nD=6048e5,rD=864e5,sD=6e4,iD=36e5,Go=43200,S0=1440,b0=Symbol.for("constructDateFrom");function lp(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&b0 in t?t[b0](e):t instanceof Date?new t.constructor(e):new Date(e)}function yr(t,e){return lp(e||t,t)}let KM={};function GM(){return KM}function k0(t){const e=yr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function up(t,...e){const n=lp.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Ol(t,e){const n=+yr(t)-+yr(e);return n<0?-1:n>0?1:n}function XM(t){return lp(t,Date.now())}function QM(t,e,n){const[r,s]=up(n==null?void 0:n.in,t,e),i=r.getFullYear()-s.getFullYear(),a=r.getMonth()-s.getMonth();return i*12+a}function YM(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function JM(t,e){return+yr(t)-+yr(e)}function ZM(t,e){const n=yr(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function eN(t,e){const n=yr(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function tN(t,e){const n=yr(t,e==null?void 0:e.in);return+ZM(n,e)==+eN(n,e)}function nN(t,e,n){const[r,s,i]=up(n==null?void 0:n.in,t,t,e),a=Ol(s,i),o=Math.abs(QM(s,i));if(o<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*o);let l=Ol(s,i)===-a;tN(r)&&o===1&&Ol(r,i)===1&&(l=!1);const u=a*(o-+l);return u===0?0:u}function rN(t,e,n){const r=JM(t,e)/1e3;return YM(n==null?void 0:n.roundingMethod)(r)}const sN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iN=(t,e,n)=>{let r;const s=sN[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function dd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const aN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uN={date:dd({formats:aN,defaultWidth:"full"}),time:dd({formats:oN,defaultWidth:"full"}),dateTime:dd({formats:lN,defaultWidth:"full"})},cN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dN=(t,e,n,r)=>cN[t];function Ai(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const fN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vN=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wN={ordinalNumber:vN,era:Ai({values:fN,defaultWidth:"wide"}),quarter:Ai({values:hN,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ai({values:mN,defaultWidth:"wide"}),day:Ai({values:pN,defaultWidth:"wide"}),dayPeriod:Ai({values:gN,defaultWidth:"wide",formattingValues:yN,defaultFormattingWidth:"wide"})};function Ri(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?_N(o,d=>d.test(a)):xN(o,d=>d.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function xN(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function _N(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function SN(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const bN=/^(\d+)(th|st|nd|rd)?/i,kN=/\d+/i,CN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},EN={any:[/^b/i,/^(a|c)/i]},TN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PN={any:[/1/i,/2/i,/3/i,/4/i]},AN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ON={ordinalNumber:SN({matchPattern:bN,parsePattern:kN,valueCallback:t=>parseInt(t,10)}),era:Ri({matchPatterns:CN,defaultMatchWidth:"wide",parsePatterns:EN,defaultParseWidth:"any"}),quarter:Ri({matchPatterns:TN,defaultMatchWidth:"wide",parsePatterns:PN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ri({matchPatterns:AN,defaultMatchWidth:"wide",parsePatterns:RN,defaultParseWidth:"any"}),day:Ri({matchPatterns:MN,defaultMatchWidth:"wide",parsePatterns:NN,defaultParseWidth:"any"}),dayPeriod:Ri({matchPatterns:IN,defaultMatchWidth:"any",parsePatterns:jN,defaultParseWidth:"any"})},DN={code:"en-US",formatDistance:iN,formatLong:uN,formatRelative:dN,localize:wN,match:ON,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LN(t,e,n){const r=GM(),s=(n==null?void 0:n.locale)??r.locale??DN,i=2520,a=Ol(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a}),[l,u]=up(n==null?void 0:n.in,...a>0?[e,t]:[t,e]),c=rN(u,l),d=(k0(u)-k0(l))/1e3,f=Math.round((c-d)/60);let m;if(f<2)return n!=null&&n.includeSeconds?c<5?s.formatDistance("lessThanXSeconds",5,o):c<10?s.formatDistance("lessThanXSeconds",10,o):c<20?s.formatDistance("lessThanXSeconds",20,o):c<40?s.formatDistance("halfAMinute",0,o):c<60?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",1,o):f===0?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",f,o);if(f<45)return s.formatDistance("xMinutes",f,o);if(f<90)return s.formatDistance("aboutXHours",1,o);if(f<S0){const w=Math.round(f/60);return s.formatDistance("aboutXHours",w,o)}else{if(f<i)return s.formatDistance("xDays",1,o);if(f<Go){const w=Math.round(f/S0);return s.formatDistance("xDays",w,o)}else if(f<Go*2)return m=Math.round(f/Go),s.formatDistance("aboutXMonths",m,o)}if(m=nN(u,l),m<12){const w=Math.round(f/Go);return s.formatDistance("xMonths",w,o)}else{const w=m%12,v=Math.trunc(m/12);return w<3?s.formatDistance("aboutXYears",v,o):w<9?s.formatDistance("overXYears",v,o):s.formatDistance("almostXYears",v+1,o)}}function $N(t,e){return LN(t,XM(t),e)}const FN={post:oc,trend:lc,schedule:tp,system:ip},VN={success:"bg-success/10 border-success/20 text-success",warning:"bg-warning/10 border-warning/20 text-warning",info:"bg-primary/10 border-primary/20 text-primary",alert:"bg-critical/10 border-critical/20 text-critical"};function BN({isOpen:t,onClose:e}){const{persistentNotifications:n,markNotificationRead:r,markAllNotificationsRead:s,clearAllNotifications:i,setActiveView:a}=Ge(),o=n.filter(u=>!u.read).length,l=u=>{r(u.id),u.actionUrl&&(u.category==="post"?a("drafts"):u.category==="trend"?a("trends"):u.category==="schedule"&&a("drafts")),e()};return h.jsx(gr,{children:t&&h.jsxs(h.Fragment,{children:[h.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:e}),h.jsxs(pe.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},transition:{type:"spring",damping:25,stiffness:300},className:"fixed right-0 top-0 h-full w-full max-w-md glass-panel border-l border-glass-border z-50 flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-glass-border",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 rounded-lg bg-primary/20",children:h.jsx(Cu,{size:20,className:"text-primary"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-white",children:"Notifications"}),h.jsx("p",{className:"text-xs text-gray-500",children:o>0?`${o} unread`:"All caught up"})]})]}),h.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-white/5 transition-colors",children:h.jsx(ci,{size:20,className:"text-gray-400"})})]}),n.length>0&&h.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-glass-border bg-white/5",children:[h.jsx("button",{onClick:s,className:"text-xs text-primary hover:text-primary-light transition-colors",children:"Mark all as read"}),h.jsxs("button",{onClick:i,className:"text-xs text-gray-500 hover:text-critical transition-colors flex items-center gap-1",children:[h.jsx(iS,{size:12}),"Clear all"]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[h.jsx("div",{className:"p-4 rounded-full bg-white/5 mb-4",children:h.jsx(Cu,{size:32,className:"text-gray-600"})}),h.jsx("p",{className:"text-gray-400 font-medium",children:"No notifications yet"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"We'll notify you about important updates"})]}):h.jsx("div",{className:"divide-y divide-glass-border",children:n.map(u=>{const c=FN[u.category];return h.jsx(pe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>l(u),className:`w-full p-4 text-left hover:bg-white/5 transition-colors ${u.read?"":"bg-primary/5"}`,children:h.jsxs("div",{className:"flex gap-3",children:[h.jsx("div",{className:`p-2 rounded-lg shrink-0 ${VN[u.type]}`,children:h.jsx(c,{size:16})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsx("p",{className:`text-sm font-medium ${u.read?"text-gray-400":"text-white"}`,children:u.title}),!u.read&&h.jsx("span",{className:"w-2 h-2 rounded-full bg-primary shrink-0 mt-1.5"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:u.message}),h.jsx("p",{className:"text-xs text-gray-600 mt-2",children:$N(new Date(u.timestamp),{addSuffix:!0})})]})]})},u.id)})})})]})]})})}function UN({onClick:t}){const n=Ge(r=>r.persistentNotifications).filter(r=>!r.read).length;return h.jsxs("button",{onClick:t,className:"relative p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[h.jsx(Cu,{size:20,className:"text-gray-400"}),n>0&&h.jsx(pe.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 flex items-center justify-center bg-critical text-white text-[10px] font-bold rounded-full",children:n>9?"9+":n})]})}function aS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=aS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ee(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=aS(t))&&(r&&(r+=" "),r+=e);return r}function L(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function E(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let oS=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return oS=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Ya(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const eh=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class q extends Error{}let kt=class th extends q{constructor(e,n,r,s){super(`${th.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.requestID=s==null?void 0:s.get("request-id"),this.error=n}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new uc({message:r,cause:eh(n)});const i=n;return e===400?new uS(e,i,r,s):e===401?new cS(e,i,r,s):e===403?new dS(e,i,r,s):e===404?new fS(e,i,r,s):e===409?new hS(e,i,r,s):e===422?new mS(e,i,r,s):e===429?new pS(e,i,r,s):e>=500?new gS(e,i,r,s):new th(e,i,r,s)}},Xt=class extends kt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},uc=class extends kt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},lS=class extends uc{constructor({message:e}={}){super({message:e??"Request timed out."})}},uS=class extends kt{},cS=class extends kt{},dS=class extends kt{},fS=class extends kt{},hS=class extends kt{},mS=class extends kt{},pS=class extends kt{},gS=class extends kt{};const zN=/^[a-z][a-z0-9+.-]*:/i,WN=t=>zN.test(t);let nh=t=>(nh=Array.isArray,nh(t)),C0=nh;function rh(t){return typeof t!="object"?{}:t??{}}function HN(t){if(!t)return!0;for(const e in t)return!1;return!0}function qN(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const KN=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new q(`${t} must be an integer`);if(e<0)throw new q(`${t} must be a positive integer`);return e},yS=t=>{try{return JSON.parse(t)}catch{return}},GN=t=>new Promise(e=>setTimeout(e,t)),ms="0.71.2",XN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function QN(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const YN=()=>{var n;const t=QN();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ms,"X-Stainless-OS":T0(Deno.build.os),"X-Stainless-Arch":E0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ms,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ms,"X-Stainless-OS":T0(globalThis.process.platform??"unknown"),"X-Stainless-Arch":E0(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=JN();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ms,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ms,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function JN(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:e,version:`${s}.${i}.${a}`}}}return null}const E0=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",T0=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let P0;const ZN=()=>P0??(P0=YN());function eI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function vS(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function wS(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return vS({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)==null?void 0:n.call(e))}})}function cp(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function tI(t){var r,s;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((s=(r=t[Symbol.asyncIterator]()).return)==null?void 0:s.call(r));return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const nI=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});function rI(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let A0;function dp(t){let e;return(A0??(e=new globalThis.TextEncoder,A0=e.encode.bind(e)))(t)}let R0;function M0(t){let e;return(R0??(e=new globalThis.TextDecoder,R0=e.decode.bind(e)))(t)}var ht,mt;let po=class{constructor(){ht.set(this,void 0),mt.set(this,void 0),L(this,ht,new Uint8Array),L(this,mt,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?dp(e):e;L(this,ht,rI([E(this,ht,"f"),n]));const r=[];let s;for(;(s=sI(E(this,ht,"f"),E(this,mt,"f")))!=null;){if(s.carriage&&E(this,mt,"f")==null){L(this,mt,s.index);continue}if(E(this,mt,"f")!=null&&(s.index!==E(this,mt,"f")+1||s.carriage)){r.push(M0(E(this,ht,"f").subarray(0,E(this,mt,"f")-1))),L(this,ht,E(this,ht,"f").subarray(E(this,mt,"f"))),L(this,mt,null);continue}const i=E(this,mt,"f")!==null?s.preceding-1:s.preceding,a=M0(E(this,ht,"f").subarray(0,i));r.push(a),L(this,ht,E(this,ht,"f").subarray(s.index)),L(this,mt,null)}return r}flush(){return E(this,ht,"f").length?this.decode(`
`):[]}};ht=new WeakMap,mt=new WeakMap;po.NEWLINE_CHARS=new Set([`
`,"\r"]);po.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function sI(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function iI(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const Eu={off:0,error:200,warn:300,info:400,debug:500},N0=(t,e,n)=>{if(t){if(qN(Eu,t))return t;Ye(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Eu))}`)}};function Ji(){}function Xo(t,e,n){return!e||Eu[t]>Eu[n]?Ji:e[t].bind(e)}const aI={error:Ji,warn:Ji,info:Ji,debug:Ji};let I0=new WeakMap;function Ye(t){const e=t.logger,n=t.logLevel??"off";if(!e)return aI;const r=I0.get(e);if(r&&r[0]===n)return r[1];const s={error:Xo("error",e,n),warn:Xo("warn",e,n),info:Xo("info",e,n),debug:Xo("debug",e,n)};return I0.set(e,[n,s]),s}const Mr=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Mi;let Ja=class Zi{constructor(e,n,r){this.iterator=e,Mi.set(this,void 0),this.controller=n,L(this,Mi,r)}static fromSSEResponse(e,n,r){let s=!1;const i=r?Ye(r):console;async function*a(){if(s)throw new q("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of oI(e,n)){if(l.event==="completion")try{yield JSON.parse(l.data)}catch(u){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),u}if(l.event==="message_start"||l.event==="message_delta"||l.event==="message_stop"||l.event==="content_block_start"||l.event==="content_block_delta"||l.event==="content_block_stop")try{yield JSON.parse(l.data)}catch(u){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),u}if(l.event!=="ping"&&l.event==="error")throw new kt(void 0,yS(l.data)??l.data,void 0,e.headers)}o=!0}catch(l){if(Ya(l))return;throw l}finally{o||n.abort()}}return new Zi(a,n,r)}static fromReadableStream(e,n,r){let s=!1;async function*i(){const o=new po,l=cp(e);for await(const u of l)for(const c of o.decode(u))yield c;for(const u of o.flush())yield u}async function*a(){if(s)throw new q("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of i())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(Ya(l))return;throw l}finally{o||n.abort()}}return new Zi(a,n,r)}[(Mi=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();e.push(a),n.push(a)}return i.shift()}});return[new Zi(()=>s(e),this.controller,E(this,Mi,"f")),new Zi(()=>s(n),this.controller,E(this,Mi,"f"))]}toReadableStream(){const e=this;let n;return vS({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const a=dp(JSON.stringify(s)+`
`);r.enqueue(a)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}};async function*oI(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new q("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new q("Attempted to iterate over a response with no body");const n=new uI,r=new po,s=cp(t.body);for await(const i of lI(s))for(const a of r.decode(i)){const o=n.decode(a);o&&(yield o)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*lI(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?dp(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=iI(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}let uI=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=cI(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}};function cI(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function xS(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=e,a=await(async()=>{var d;if(e.options.stream)return Ye(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller):Ja.fromSSEResponse(n,e.controller);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const o=n.headers.get("content-type"),l=(d=o==null?void 0:o.split(";")[0])==null?void 0:d.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const f=await n.json();return _S(f,n)}return await n.text()})();return Ye(t).debug(`[${r}] response parsed`,Mr({retryOfRequestLogID:s,url:n.url,status:n.status,body:a,durationMs:Date.now()-i})),a}function _S(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("request-id"),enumerable:!1})}var ea;let SS=class bS extends Promise{constructor(e,n,r=xS){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,ea.set(this,void 0),L(this,ea,e)}_thenUnwrap(e){return new bS(E(this,ea,"f"),this.responsePromise,async(n,r)=>_S(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(E(this,ea,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};ea=new WeakMap;var Qo;let kS=class{constructor(e,n,r,s){Qo.set(this,void 0),L(this,Qo,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new q("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await E(this,Qo,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Qo=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}},dI=class extends SS{constructor(e,n,r){super(e,n,async(s,i)=>new r(s,i.response,await xS(s,i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}},go=class extends kS{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.first_id=r.first_id||null,this.last_id=r.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var n;if((n=this.options.query)!=null&&n.before_id){const r=this.first_id;return r?{...this.options,query:{...rh(this.options.query),before_id:r}}:null}const e=this.last_id;return e?{...this.options,query:{...rh(this.options.query),after_id:e}}:null}};class CS extends kS{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.next_page=r.next_page||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.next_page;return e?{...this.options,query:{...rh(this.options.query),page:e}}:null}}const ES=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)==null?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function qs(t,e,n){return ES(),new File(t,e??"unknown_file",n)}function Dl(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const TS=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",fp=async(t,e)=>({...t,body:await hI(t.body,e)}),j0=new WeakMap;function fI(t){const e=typeof t=="function"?t:t.fetch,n=j0.get(e);if(n)return n;const r=(async()=>{try{const s="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new s(i).text()}catch{return!0}})();return j0.set(e,r),r}const hI=async(t,e)=>{if(!await fI(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,s])=>sh(n,r,s))),n},mI=t=>t instanceof Blob&&"name"in t,sh=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response){let r={};const s=n.headers.get("Content-Type");s&&(r={type:s}),t.append(e,qs([await n.blob()],Dl(n),r))}else if(TS(n))t.append(e,qs([await new Response(wS(n)).blob()],Dl(n)));else if(mI(n))t.append(e,qs([n],Dl(n),{type:n.type}));else if(Array.isArray(n))await Promise.all(n.map(r=>sh(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>sh(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},PS=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",pI=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&PS(t),gI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function yI(t,e,n){if(ES(),t=await t,e||(e=Dl(t)),pI(t))return t instanceof File&&e==null&&n==null?t:qs([await t.arrayBuffer()],e??t.name,{type:t.type,lastModified:t.lastModified,...n});if(gI(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),qs(await ih(s),e,n)}const r=await ih(t);if(!(n!=null&&n.type)){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n={...n,type:s})}return qs(r,e,n)}async function ih(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(PS(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(TS(t))for await(const r of t)e.push(...await ih(r));else{const r=(n=t==null?void 0:t.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${vI(t)}`)}return e}function vI(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}let Zt=class{constructor(e){this._client=e}};const AS=Symbol.for("brand.privateNullableHeaders");function*wI(t){if(!t)return;if(AS in t){const{values:r,nulls:s}=t;yield*r.entries();for(const i of s)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():C0(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=C0(r[1])?r[1]:[r[1]];let a=!1;for(const o of i)o!==void 0&&(e&&!a&&(a=!0,yield[s,null]),yield[s,o])}}const J=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[i,a]of wI(r)){const o=i.toLowerCase();s.has(o)||(e.delete(i),s.add(o)),a===null?(e.delete(i),n.add(o)):(e.append(i,a),n.delete(o))}}return{[AS]:!0,values:e,nulls:n}};function RS(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const O0=Object.freeze(Object.create(null)),xI=(t=RS)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],a=n.reduce((c,d,f)=>{var v;/[?#]/.test(d)&&(s=!0);const m=r[f];let w=(s?encodeURIComponent:t)(""+m);return f!==r.length&&(m==null||typeof m=="object"&&m.toString===((v=Object.getPrototypeOf(Object.getPrototypeOf(m.hasOwnProperty??O0)??O0))==null?void 0:v.toString))&&(w=m+"",i.push({start:c.length+d.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(m).slice(8,-1)} is not a valid path parameter`})),c+d+(f===r.length?"":w)},""),o=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(o))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((c,d)=>c.start-d.start),i.length>0){let c=0;const d=i.reduce((f,m)=>{const w=" ".repeat(m.start-c),v="^".repeat(m.length);return c=m.start+m.length,f+w+v},"");throw new q(`Path parameters result in path with invalid segments:
${i.map(f=>f.error).join(`
`)}
${a}
${d}`)}return a},Le=xI(RS);let MS=class extends Zt{list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/files",go,{query:s,...n,headers:J([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n==null?void 0:n.headers])})}delete(e,n={},r){const{betas:s}=n??{};return this._client.delete(Le`/v1/files/${e}`,{...r,headers:J([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString()},r==null?void 0:r.headers])})}download(e,n={},r){const{betas:s}=n??{};return this._client.get(Le`/v1/files/${e}/content`,{...r,headers:J([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}retrieveMetadata(e,n={},r){const{betas:s}=n??{};return this._client.get(Le`/v1/files/${e}`,{...r,headers:J([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString()},r==null?void 0:r.headers])})}upload(e,n){const{betas:r,...s}=e;return this._client.post("/v1/files",fp({body:s,...n,headers:J([{"anthropic-beta":[...r??[],"files-api-2025-04-14"].toString()},n==null?void 0:n.headers])},this._client))}},NS=class extends Zt{retrieve(e,n={},r){const{betas:s}=n??{};return this._client.get(Le`/v1/models/${e}?beta=true`,{...r,headers:J([{...(s==null?void 0:s.toString())!=null?{"anthropic-beta":s==null?void 0:s.toString()}:void 0},r==null?void 0:r.headers])})}list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/models?beta=true",go,{query:s,...n,headers:J([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers])})}};const IS={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};function D0(t,e,n){return!e||!("parse"in(e.output_format??{}))?{...t,content:t.content.map(r=>{if(r.type==="text"){const s=Object.defineProperty({...r},"parsed_output",{value:null,enumerable:!1});return Object.defineProperty(s,"parsed",{get(){return n.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),null},enumerable:!1})}return r}),parsed_output:null}:jS(t,e,n)}function jS(t,e,n){let r=null;const s=t.content.map(i=>{if(i.type==="text"){const a=_I(e,i.text);r===null&&(r=a);const o=Object.defineProperty({...i},"parsed_output",{value:a,enumerable:!1});return Object.defineProperty(o,"parsed",{get(){return n.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),a},enumerable:!1})}return i});return{...t,content:s,parsed_output:r}}function _I(t,e){var n;if(((n=t.output_format)==null?void 0:n.type)!=="json_schema")return null;try{return"parse"in t.output_format?t.output_format.parse(e):JSON.parse(e)}catch(r){throw new q(`Failed to parse structured output: ${r}`)}}const SI=t=>{let e=0,n=[];for(;e<t.length;){let r=t[e];if(r==="\\"){e++;continue}if(r==="{"){n.push({type:"brace",value:"{"}),e++;continue}if(r==="}"){n.push({type:"brace",value:"}"}),e++;continue}if(r==="["){n.push({type:"paren",value:"["}),e++;continue}if(r==="]"){n.push({type:"paren",value:"]"}),e++;continue}if(r===":"){n.push({type:"separator",value:":"}),e++;continue}if(r===","){n.push({type:"delimiter",value:","}),e++;continue}if(r==='"'){let o="",l=!1;for(r=t[++e];r!=='"';){if(e===t.length){l=!0;break}if(r==="\\"){if(e++,e===t.length){l=!0;break}o+=r+t[e],r=t[++e]}else o+=r,r=t[++e]}r=t[++e],l||n.push({type:"string",value:o});continue}if(r&&/\s/.test(r)){e++;continue}let i=/[0-9]/;if(r&&i.test(r)||r==="-"||r==="."){let o="";for(r==="-"&&(o+=r,r=t[++e]);r&&i.test(r)||r===".";)o+=r,r=t[++e];n.push({type:"number",value:o});continue}let a=/[a-z]/i;if(r&&a.test(r)){let o="";for(;r&&a.test(r)&&e!==t.length;)o+=r,r=t[++e];if(o=="true"||o=="false"||o==="null")n.push({type:"name",value:o});else{e++;continue}continue}e++}return n},ps=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),ps(t);case"number":let n=e.value[e.value.length-1];if(n==="."||n==="-")return t=t.slice(0,t.length-1),ps(t);case"string":let r=t[t.length-2];if((r==null?void 0:r.type)==="delimiter")return t=t.slice(0,t.length-1),ps(t);if((r==null?void 0:r.type)==="brace"&&r.value==="{")return t=t.slice(0,t.length-1),ps(t);break;case"delimiter":return t=t.slice(0,t.length-1),ps(t)}return t},bI=t=>{let e=[];return t.map(n=>{n.type==="brace"&&(n.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),n.type==="paren"&&(n.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(n=>{n==="}"?t.push({type:"brace",value:"}"}):n==="]"&&t.push({type:"paren",value:"]"})}),t},kI=t=>{let e="";return t.map(n=>{switch(n.type){case"string":e+='"'+n.value+'"';break;default:e+=n.value;break}}),e},OS=t=>JSON.parse(kI(bI(ps(SI(t)))));var Ct,Ln,ls,Ni,Yo,Ii,ji,Jo,Oi,gn,Di,Zo,el,Cr,tl,nl,Li,fd,L0,rl,hd,md,pd,$0;const F0="__json_buf";function V0(t){return t.type==="tool_use"||t.type==="server_tool_use"||t.type==="mcp_tool_use"}class Tu{constructor(e,n){Ct.add(this),this.messages=[],this.receivedMessages=[],Ln.set(this,void 0),ls.set(this,null),this.controller=new AbortController,Ni.set(this,void 0),Yo.set(this,()=>{}),Ii.set(this,()=>{}),ji.set(this,void 0),Jo.set(this,()=>{}),Oi.set(this,()=>{}),gn.set(this,{}),Di.set(this,!1),Zo.set(this,!1),el.set(this,!1),Cr.set(this,!1),tl.set(this,void 0),nl.set(this,void 0),Li.set(this,void 0),rl.set(this,r=>{if(L(this,Zo,!0),Ya(r)&&(r=new Xt),r instanceof Xt)return L(this,el,!0),this._emit("abort",r);if(r instanceof q)return this._emit("error",r);if(r instanceof Error){const s=new q(r.message);return s.cause=r,this._emit("error",s)}return this._emit("error",new q(String(r)))}),L(this,Ni,new Promise((r,s)=>{L(this,Yo,r,"f"),L(this,Ii,s,"f")})),L(this,ji,new Promise((r,s)=>{L(this,Jo,r,"f"),L(this,Oi,s,"f")})),E(this,Ni,"f").catch(()=>{}),E(this,ji,"f").catch(()=>{}),L(this,ls,e),L(this,Li,(n==null?void 0:n.logger)??console)}get response(){return E(this,tl,"f")}get request_id(){return E(this,nl,"f")}async withResponse(){L(this,Cr,!0);const e=await E(this,Ni,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const n=new Tu(null);return n._run(()=>n._fromReadableStream(e)),n}static createMessage(e,n,r,{logger:s}={}){const i=new Tu(n,{logger:s});for(const a of n.messages)i._addMessageParam(a);return L(i,ls,{...n,stream:!0}),i._run(()=>i._createMessage(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},E(this,rl,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,n=!0){this.receivedMessages.push(e),n&&this._emit("message",e)}async _createMessage(e,n,r){var a;const s=r==null?void 0:r.signal;let i;s&&(s.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),s.addEventListener("abort",i));try{E(this,Ct,"m",hd).call(this);const{response:o,data:l}=await e.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(o);for await(const u of l)E(this,Ct,"m",md).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new Xt;E(this,Ct,"m",pd).call(this)}finally{s&&i&&s.removeEventListener("abort",i)}}_connected(e){this.ended||(L(this,tl,e),L(this,nl,e==null?void 0:e.headers.get("request-id")),E(this,Yo,"f").call(this,e),this._emit("connect"))}get ended(){return E(this,Di,"f")}get errored(){return E(this,Zo,"f")}get aborted(){return E(this,el,"f")}abort(){this.controller.abort()}on(e,n){return(E(this,gn,"f")[e]||(E(this,gn,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=E(this,gn,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(E(this,gn,"f")[e]||(E(this,gn,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{L(this,Cr,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){L(this,Cr,!0),await E(this,ji,"f")}get currentMessage(){return E(this,Ln,"f")}async finalMessage(){return await this.done(),E(this,Ct,"m",fd).call(this)}async finalText(){return await this.done(),E(this,Ct,"m",L0).call(this)}_emit(e,...n){if(E(this,Di,"f"))return;e==="end"&&(L(this,Di,!0),E(this,Jo,"f").call(this));const r=E(this,gn,"f")[e];if(r&&(E(this,gn,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!E(this,Cr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),E(this,Ii,"f").call(this,s),E(this,Oi,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!E(this,Cr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),E(this,Ii,"f").call(this,s),E(this,Oi,"f").call(this,s),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",E(this,Ct,"m",fd).call(this))}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;let s;r&&(r.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),r.addEventListener("abort",s));try{E(this,Ct,"m",hd).call(this),this._connected(null);const a=Ja.fromReadableStream(e,this.controller);for await(const o of a)E(this,Ct,"m",md).call(this,o);if((i=a.controller.signal)!=null&&i.aborted)throw new Xt;E(this,Ct,"m",pd).call(this)}finally{r&&s&&r.removeEventListener("abort",s)}}[(Ln=new WeakMap,ls=new WeakMap,Ni=new WeakMap,Yo=new WeakMap,Ii=new WeakMap,ji=new WeakMap,Jo=new WeakMap,Oi=new WeakMap,gn=new WeakMap,Di=new WeakMap,Zo=new WeakMap,el=new WeakMap,Cr=new WeakMap,tl=new WeakMap,nl=new WeakMap,Li=new WeakMap,rl=new WeakMap,Ct=new WeakSet,fd=function(){if(this.receivedMessages.length===0)throw new q("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},L0=function(){if(this.receivedMessages.length===0)throw new q("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new q("stream ended without producing a content block with type=text");return n.join(" ")},hd=function(){this.ended||L(this,Ln,void 0)},md=function(n){if(this.ended)return;const r=E(this,Ct,"m",$0).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const s=r.content.at(-1);switch(n.delta.type){case"text_delta":{s.type==="text"&&this._emit("text",n.delta.text,s.text||"");break}case"citations_delta":{s.type==="text"&&this._emit("citation",n.delta.citation,s.citations??[]);break}case"input_json_delta":{V0(s)&&s.input&&this._emit("inputJson",n.delta.partial_json,s.input);break}case"thinking_delta":{s.type==="thinking"&&this._emit("thinking",n.delta.thinking,s.thinking);break}case"signature_delta":{s.type==="thinking"&&this._emit("signature",s.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(D0(r,E(this,ls,"f"),{logger:E(this,Li,"f")}),!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{L(this,Ln,r);break}}},pd=function(){if(this.ended)throw new q("stream has ended, this shouldn't happen");const n=E(this,Ln,"f");if(!n)throw new q("request ended without sending any chunks");return L(this,Ln,void 0),D0(n,E(this,ls,"f"),{logger:E(this,Li,"f")})},$0=function(n){let r=E(this,Ln,"f");if(n.type==="message_start"){if(r)throw new q(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new q(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.container=n.delta.container,r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,r.context_management=n.context_management,n.usage.input_tokens!=null&&(r.usage.input_tokens=n.usage.input_tokens),n.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=n.usage.cache_creation_input_tokens),n.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=n.usage.cache_read_input_tokens),n.usage.server_tool_use!=null&&(r.usage.server_tool_use=n.usage.server_tool_use),r;case"content_block_start":return r.content.push(n.content_block),r;case"content_block_delta":{const s=r.content.at(n.index);switch(n.delta.type){case"text_delta":{(s==null?void 0:s.type)==="text"&&(r.content[n.index]={...s,text:(s.text||"")+n.delta.text});break}case"citations_delta":{(s==null?void 0:s.type)==="text"&&(r.content[n.index]={...s,citations:[...s.citations??[],n.delta.citation]});break}case"input_json_delta":{if(s&&V0(s)){let i=s[F0]||"";i+=n.delta.partial_json;const a={...s};if(Object.defineProperty(a,F0,{value:i,enumerable:!1,writable:!0}),i)try{a.input=OS(i)}catch(o){const l=new q(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${o}. JSON: ${i}`);E(this,rl,"f").call(this,l)}r.content[n.index]=a}break}case"thinking_delta":{(s==null?void 0:s.type)==="thinking"&&(r.content[n.index]={...s,thinking:s.thinking+n.delta.thinking});break}case"signature_delta":{(s==null?void 0:s.type)==="thinking"&&(r.content[n.index]={...s,signature:n.delta.signature});break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("streamEvent",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ja(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const CI=1e5,EI=`You have been working on the task described above but have not yet completed it. Write a continuation summary that will allow you (or another instance of yourself) to resume work efficiently in a future context window where the conversation history will be replaced with this summary. Your summary should be structured, concise, and actionable. Include:
1. Task Overview
The user's core request and success criteria
Any clarifications or constraints they specified
2. Current State
What has been completed so far
Files created, modified, or analyzed (with paths if relevant)
Key outputs or artifacts produced
3. Important Discoveries
Technical constraints or requirements uncovered
Decisions made and their rationale
Errors encountered and how they were resolved
What approaches were tried that didn't work (and why)
4. Next Steps
Specific actions needed to complete the task
Any blockers or open questions to resolve
Priority order if multiple steps remain
5. Context to Preserve
User preferences or style requirements
Domain-specific details that aren't obvious
Any promises made to the user
Be concise but completeerr on the side of including information that would prevent duplicate work or repeated mistakes. Write in a way that enables immediate resumption of the task.
Wrap your summary in <summary></summary> tags.`;var $i,us,Er,Se,Fi,ft,kn,$n,Vi,B0,ah;function U0(){let t,e;return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}class DS{constructor(e,n,r){$i.add(this),this.client=e,us.set(this,!1),Er.set(this,!1),Se.set(this,void 0),Fi.set(this,void 0),ft.set(this,void 0),kn.set(this,void 0),$n.set(this,void 0),Vi.set(this,0),L(this,Se,{params:{...n,messages:structuredClone(n.messages)}}),L(this,Fi,{...r,headers:J([{"x-stainless-helper":"BetaToolRunner"},r==null?void 0:r.headers])}),L(this,$n,U0())}async*[(us=new WeakMap,Er=new WeakMap,Se=new WeakMap,Fi=new WeakMap,ft=new WeakMap,kn=new WeakMap,$n=new WeakMap,Vi=new WeakMap,$i=new WeakSet,B0=async function(){var u;const n=E(this,Se,"f").params.compactionControl;if(!n||!n.enabled)return!1;let r=0;if(E(this,ft,"f")!==void 0)try{const c=await E(this,ft,"f");r=c.usage.input_tokens+(c.usage.cache_creation_input_tokens??0)+(c.usage.cache_read_input_tokens??0)+c.usage.output_tokens}catch{return!1}const s=n.contextTokenThreshold??CI;if(r<s)return!1;const i=n.model??E(this,Se,"f").params.model,a=n.summaryPrompt??EI,o=E(this,Se,"f").params.messages;if(o[o.length-1].role==="assistant"){const c=o[o.length-1];if(Array.isArray(c.content)){const d=c.content.filter(f=>f.type!=="tool_use");d.length===0?o.pop():c.content=d}}const l=await this.client.beta.messages.create({model:i,messages:[...o,{role:"user",content:[{type:"text",text:a}]}],max_tokens:E(this,Se,"f").params.max_tokens},{headers:{"x-stainless-helper":"compaction"}});if(((u=l.content[0])==null?void 0:u.type)!=="text")throw new q("Expected text response for compaction");return E(this,Se,"f").params.messages=[{role:"user",content:l.content}],!0},Symbol.asyncIterator)](){var e;if(E(this,us,"f"))throw new q("Cannot iterate over a consumed stream");L(this,us,!0),L(this,Er,!0),L(this,kn,void 0);try{for(;;){let n;try{if(E(this,Se,"f").params.max_iterations&&E(this,Vi,"f")>=E(this,Se,"f").params.max_iterations)break;L(this,Er,!1,"f"),L(this,kn,void 0,"f"),L(this,Vi,(e=E(this,Vi,"f"),e++,e),"f"),L(this,ft,void 0,"f");const{max_iterations:r,compactionControl:s,...i}=E(this,Se,"f").params;if(i.stream?(n=this.client.beta.messages.stream({...i},E(this,Fi,"f")),L(this,ft,n.finalMessage(),"f"),E(this,ft,"f").catch(()=>{}),yield n):(L(this,ft,this.client.beta.messages.create({...i,stream:!1},E(this,Fi,"f")),"f"),yield E(this,ft,"f")),!await E(this,$i,"m",B0).call(this)){if(!E(this,Er,"f")){const{role:l,content:u}=await E(this,ft,"f");E(this,Se,"f").params.messages.push({role:l,content:u})}const o=await E(this,$i,"m",ah).call(this,E(this,Se,"f").params.messages.at(-1));if(o)E(this,Se,"f").params.messages.push(o);else if(!E(this,Er,"f"))break}}finally{n&&n.abort()}}if(!E(this,ft,"f"))throw new q("ToolRunner concluded without a message from the server");E(this,$n,"f").resolve(await E(this,ft,"f"))}catch(n){throw L(this,us,!1),E(this,$n,"f").promise.catch(()=>{}),E(this,$n,"f").reject(n),L(this,$n,U0()),n}}setMessagesParams(e){typeof e=="function"?E(this,Se,"f").params=e(E(this,Se,"f").params):E(this,Se,"f").params=e,L(this,Er,!0),L(this,kn,void 0)}async generateToolResponse(){const e=await E(this,ft,"f")??this.params.messages.at(-1);return e?E(this,$i,"m",ah).call(this,e):null}done(){return E(this,$n,"f").promise}async runUntilDone(){if(!E(this,us,"f"))for await(const e of this);return this.done()}get params(){return E(this,Se,"f").params}pushMessages(...e){this.setMessagesParams(n=>({...n,messages:[...n.messages,...e]}))}then(e,n){return this.runUntilDone().then(e,n)}}ah=async function(e){return E(this,kn,"f")!==void 0?E(this,kn,"f"):(L(this,kn,TI(E(this,Se,"f").params,e)),E(this,kn,"f"))};async function TI(t,e=t.messages.at(-1)){if(!e||e.role!=="assistant"||!e.content||typeof e.content=="string")return null;const n=e.content.filter(s=>s.type==="tool_use");return n.length===0?null:{role:"user",content:await Promise.all(n.map(async s=>{const i=t.tools.find(a=>("name"in a?a.name:a.mcp_server_name)===s.name);if(!i||!("run"in i))return{type:"tool_result",tool_use_id:s.id,content:`Error: Tool '${s.name}' not found`,is_error:!0};try{let a=s.input;"parse"in i&&i.parse&&(a=i.parse(a));const o=await i.run(a);return{type:"tool_result",tool_use_id:s.id,content:o}}catch(a){return{type:"tool_result",tool_use_id:s.id,content:`Error: ${a instanceof Error?a.message:String(a)}`,is_error:!0}}}))}}class cc{constructor(e,n){this.iterator=e,this.controller=n}async*decoder(){const e=new po;for await(const n of this.iterator)for(const r of e.decode(n))yield JSON.parse(r);for(const n of e.flush())yield JSON.parse(n)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,n){if(!e.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new q("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new q("Attempted to iterate over a response with no body");return new cc(cp(e.body),n)}}let LS=class extends Zt{create(e,n){const{betas:r,...s}=e;return this._client.post("/v1/messages/batches?beta=true",{body:s,...n,headers:J([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n==null?void 0:n.headers])})}retrieve(e,n={},r){const{betas:s}=n??{};return this._client.get(Le`/v1/messages/batches/${e}?beta=true`,{...r,headers:J([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r==null?void 0:r.headers])})}list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",go,{query:s,...n,headers:J([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString()},n==null?void 0:n.headers])})}delete(e,n={},r){const{betas:s}=n??{};return this._client.delete(Le`/v1/messages/batches/${e}?beta=true`,{...r,headers:J([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r==null?void 0:r.headers])})}cancel(e,n={},r){const{betas:s}=n??{};return this._client.post(Le`/v1/messages/batches/${e}/cancel?beta=true`,{...r,headers:J([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r==null?void 0:r.headers])})}async results(e,n={},r){const s=await this.retrieve(e);if(!s.results_url)throw new q(`No batch \`results_url\`; Has it finished processing? ${s.processing_status} - ${s.id}`);const{betas:i}=n??{};return this._client.get(s.results_url,{...r,headers:J([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},r==null?void 0:r.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((a,o)=>cc.fromResponse(o.response,o.controller))}};const z0={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"};let dc=class extends Zt{constructor(){super(...arguments),this.batches=new LS(this._client)}create(e,n){const{betas:r,...s}=e;s.model in z0&&console.warn(`The model '${s.model}' is deprecated and will reach end-of-life on ${z0[s.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let i=this._client._options.timeout;if(!s.stream&&i==null){const a=IS[s.model]??void 0;i=this._client.calculateNonstreamingTimeout(s.max_tokens,a)}return this._client.post("/v1/messages?beta=true",{body:s,timeout:i??6e5,...n,headers:J([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers]),stream:e.stream??!1})}parse(e,n){return n={...n,headers:J([{"anthropic-beta":[...e.betas??[],"structured-outputs-2025-11-13"].toString()},n==null?void 0:n.headers])},this.create(e,n).then(r=>jS(r,e,{logger:this._client.logger??console}))}stream(e,n){return Tu.createMessage(this,e,n)}countTokens(e,n){const{betas:r,...s}=e;return this._client.post("/v1/messages/count_tokens?beta=true",{body:s,...n,headers:J([{"anthropic-beta":[...r??[],"token-counting-2024-11-01"].toString()},n==null?void 0:n.headers])})}toolRunner(e,n){return new DS(this._client,e,n)}};dc.Batches=LS;dc.BetaToolRunner=DS;class $S extends Zt{create(e,n={},r){const{betas:s,...i}=n??{};return this._client.post(Le`/v1/skills/${e}/versions?beta=true`,fp({body:i,...r,headers:J([{"anthropic-beta":[...s??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])},this._client))}retrieve(e,n,r){const{skill_id:s,betas:i}=n;return this._client.get(Le`/v1/skills/${s}/versions/${e}?beta=true`,{...r,headers:J([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}list(e,n={},r){const{betas:s,...i}=n??{};return this._client.getAPIList(Le`/v1/skills/${e}/versions?beta=true`,CS,{query:i,...r,headers:J([{"anthropic-beta":[...s??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}delete(e,n,r){const{skill_id:s,betas:i}=n;return this._client.delete(Le`/v1/skills/${s}/versions/${e}?beta=true`,{...r,headers:J([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}}class hp extends Zt{constructor(){super(...arguments),this.versions=new $S(this._client)}create(e={},n){const{betas:r,...s}=e??{};return this._client.post("/v1/skills?beta=true",fp({body:s,...n,headers:J([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])},this._client))}retrieve(e,n={},r){const{betas:s}=n??{};return this._client.get(Le`/v1/skills/${e}?beta=true`,{...r,headers:J([{"anthropic-beta":[...s??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/skills?beta=true",CS,{query:s,...n,headers:J([{"anthropic-beta":[...r??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])})}delete(e,n={},r){const{betas:s}=n??{};return this._client.delete(Le`/v1/skills/${e}?beta=true`,{...r,headers:J([{"anthropic-beta":[...s??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}}hp.Versions=$S;let yi=class extends Zt{constructor(){super(...arguments),this.models=new NS(this._client),this.messages=new dc(this._client),this.files=new MS(this._client),this.skills=new hp(this._client)}};yi.Models=NS;yi.Messages=dc;yi.Files=MS;yi.Skills=hp;let FS=class extends Zt{create(e,n){const{betas:r,...s}=e;return this._client.post("/v1/complete",{body:s,timeout:this._client._options.timeout??6e5,...n,headers:J([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers]),stream:e.stream??!1})}};var Et,Fn,Bi,sl,Ui,zi,il,Wi,yn,Hi,al,ol,Tr,ll,ul,gd,W0,yd,vd,wd,xd,H0;const q0="__json_buf";function K0(t){return t.type==="tool_use"||t.type==="server_tool_use"}class Pu{constructor(){Et.add(this),this.messages=[],this.receivedMessages=[],Fn.set(this,void 0),this.controller=new AbortController,Bi.set(this,void 0),sl.set(this,()=>{}),Ui.set(this,()=>{}),zi.set(this,void 0),il.set(this,()=>{}),Wi.set(this,()=>{}),yn.set(this,{}),Hi.set(this,!1),al.set(this,!1),ol.set(this,!1),Tr.set(this,!1),ll.set(this,void 0),ul.set(this,void 0),yd.set(this,e=>{if(L(this,al,!0),Ya(e)&&(e=new Xt),e instanceof Xt)return L(this,ol,!0),this._emit("abort",e);if(e instanceof q)return this._emit("error",e);if(e instanceof Error){const n=new q(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new q(String(e)))}),L(this,Bi,new Promise((e,n)=>{L(this,sl,e,"f"),L(this,Ui,n,"f")})),L(this,zi,new Promise((e,n)=>{L(this,il,e,"f"),L(this,Wi,n,"f")})),E(this,Bi,"f").catch(()=>{}),E(this,zi,"f").catch(()=>{})}get response(){return E(this,ll,"f")}get request_id(){return E(this,ul,"f")}async withResponse(){L(this,Tr,!0);const e=await E(this,Bi,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const n=new Pu;return n._run(()=>n._fromReadableStream(e)),n}static createMessage(e,n,r){const s=new Pu;for(const i of n.messages)s._addMessageParam(i);return s._run(()=>s._createMessage(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},E(this,yd,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,n=!0){this.receivedMessages.push(e),n&&this._emit("message",e)}async _createMessage(e,n,r){var a;const s=r==null?void 0:r.signal;let i;s&&(s.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),s.addEventListener("abort",i));try{E(this,Et,"m",vd).call(this);const{response:o,data:l}=await e.create({...n,stream:!0},{...r,signal:this.controller.signal}).withResponse();this._connected(o);for await(const u of l)E(this,Et,"m",wd).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new Xt;E(this,Et,"m",xd).call(this)}finally{s&&i&&s.removeEventListener("abort",i)}}_connected(e){this.ended||(L(this,ll,e),L(this,ul,e==null?void 0:e.headers.get("request-id")),E(this,sl,"f").call(this,e),this._emit("connect"))}get ended(){return E(this,Hi,"f")}get errored(){return E(this,al,"f")}get aborted(){return E(this,ol,"f")}abort(){this.controller.abort()}on(e,n){return(E(this,yn,"f")[e]||(E(this,yn,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=E(this,yn,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(E(this,yn,"f")[e]||(E(this,yn,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{L(this,Tr,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){L(this,Tr,!0),await E(this,zi,"f")}get currentMessage(){return E(this,Fn,"f")}async finalMessage(){return await this.done(),E(this,Et,"m",gd).call(this)}async finalText(){return await this.done(),E(this,Et,"m",W0).call(this)}_emit(e,...n){if(E(this,Hi,"f"))return;e==="end"&&(L(this,Hi,!0),E(this,il,"f").call(this));const r=E(this,yn,"f")[e];if(r&&(E(this,yn,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!E(this,Tr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),E(this,Ui,"f").call(this,s),E(this,Wi,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!E(this,Tr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),E(this,Ui,"f").call(this,s),E(this,Wi,"f").call(this,s),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",E(this,Et,"m",gd).call(this))}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;let s;r&&(r.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),r.addEventListener("abort",s));try{E(this,Et,"m",vd).call(this),this._connected(null);const a=Ja.fromReadableStream(e,this.controller);for await(const o of a)E(this,Et,"m",wd).call(this,o);if((i=a.controller.signal)!=null&&i.aborted)throw new Xt;E(this,Et,"m",xd).call(this)}finally{r&&s&&r.removeEventListener("abort",s)}}[(Fn=new WeakMap,Bi=new WeakMap,sl=new WeakMap,Ui=new WeakMap,zi=new WeakMap,il=new WeakMap,Wi=new WeakMap,yn=new WeakMap,Hi=new WeakMap,al=new WeakMap,ol=new WeakMap,Tr=new WeakMap,ll=new WeakMap,ul=new WeakMap,yd=new WeakMap,Et=new WeakSet,gd=function(){if(this.receivedMessages.length===0)throw new q("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},W0=function(){if(this.receivedMessages.length===0)throw new q("stream ended without producing a Message with role=assistant");const n=this.receivedMessages.at(-1).content.filter(r=>r.type==="text").map(r=>r.text);if(n.length===0)throw new q("stream ended without producing a content block with type=text");return n.join(" ")},vd=function(){this.ended||L(this,Fn,void 0)},wd=function(n){if(this.ended)return;const r=E(this,Et,"m",H0).call(this,n);switch(this._emit("streamEvent",n,r),n.type){case"content_block_delta":{const s=r.content.at(-1);switch(n.delta.type){case"text_delta":{s.type==="text"&&this._emit("text",n.delta.text,s.text||"");break}case"citations_delta":{s.type==="text"&&this._emit("citation",n.delta.citation,s.citations??[]);break}case"input_json_delta":{K0(s)&&s.input&&this._emit("inputJson",n.delta.partial_json,s.input);break}case"thinking_delta":{s.type==="thinking"&&this._emit("thinking",n.delta.thinking,s.thinking);break}case"signature_delta":{s.type==="thinking"&&this._emit("signature",s.signature);break}default:n.delta}break}case"message_stop":{this._addMessageParam(r),this._addMessage(r,!0);break}case"content_block_stop":{this._emit("contentBlock",r.content.at(-1));break}case"message_start":{L(this,Fn,r);break}}},xd=function(){if(this.ended)throw new q("stream has ended, this shouldn't happen");const n=E(this,Fn,"f");if(!n)throw new q("request ended without sending any chunks");return L(this,Fn,void 0),n},H0=function(n){let r=E(this,Fn,"f");if(n.type==="message_start"){if(r)throw new q(`Unexpected event order, got ${n.type} before receiving "message_stop"`);return n.message}if(!r)throw new q(`Unexpected event order, got ${n.type} before "message_start"`);switch(n.type){case"message_stop":return r;case"message_delta":return r.stop_reason=n.delta.stop_reason,r.stop_sequence=n.delta.stop_sequence,r.usage.output_tokens=n.usage.output_tokens,n.usage.input_tokens!=null&&(r.usage.input_tokens=n.usage.input_tokens),n.usage.cache_creation_input_tokens!=null&&(r.usage.cache_creation_input_tokens=n.usage.cache_creation_input_tokens),n.usage.cache_read_input_tokens!=null&&(r.usage.cache_read_input_tokens=n.usage.cache_read_input_tokens),n.usage.server_tool_use!=null&&(r.usage.server_tool_use=n.usage.server_tool_use),r;case"content_block_start":return r.content.push({...n.content_block}),r;case"content_block_delta":{const s=r.content.at(n.index);switch(n.delta.type){case"text_delta":{(s==null?void 0:s.type)==="text"&&(r.content[n.index]={...s,text:(s.text||"")+n.delta.text});break}case"citations_delta":{(s==null?void 0:s.type)==="text"&&(r.content[n.index]={...s,citations:[...s.citations??[],n.delta.citation]});break}case"input_json_delta":{if(s&&K0(s)){let i=s[q0]||"";i+=n.delta.partial_json;const a={...s};Object.defineProperty(a,q0,{value:i,enumerable:!1,writable:!0}),i&&(a.input=OS(i)),r.content[n.index]=a}break}case"thinking_delta":{(s==null?void 0:s.type)==="thinking"&&(r.content[n.index]={...s,thinking:s.thinking+n.delta.thinking});break}case"signature_delta":{(s==null?void 0:s.type)==="thinking"&&(r.content[n.index]={...s,signature:n.delta.signature});break}default:n.delta}return r}case"content_block_stop":return r}},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("streamEvent",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ja(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}let VS=class extends Zt{create(e,n){return this._client.post("/v1/messages/batches",{body:e,...n})}retrieve(e,n){return this._client.get(Le`/v1/messages/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/v1/messages/batches",go,{query:e,...n})}delete(e,n){return this._client.delete(Le`/v1/messages/batches/${e}`,n)}cancel(e,n){return this._client.post(Le`/v1/messages/batches/${e}/cancel`,n)}async results(e,n){const r=await this.retrieve(e);if(!r.results_url)throw new q(`No batch \`results_url\`; Has it finished processing? ${r.processing_status} - ${r.id}`);return this._client.get(r.results_url,{...n,headers:J([{Accept:"application/binary"},n==null?void 0:n.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((s,i)=>cc.fromResponse(i.response,i.controller))}},mp=class extends Zt{constructor(){super(...arguments),this.batches=new VS(this._client)}create(e,n){e.model in G0&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${G0[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let r=this._client._options.timeout;if(!e.stream&&r==null){const s=IS[e.model]??void 0;r=this._client.calculateNonstreamingTimeout(e.max_tokens,s)}return this._client.post("/v1/messages",{body:e,timeout:r??6e5,...n,stream:e.stream??!1})}stream(e,n){return Pu.createMessage(this,e,n)}countTokens(e,n){return this._client.post("/v1/messages/count_tokens",{body:e,...n})}};const G0={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"};mp.Batches=VS;let BS=class extends Zt{retrieve(e,n={},r){const{betas:s}=n??{};return this._client.get(Le`/v1/models/${e}`,{...r,headers:J([{...(s==null?void 0:s.toString())!=null?{"anthropic-beta":s==null?void 0:s.toString()}:void 0},r==null?void 0:r.headers])})}list(e={},n){const{betas:r,...s}=e??{};return this._client.getAPIList("/v1/models",go,{query:s,...n,headers:J([{...(r==null?void 0:r.toString())!=null?{"anthropic-beta":r==null?void 0:r.toString()}:void 0},n==null?void 0:n.headers])})}};var _d={};const cl=t=>{var e,n,r,s;if(typeof globalThis.process<"u")return((e=_d==null?void 0:_d[t])==null?void 0:e.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};var oh,pp,Ll,US;const PI="\\n\\nHuman:",AI="\\n\\nAssistant:";class xe{constructor({baseURL:e=cl("ANTHROPIC_BASE_URL"),apiKey:n=cl("ANTHROPIC_API_KEY")??null,authToken:r=cl("ANTHROPIC_AUTH_TOKEN")??null,...s}={}){oh.add(this),Ll.set(this,void 0);const i={apiKey:n,authToken:r,...s,baseURL:e||"https://api.anthropic.com"};if(!i.dangerouslyAllowBrowser&&XN())throw new q(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=i.baseURL,this.timeout=i.timeout??pp.DEFAULT_TIMEOUT,this.logger=i.logger??console;const a="warn";this.logLevel=a,this.logLevel=N0(i.logLevel,"ClientOptions.logLevel",this)??N0(cl("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??a,this.fetchOptions=i.fetchOptions,this.maxRetries=i.maxRetries??2,this.fetch=i.fetch??eI(),L(this,Ll,nI),this._options=i,this.apiKey=typeof n=="string"?n:null,this.authToken=r}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.get("x-api-key")||e.get("authorization"))&&!(this.apiKey&&e.get("x-api-key"))&&!n.has("x-api-key")&&!(this.authToken&&e.get("authorization"))&&!n.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return J([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(this.apiKey!=null)return J([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(this.authToken!=null)return J([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new q(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ms}`}defaultIdempotencyKey(){return`stainless-node-retry-${oS()}`}makeStatusError(e,n,r,s){return kt.generate(e,n,r,s)}buildURL(e,n,r){const s=!E(this,oh,"m",US).call(this)&&r||this.baseURL,i=WN(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return HN(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new q("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>({method:e,path:n,...s})))}request(e,n=null){return new SS(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var y,p;const s=await e,i=s.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(s);const{req:a,url:o,timeout:l}=await this.buildRequest(s,{retryCount:i-n});await this.prepareRequest(a,{url:o,options:s});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),c=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(Ye(this).debug(`[${u}] sending request`,Mr({retryOfRequestLogID:r,method:s.method,url:o,options:s,headers:a.headers})),(y=s.signal)!=null&&y.aborted)throw new Xt;const f=new AbortController,m=await this.fetchWithTimeout(o,a,l,f).catch(eh),w=Date.now();if(m instanceof globalThis.Error){const g=`retrying, ${n} attempts remaining`;if((p=s.signal)!=null&&p.aborted)throw new Xt;const x=Ya(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(n)return Ye(this).info(`[${u}] connection ${x?"timed out":"failed"} - ${g}`),Ye(this).debug(`[${u}] connection ${x?"timed out":"failed"} (${g})`,Mr({retryOfRequestLogID:r,url:o,durationMs:w-d,message:m.message})),this.retryRequest(s,n,r??u);throw Ye(this).info(`[${u}] connection ${x?"timed out":"failed"} - error; no more retries left`),Ye(this).debug(`[${u}] connection ${x?"timed out":"failed"} (error; no more retries left)`,Mr({retryOfRequestLogID:r,url:o,durationMs:w-d,message:m.message})),x?new lS:new uc({cause:m})}const v=[...m.headers.entries()].filter(([g])=>g==="request-id").map(([g,x])=>", "+g+": "+JSON.stringify(x)).join(""),S=`[${u}${c}${v}] ${a.method} ${o} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${w-d}ms`;if(!m.ok){const g=await this.shouldRetry(m);if(n&&g){const I=`retrying, ${n} attempts remaining`;return await tI(m.body),Ye(this).info(`${S} - ${I}`),Ye(this).debug(`[${u}] response error (${I})`,Mr({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:w-d})),this.retryRequest(s,n,r??u,m.headers)}const x=g?"error; no more retries left":"error; not retryable";Ye(this).info(`${S} - ${x}`);const _=await m.text().catch(I=>eh(I).message),b=yS(_),C=b?void 0:_;throw Ye(this).debug(`[${u}] response error (${x})`,Mr({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,message:C,durationMs:Date.now()-d})),this.makeStatusError(m.status,b,C,m.headers)}return Ye(this).info(S),Ye(this).debug(`[${u}] response start`,Mr({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:w-d})),{response:m,options:s,controller:f,requestLogID:u,retryOfRequestLogID:r,startTime:d}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new dI(this,r,e)}async fetchWithTimeout(e,n,r,s){const{signal:i,method:a,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r),u=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,c={signal:s.signal,...u?{duplex:"half"}:{},method:"GET",...o};a&&(c.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,c)}finally{clearTimeout(l)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){let i;const a=s==null?void 0:s.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(i=l)}const o=s==null?void 0:s.get("retry-after");if(o&&!i){const l=parseFloat(o);Number.isNaN(l)?i=Date.parse(o)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,l)}return await GN(i),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}calculateNonstreamingTimeout(e,n){if(36e5*e/128e3>6e5||n!=null&&e>n)throw new q("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:s,path:i,query:a,defaultBaseURL:o}=r,l=this.buildURL(i,a,o);"timeout"in r&&KN("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:c}=this.buildBody({options:r}),d=await this.buildHeaders({options:e,method:s,bodyHeaders:u,retryCount:n});return{req:{method:s,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&c instanceof globalThis.ReadableStream&&{duplex:"half"},...c&&{body:c},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const a=J([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...ZN(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=J([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:wS(e)}:E(this,Ll,"f").call(this,{body:e,headers:r})}}pp=xe,Ll=new WeakMap,oh=new WeakSet,US=function(){return this.baseURL!=="https://api.anthropic.com"};xe.Anthropic=pp;xe.HUMAN_PROMPT=PI;xe.AI_PROMPT=AI;xe.DEFAULT_TIMEOUT=6e5;xe.AnthropicError=q;xe.APIError=kt;xe.APIConnectionError=uc;xe.APIConnectionTimeoutError=lS;xe.APIUserAbortError=Xt;xe.NotFoundError=fS;xe.ConflictError=hS;xe.RateLimitError=pS;xe.BadRequestError=uS;xe.AuthenticationError=cS;xe.InternalServerError=gS;xe.PermissionDeniedError=dS;xe.UnprocessableEntityError=mS;xe.toFile=yI;class yo extends xe{constructor(){super(...arguments),this.completions=new FS(this),this.messages=new mp(this),this.models=new BS(this),this.beta=new yi(this)}}yo.Completions=FS;yo.Messages=mp;yo.Models=BS;yo.Beta=yi;function z(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function k(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let zS=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return zS=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function lh(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const uh=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class V extends Error{}class Ve extends V{constructor(e,n,r,s){super(`${Ve.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.requestID=s==null?void 0:s.get("x-request-id"),this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new fc({message:r,cause:uh(n)});const i=n==null?void 0:n.error;return e===400?new WS(e,i,r,s):e===401?new HS(e,i,r,s):e===403?new qS(e,i,r,s):e===404?new KS(e,i,r,s):e===409?new GS(e,i,r,s):e===422?new XS(e,i,r,s):e===429?new QS(e,i,r,s):e>=500?new YS(e,i,r,s):new Ve(e,i,r,s)}}class It extends Ve{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class fc extends Ve{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class gp extends fc{constructor({message:e}={}){super({message:e??"Request timed out."})}}class WS extends Ve{}class HS extends Ve{}class qS extends Ve{}class KS extends Ve{}class GS extends Ve{}class XS extends Ve{}class QS extends Ve{}class YS extends Ve{}class JS extends V{constructor(){super("Could not parse response content as the length limit was reached")}}class ZS extends V{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class ta extends Error{constructor(e){super(e)}}const RI=/^[a-z][a-z0-9+.-]*:/i,MI=t=>RI.test(t);let st=t=>(st=Array.isArray,st(t)),X0=st;function eb(t){return typeof t!="object"?{}:t??{}}function NI(t){if(!t)return!0;for(const e in t)return!1;return!0}function II(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Sd(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const jI=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new V(`${t} must be an integer`);if(e<0)throw new V(`${t} must be a positive integer`);return e},OI=t=>{try{return JSON.parse(t)}catch{return}},vo=t=>new Promise(e=>setTimeout(e,t)),gs="6.15.0",DI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function LI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const $I=()=>{var n;const t=LI();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gs,"X-Stainless-OS":Y0(Deno.build.os),"X-Stainless-Arch":Q0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gs,"X-Stainless-OS":Y0(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Q0(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=FI();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function FI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:e,version:`${s}.${i}.${a}`}}}return null}const Q0=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Y0=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let J0;const VI=()=>J0??(J0=$I());function BI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function tb(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function nb(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return tb({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)==null?void 0:n.call(e))}})}function rb(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function UI(t){var r,s;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((s=(r=t[Symbol.asyncIterator]()).return)==null?void 0:s.call(r));return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const zI=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),sb="RFC3986",ib=t=>String(t),Z0={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:ib},WI="RFC1738";let ch=(t,e)=>(ch=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),ch(t,e));const rn=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),bd=1024,HI=(t,e,n,r,s)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=bd){const l=i.length>=bd?i.slice(o,o+bd):i,u=[];for(let c=0;c<l.length;++c){let d=l.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===WI&&(d===40||d===41)){u[u.length]=l.charAt(c);continue}if(d<128){u[u.length]=rn[d];continue}if(d<2048){u[u.length]=rn[192|d>>6]+rn[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=rn[224|d>>12]+rn[128|d>>6&63]+rn[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=rn[240|d>>18]+rn[128|d>>12&63]+rn[128|d>>6&63]+rn[128|d&63]}a+=u.join("")}return a};function qI(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function ev(t,e){if(st(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const ab={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},ob=function(t,e){Array.prototype.push.apply(t,st(e)?e:[e])};let tv;const be={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:HI,encodeValuesOnly:!1,format:sb,formatter:ib,indices:!1,serializeDate(t){return(tv??(tv=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function KI(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const kd={};function lb(t,e,n,r,s,i,a,o,l,u,c,d,f,m,w,v,S,y){let p=t,g=y,x=0,_=!1;for(;(g=g.get(kd))!==void 0&&!_;){const R=g.get(t);if(x+=1,typeof R<"u"){if(R===x)throw new RangeError("Cyclic object value");_=!0}typeof g.get(kd)>"u"&&(x=0)}if(typeof u=="function"?p=u(e,p):p instanceof Date?p=f==null?void 0:f(p):n==="comma"&&st(p)&&(p=ev(p,function(R){return R instanceof Date?f==null?void 0:f(R):R})),p===null){if(i)return l&&!v?l(e,be.encoder,S,"key",m):e;p=""}if(KI(p)||qI(p)){if(l){const R=v?e:l(e,be.encoder,S,"key",m);return[(w==null?void 0:w(R))+"="+(w==null?void 0:w(l(p,be.encoder,S,"value",m)))]}return[(w==null?void 0:w(e))+"="+(w==null?void 0:w(String(p)))]}const b=[];if(typeof p>"u")return b;let C;if(n==="comma"&&st(p))v&&l&&(p=ev(p,l)),C=[{value:p.length>0?p.join(",")||null:void 0}];else if(st(u))C=u;else{const R=Object.keys(p);C=c?R.sort(c):R}const T=o?String(e).replace(/\./g,"%2E"):String(e),I=r&&st(p)&&p.length===1?T+"[]":T;if(s&&st(p)&&p.length===0)return I+"[]";for(let R=0;R<C.length;++R){const O=C[R],se=typeof O=="object"&&typeof O.value<"u"?O.value:p[O];if(a&&se===null)continue;const dt=d&&o?O.replace(/\./g,"%2E"):O,en=st(p)?typeof n=="function"?n(I,dt):I:I+(d?"."+dt:"["+dt+"]");y.set(t,x);const tn=new WeakMap;tn.set(kd,y),ob(b,lb(se,en,n,r,s,i,a,o,n==="comma"&&v&&st(p)?null:l,u,c,d,f,m,w,v,S,tn))}return b}function GI(t=be){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||be.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=sb;if(typeof t.format<"u"){if(!ch(Z0,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=Z0[n];let s=be.filter;(typeof t.filter=="function"||st(t.filter))&&(s=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in ab?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=be.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:be.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:be.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:be.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:be.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?be.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:be.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:be.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:be.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:be.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:be.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:be.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:be.strictNullHandling}}function XI(t,e={}){let n=t;const r=GI(e);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):st(r.filter)&&(i=r.filter,s=i);const a=[];if(typeof n!="object"||n===null)return"";const o=ab[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let f=0;f<s.length;++f){const m=s[f];r.skipNulls&&n[m]===null||ob(a,lb(n[m],m,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=a.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}function QI(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let nv;function yp(t){let e;return(nv??(e=new globalThis.TextEncoder,nv=e.encode.bind(e)))(t)}let rv;function sv(t){let e;return(rv??(e=new globalThis.TextDecoder,rv=e.decode.bind(e)))(t)}var pt,gt;class hc{constructor(){pt.set(this,void 0),gt.set(this,void 0),z(this,pt,new Uint8Array),z(this,gt,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?yp(e):e;z(this,pt,QI([k(this,pt,"f"),n]));const r=[];let s;for(;(s=YI(k(this,pt,"f"),k(this,gt,"f")))!=null;){if(s.carriage&&k(this,gt,"f")==null){z(this,gt,s.index);continue}if(k(this,gt,"f")!=null&&(s.index!==k(this,gt,"f")+1||s.carriage)){r.push(sv(k(this,pt,"f").subarray(0,k(this,gt,"f")-1))),z(this,pt,k(this,pt,"f").subarray(k(this,gt,"f"))),z(this,gt,null);continue}const i=k(this,gt,"f")!==null?s.preceding-1:s.preceding,a=sv(k(this,pt,"f").subarray(0,i));r.push(a),z(this,pt,k(this,pt,"f").subarray(s.index)),z(this,gt,null)}return r}flush(){return k(this,pt,"f").length?this.decode(`
`):[]}}pt=new WeakMap,gt=new WeakMap;hc.NEWLINE_CHARS=new Set([`
`,"\r"]);hc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function YI(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function JI(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const Au={off:0,error:200,warn:300,info:400,debug:500},iv=(t,e,n)=>{if(t){if(II(Au,t))return t;Oe(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Au))}`)}};function na(){}function dl(t,e,n){return!e||Au[t]>Au[n]?na:e[t].bind(e)}const ZI={error:na,warn:na,info:na,debug:na};let av=new WeakMap;function Oe(t){const e=t.logger,n=t.logLevel??"off";if(!e)return ZI;const r=av.get(e);if(r&&r[0]===n)return r[1];const s={error:dl("error",e,n),warn:dl("warn",e,n),info:dl("info",e,n),debug:dl("debug",e,n)};return av.set(e,[n,s]),s}const Nr=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var qi;class dn{constructor(e,n,r){this.iterator=e,qi.set(this,void 0),this.controller=n,z(this,qi,r)}static fromSSEResponse(e,n,r){let s=!1;const i=r?Oe(r):console;async function*a(){if(s)throw new V("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of ej(e,n))if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let u;try{u=JSON.parse(l.data)}catch(c){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),c}if(u&&u.error)throw new Ve(void 0,u.error,void 0,e.headers);yield u}else{let u;try{u=JSON.parse(l.data)}catch(c){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),c}if(l.event=="error")throw new Ve(void 0,u.error,u.message,void 0);yield{event:l.event,data:u}}}o=!0}catch(l){if(lh(l))return;throw l}finally{o||n.abort()}}return new dn(a,n,r)}static fromReadableStream(e,n,r){let s=!1;async function*i(){const o=new hc,l=rb(e);for await(const u of l)for(const c of o.decode(u))yield c;for(const u of o.flush())yield u}async function*a(){if(s)throw new V("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of i())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(lh(l))return;throw l}finally{o||n.abort()}}return new dn(a,n,r)}[(qi=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();e.push(a),n.push(a)}return i.shift()}});return[new dn(()=>s(e),this.controller,k(this,qi,"f")),new dn(()=>s(n),this.controller,k(this,qi,"f"))]}toReadableStream(){const e=this;let n;return tb({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const a=yp(JSON.stringify(s)+`
`);r.enqueue(a)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*ej(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new V("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new V("Attempted to iterate over a response with no body");const n=new nj,r=new hc,s=rb(t.body);for await(const i of tj(s))for(const a of r.decode(i)){const o=n.decode(a);o&&(yield o)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*tj(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?yp(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=JI(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class nj{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=rj(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function rj(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function ub(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=e,a=await(async()=>{var d;if(e.options.stream)return Oe(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):dn.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const o=n.headers.get("content-type"),l=(d=o==null?void 0:o.split(";")[0])==null?void 0:d.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const f=await n.json();return cb(f,n)}return await n.text()})();return Oe(t).debug(`[${r}] response parsed`,Nr({retryOfRequestLogID:s,url:n.url,status:n.status,body:a,durationMs:Date.now()-i})),a}function cb(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var ra;class mc extends Promise{constructor(e,n,r=ub){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,ra.set(this,void 0),z(this,ra,e)}_thenUnwrap(e){return new mc(k(this,ra,"f"),this.responsePromise,async(n,r)=>cb(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(k(this,ra,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}ra=new WeakMap;var fl;class vp{constructor(e,n,r,s){fl.set(this,void 0),z(this,fl,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new V("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await k(this,fl,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(fl=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class sj extends mc{constructor(e,n,r){super(e,n,async(s,i)=>new r(s,i.response,await ub(s,i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class pc extends vp{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class we extends vp{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const e=this.getPaginatedItems(),n=(r=e[e.length-1])==null?void 0:r.id;return n?{...this.options,query:{...eb(this.options.query),after:n}}:null}}class Ru extends vp{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...eb(this.options.query),after:e}}:null}}const db=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)==null?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ba(t,e,n){return db(),new File(t,e??"unknown_file",n)}function $l(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const wp=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",ov=async(t,e)=>dh(t.body)?{...t,body:await fb(t.body,e)}:t,ns=async(t,e)=>({...t,body:await fb(t.body,e)}),lv=new WeakMap;function ij(t){const e=typeof t=="function"?t:t.fetch,n=lv.get(e);if(n)return n;const r=(async()=>{try{const s="Response"in e?e.Response:(await e("data:,")).constructor,i=new FormData;return i.toString()!==await new s(i).text()}catch{return!0}})();return lv.set(e,r),r}const fb=async(t,e)=>{if(!await ij(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,s])=>fh(n,r,s))),n},hb=t=>t instanceof Blob&&"name"in t,aj=t=>typeof t=="object"&&t!==null&&(t instanceof Response||wp(t)||hb(t)),dh=t=>{if(aj(t))return!0;if(Array.isArray(t))return t.some(dh);if(t&&typeof t=="object"){for(const e in t)if(dh(t[e]))return!0}return!1},fh=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,ba([await n.blob()],$l(n)));else if(wp(n))t.append(e,ba([await new Response(nb(n)).blob()],$l(n)));else if(hb(n))t.append(e,n,$l(n));else if(Array.isArray(n))await Promise.all(n.map(r=>fh(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>fh(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},mb=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",oj=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&mb(t),lj=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function uj(t,e,n){if(db(),t=await t,oj(t))return t instanceof File?t:ba([await t.arrayBuffer()],t.name);if(lj(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),ba(await hh(s),e,n)}const r=await hh(t);if(e||(e=$l(t)),!(n!=null&&n.type)){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n={...n,type:s})}return ba(r,e,n)}async function hh(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(mb(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(wp(t))for await(const r of t)e.push(...await hh(r));else{const r=(n=t==null?void 0:t.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${cj(t)}`)}return e}function cj(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class F{constructor(e){this._client=e}}function pb(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const uv=Object.freeze(Object.create(null)),dj=(t=pb)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],a=n.reduce((c,d,f)=>{var v;/[?#]/.test(d)&&(s=!0);const m=r[f];let w=(s?encodeURIComponent:t)(""+m);return f!==r.length&&(m==null||typeof m=="object"&&m.toString===((v=Object.getPrototypeOf(Object.getPrototypeOf(m.hasOwnProperty??uv)??uv))==null?void 0:v.toString))&&(w=m+"",i.push({start:c.length+d.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(m).slice(8,-1)} is not a valid path parameter`})),c+d+(f===r.length?"":w)},""),o=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(o))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((c,d)=>c.start-d.start),i.length>0){let c=0;const d=i.reduce((f,m)=>{const w=" ".repeat(m.start-c),v="^".repeat(m.length);return c=m.start+m.length,f+w+v},"");throw new V(`Path parameters result in path with invalid segments:
${i.map(f=>f.error).join(`
`)}
${a}
${d}`)}return a},M=dj(pb);let gb=class extends F{list(e,n={},r){return this._client.getAPIList(M`/chat/completions/${e}/messages`,we,{query:n,...r})}};function Mu(t){return t!==void 0&&"function"in t&&t.function!==void 0}function xp(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function wo(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function fj(t,e){return!e||!yb(e)?{...t,choices:t.choices.map(n=>(vb(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:_p(t,e)}function _p(t,e){const n=t.choices.map(r=>{var s;if(r.finish_reason==="length")throw new JS;if(r.finish_reason==="content_filter")throw new ZS;return vb(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>mj(e,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?hj(e,r.message.content):null}}});return{...t,choices:n}}function hj(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function mj(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return Mu(s)&&((i=s.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:wo(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function pj(t,e){var r;if(!t||!("tools"in t)||!t.tools)return!1;const n=(r=t.tools)==null?void 0:r.find(s=>{var i;return Mu(s)&&((i=s.function)==null?void 0:i.name)===e.function.name});return Mu(n)&&(wo(n)||(n==null?void 0:n.function.strict)||!1)}function yb(t){var e;return xp(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>wo(n)||n.type==="function"&&n.function.strict===!0))??!1}function vb(t){for(const e of t||[])if(e.type!=="function")throw new V(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function gj(t){for(const e of t??[]){if(e.type!=="function")throw new V(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new V(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Nu=t=>(t==null?void 0:t.role)==="assistant",wb=t=>(t==null?void 0:t.role)==="tool";var mh,Fl,Vl,sa,ia,Bl,aa,xn,oa,Iu,ju,ys,xb;class Sp{constructor(){mh.add(this),this.controller=new AbortController,Fl.set(this,void 0),Vl.set(this,()=>{}),sa.set(this,()=>{}),ia.set(this,void 0),Bl.set(this,()=>{}),aa.set(this,()=>{}),xn.set(this,{}),oa.set(this,!1),Iu.set(this,!1),ju.set(this,!1),ys.set(this,!1),z(this,Fl,new Promise((e,n)=>{z(this,Vl,e,"f"),z(this,sa,n,"f")})),z(this,ia,new Promise((e,n)=>{z(this,Bl,e,"f"),z(this,aa,n,"f")})),k(this,Fl,"f").catch(()=>{}),k(this,ia,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},k(this,mh,"m",xb).bind(this))},0)}_connected(){this.ended||(k(this,Vl,"f").call(this),this._emit("connect"))}get ended(){return k(this,oa,"f")}get errored(){return k(this,Iu,"f")}get aborted(){return k(this,ju,"f")}abort(){this.controller.abort()}on(e,n){return(k(this,xn,"f")[e]||(k(this,xn,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=k(this,xn,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(k(this,xn,"f")[e]||(k(this,xn,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{z(this,ys,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){z(this,ys,!0),await k(this,ia,"f")}_emit(e,...n){if(k(this,oa,"f"))return;e==="end"&&(z(this,oa,!0),k(this,Bl,"f").call(this));const r=k(this,xn,"f")[e];if(r&&(k(this,xn,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!k(this,ys,"f")&&!(r!=null&&r.length)&&Promise.reject(s),k(this,sa,"f").call(this,s),k(this,aa,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!k(this,ys,"f")&&!(r!=null&&r.length)&&Promise.reject(s),k(this,sa,"f").call(this,s),k(this,aa,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Fl=new WeakMap,Vl=new WeakMap,sa=new WeakMap,ia=new WeakMap,Bl=new WeakMap,aa=new WeakMap,xn=new WeakMap,oa=new WeakMap,Iu=new WeakMap,ju=new WeakMap,ys=new WeakMap,mh=new WeakSet,xb=function(e){if(z(this,Iu,!0),e instanceof Error&&e.name==="AbortError"&&(e=new It),e instanceof It)return z(this,ju,!0),this._emit("abort",e);if(e instanceof V)return this._emit("error",e);if(e instanceof Error){const n=new V(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new V(String(e)))};function yj(t){return typeof t.parse=="function"}var Xe,ph,Ou,gh,yh,vh,_b,Sb;const vj=10;class bb extends Sp{constructor(){super(...arguments),Xe.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),wb(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Nu(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new V("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),k(this,Xe,"m",ph).call(this)}async finalMessage(){return await this.done(),k(this,Xe,"m",Ou).call(this)}async finalFunctionToolCall(){return await this.done(),k(this,Xe,"m",gh).call(this)}async finalFunctionToolCallResult(){return await this.done(),k(this,Xe,"m",yh).call(this)}async totalUsage(){return await this.done(),k(this,Xe,"m",vh).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=k(this,Xe,"m",Ou).call(this);n&&this._emit("finalMessage",n);const r=k(this,Xe,"m",ph).call(this);r&&this._emit("finalContent",r);const s=k(this,Xe,"m",gh).call(this);s&&this._emit("finalFunctionToolCall",s);const i=k(this,Xe,"m",yh).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",k(this,Xe,"m",vh).call(this))}async _createChatCompletion(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),k(this,Xe,"m",_b).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(_p(i,n))}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runTools(e,n,r){var m,w,v;const s="tool",{tool_choice:i="auto",stream:a,...o}=n,l=typeof i!="string"&&i.type==="function"&&((m=i==null?void 0:i.function)==null?void 0:m.name),{maxChatCompletions:u=vj}=r||{},c=n.tools.map(S=>{if(wo(S)){if(!S.$callback)throw new V("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:S.$callback,name:S.function.name,description:S.function.description||"",parameters:S.function.parameters,parse:S.$parseRaw,strict:!0}}}return S}),d={};for(const S of c)S.type==="function"&&(d[S.function.name||S.function.function.name]=S.function);const f="tools"in n?c.map(S=>S.type==="function"?{type:"function",function:{name:S.function.name||S.function.function.name,parameters:S.function.parameters,description:S.function.description,strict:S.function.strict}}:S):void 0;for(const S of n.messages)this._addMessage(S,!1);for(let S=0;S<u;++S){const p=(w=(await this._createChatCompletion(e,{...o,tool_choice:i,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:w.message;if(!p)throw new V("missing message in ChatCompletion response");if(!((v=p.tool_calls)!=null&&v.length))return;for(const g of p.tool_calls){if(g.type!=="function")continue;const x=g.id,{name:_,arguments:b}=g.function,C=d[_];if(C){if(l&&l!==_){const O=`Invalid tool_call: ${JSON.stringify(_)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:x,content:O});continue}}else{const O=`Invalid tool_call: ${JSON.stringify(_)}. Available options are: ${Object.keys(d).map(se=>JSON.stringify(se)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:x,content:O});continue}let T;try{T=yj(C)?await C.parse(b):b}catch(O){const se=O instanceof Error?O.message:String(O);this._addMessage({role:s,tool_call_id:x,content:se});continue}const I=await C.function(T,this),R=k(this,Xe,"m",Sb).call(this,I);if(this._addMessage({role:s,tool_call_id:x,content:R}),l)return}}}}Xe=new WeakSet,ph=function(){return k(this,Xe,"m",Ou).call(this).content??null},Ou=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Nu(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new V("stream ended without producing a ChatCompletionMessage with role=assistant")},gh=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Nu(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(n=s.tool_calls.filter(i=>i.type==="function").at(-1))==null?void 0:n.function}},yh=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(wb(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},vh=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},_b=function(e){if(e.n!=null&&e.n>1)throw new V("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Sb=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class bp extends bb{static runTools(e,n,r){const s=new bp,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}_addMessage(e,n=!0){super._addMessage(e,n),Nu(e)&&e.content&&this._emit("content",e.content)}}const kb=1,Cb=2,Eb=4,Tb=8,Pb=16,Ab=32,Rb=64,Mb=128,Nb=256,Ib=Mb|Nb,jb=Pb|Ab|Ib|Rb,Ob=kb|Cb|jb,Db=Eb|Tb,wj=Ob|Db,Ae={STR:kb,NUM:Cb,ARR:Eb,OBJ:Tb,NULL:Pb,BOOL:Ab,NAN:Rb,INFINITY:Mb,MINUS_INFINITY:Nb,INF:Ib,SPECIAL:jb,ATOM:Ob,COLLECTION:Db,ALL:wj};class xj extends Error{}class _j extends Error{}function Sj(t,e=Ae.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return bj(t.trim(),e)}const bj=(t,e)=>{const n=t.length;let r=0;const s=f=>{throw new xj(`${f} at position ${r}`)},i=f=>{throw new _j(`${f} at position ${r}`)},a=()=>(d(),r>=n&&s("Unexpected end of input"),t[r]==='"'?o():t[r]==="{"?l():t[r]==="["?u():t.substring(r,r+4)==="null"||Ae.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Ae.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Ae.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Ae.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Ae.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Ae.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):c()),o=()=>{const f=r;let m=!1;for(r++;r<n&&(t[r]!=='"'||m&&t[r-1]==="\\");)m=t[r]==="\\"?!m:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(f,++r-Number(m)))}catch(w){i(String(w))}else if(Ae.STR&e)try{return JSON.parse(t.substring(f,r-Number(m))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,d();const f={};try{for(;t[r]!=="}";){if(d(),r>=n&&Ae.OBJ&e)return f;const m=o();d(),r++;try{const w=a();Object.defineProperty(f,m,{value:w,writable:!0,enumerable:!0,configurable:!0})}catch(w){if(Ae.OBJ&e)return f;throw w}d(),t[r]===","&&r++}}catch{if(Ae.OBJ&e)return f;s("Expected '}' at end of object")}return r++,f},u=()=>{r++;const f=[];try{for(;t[r]!=="]";)f.push(a()),d(),t[r]===","&&r++}catch{if(Ae.ARR&e)return f;s("Expected ']' at end of array")}return r++,f},c=()=>{if(r===0){t==="-"&&Ae.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(m){if(Ae.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(m))}}const f=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Ae.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(f,r))}catch{t.substring(f,r)==="-"&&Ae.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(w){i(String(w))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return a()},cv=t=>Sj(t,Ae.ALL^Ae.NUM);var _e,vn,cs,Vn,Cd,hl,Ed,Td,Pd,ml,Ad,dv;class Za extends bb{constructor(e){super(),_e.add(this),vn.set(this,void 0),cs.set(this,void 0),Vn.set(this,void 0),z(this,vn,e),z(this,cs,[])}get currentChatCompletionSnapshot(){return k(this,Vn,"f")}static fromReadableStream(e){const n=new Za(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new Za(n);return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){var a;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),k(this,_e,"m",Cd).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of i)k(this,_e,"m",Ed).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new It;return this._addChatCompletion(k(this,_e,"m",ml).call(this))}async _fromReadableStream(e,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),k(this,_e,"m",Cd).call(this),this._connected();const s=dn.fromReadableStream(e,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(k(this,_e,"m",ml).call(this)),k(this,_e,"m",Ed).call(this,o),i=o.id;if((a=s.controller.signal)!=null&&a.aborted)throw new It;return this._addChatCompletion(k(this,_e,"m",ml).call(this))}[(vn=new WeakMap,cs=new WeakMap,Vn=new WeakMap,_e=new WeakSet,Cd=function(){this.ended||z(this,Vn,void 0)},hl=function(n){let r=k(this,cs,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},k(this,cs,"f")[n.index]=r,r)},Ed=function(n){var s,i,a,o,l,u,c,d,f,m,w,v,S,y,p;if(this.ended)return;const r=k(this,_e,"m",dv).call(this,n);this._emit("chunk",n,r);for(const g of n.choices){const x=r.choices[g.index];g.delta.content!=null&&((s=x.message)==null?void 0:s.role)==="assistant"&&((i=x.message)!=null&&i.content)&&(this._emit("content",g.delta.content,x.message.content),this._emit("content.delta",{delta:g.delta.content,snapshot:x.message.content,parsed:x.message.parsed})),g.delta.refusal!=null&&((a=x.message)==null?void 0:a.role)==="assistant"&&((o=x.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:g.delta.refusal,snapshot:x.message.refusal}),((l=g.logprobs)==null?void 0:l.content)!=null&&((u=x.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=g.logprobs)==null?void 0:c.content,snapshot:((d=x.logprobs)==null?void 0:d.content)??[]}),((f=g.logprobs)==null?void 0:f.refusal)!=null&&((m=x.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(w=g.logprobs)==null?void 0:w.refusal,snapshot:((v=x.logprobs)==null?void 0:v.refusal)??[]});const _=k(this,_e,"m",hl).call(this,x);x.finish_reason&&(k(this,_e,"m",Pd).call(this,x),_.current_tool_call_index!=null&&k(this,_e,"m",Td).call(this,x,_.current_tool_call_index));for(const b of g.delta.tool_calls??[])_.current_tool_call_index!==b.index&&(k(this,_e,"m",Pd).call(this,x),_.current_tool_call_index!=null&&k(this,_e,"m",Td).call(this,x,_.current_tool_call_index)),_.current_tool_call_index=b.index;for(const b of g.delta.tool_calls??[]){const C=(S=x.message.tool_calls)==null?void 0:S[b.index];C!=null&&C.type&&((C==null?void 0:C.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=C.function)==null?void 0:y.name,index:b.index,arguments:C.function.arguments,parsed_arguments:C.function.parsed_arguments,arguments_delta:((p=b.function)==null?void 0:p.arguments)??""}):(C==null||C.type,void 0))}}},Td=function(n,r){var a,o,l;if(k(this,_e,"m",hl).call(this,n).done_tool_calls.has(r))return;const i=(a=n.message.tool_calls)==null?void 0:a[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(o=k(this,vn,"f"))==null?void 0:o.tools)==null?void 0:l.find(c=>Mu(c)&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:wo(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Pd=function(n){var s,i;const r=k(this,_e,"m",hl).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=k(this,_e,"m",Ad).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},ml=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");const n=k(this,Vn,"f");if(!n)throw new V("request ended without sending any chunks");return z(this,Vn,void 0),z(this,cs,[]),kj(n,k(this,vn,"f"))},Ad=function(){var r;const n=(r=k(this,vn,"f"))==null?void 0:r.response_format;return xp(n)?n:null},dv=function(n){var r,s,i,a;let o=k(this,Vn,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=z(this,Vn,{...u,choices:[]});for(const{delta:c,finish_reason:d,index:f,logprobs:m=null,...w}of n.choices){let v=o.choices[f];if(v||(v=o.choices[f]={finish_reason:d,index:f,message:{},logprobs:m,...w}),m)if(!v.logprobs)v.logprobs=Object.assign({},m);else{const{content:b,refusal:C,...T}=m;Object.assign(v.logprobs,T),b&&((r=v.logprobs).content??(r.content=[]),v.logprobs.content.push(...b)),C&&((s=v.logprobs).refusal??(s.refusal=[]),v.logprobs.refusal.push(...C))}if(d&&(v.finish_reason=d,k(this,vn,"f")&&yb(k(this,vn,"f")))){if(d==="length")throw new JS;if(d==="content_filter")throw new ZS}if(Object.assign(v,w),!c)continue;const{content:S,refusal:y,function_call:p,role:g,tool_calls:x,..._}=c;if(Object.assign(v.message,_),y&&(v.message.refusal=(v.message.refusal||"")+y),g&&(v.message.role=g),p&&(v.message.function_call?(p.name&&(v.message.function_call.name=p.name),p.arguments&&((i=v.message.function_call).arguments??(i.arguments=""),v.message.function_call.arguments+=p.arguments)):v.message.function_call=p),S&&(v.message.content=(v.message.content||"")+S,!v.message.refusal&&k(this,_e,"m",Ad).call(this)&&(v.message.parsed=cv(v.message.content))),x){v.message.tool_calls||(v.message.tool_calls=[]);for(const{index:b,id:C,type:T,function:I,...R}of x){const O=(a=v.message.tool_calls)[b]??(a[b]={});Object.assign(O,R),C&&(O.id=C),T&&(O.type=T),I&&(O.function??(O.function={name:I.name??"",arguments:""})),I!=null&&I.name&&(O.function.name=I.name),I!=null&&I.arguments&&(O.function.arguments+=I.arguments,pj(k(this,vn,"f"),O)&&(O.function.parsed_arguments=cv(O.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new dn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function kj(t,e){const{id:n,choices:r,created:s,model:i,system_fingerprint:a,...o}=t,l={...o,id:n,choices:r.map(({message:u,finish_reason:c,index:d,logprobs:f,...m})=>{if(!c)throw new V(`missing finish_reason for choice ${d}`);const{content:w=null,function_call:v,tool_calls:S,...y}=u,p=u.role;if(!p)throw new V(`missing role for choice ${d}`);if(v){const{arguments:g,name:x}=v;if(g==null)throw new V(`missing function_call.arguments for choice ${d}`);if(!x)throw new V(`missing function_call.name for choice ${d}`);return{...m,message:{content:w,function_call:{arguments:g,name:x},role:p,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:f}}return S?{...m,index:d,finish_reason:c,logprobs:f,message:{...y,role:p,content:w,refusal:u.refusal??null,tool_calls:S.map((g,x)=>{const{function:_,type:b,id:C,...T}=g,{arguments:I,name:R,...O}=_||{};if(C==null)throw new V(`missing choices[${d}].tool_calls[${x}].id
${pl(t)}`);if(b==null)throw new V(`missing choices[${d}].tool_calls[${x}].type
${pl(t)}`);if(R==null)throw new V(`missing choices[${d}].tool_calls[${x}].function.name
${pl(t)}`);if(I==null)throw new V(`missing choices[${d}].tool_calls[${x}].function.arguments
${pl(t)}`);return{...T,id:C,type:b,function:{...O,name:R,arguments:I}}})}}:{...m,message:{...y,content:w,role:p,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:f}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return fj(l,e)}function pl(t){return JSON.stringify(t)}class Du extends Za{static fromReadableStream(e){const n=new Du(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,r){const s=new Du(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}}let kp=class extends F{constructor(){super(...arguments),this.messages=new gb(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(M`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(M`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/chat/completions",we,{query:e,...n})}delete(e,n){return this._client.delete(M`/chat/completions/${e}`,n)}parse(e,n){return gj(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>_p(r,e))}runTools(e,n){return e.stream?Du.runTools(this._client,e,n):bp.runTools(this._client,e,n)}stream(e,n){return Za.createChatCompletion(this._client,e,n)}};kp.Messages=gb;class Cp extends F{constructor(){super(...arguments),this.completions=new kp(this._client)}}Cp.Completions=kp;const Lb=Symbol("brand.privateNullableHeaders");function*Cj(t){if(!t)return;if(Lb in t){const{values:r,nulls:s}=t;yield*r.entries();for(const i of s)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():X0(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=X0(r[1])?r[1]:[r[1]];let a=!1;for(const o of i)o!==void 0&&(e&&!a&&(a=!0,yield[s,null]),yield[s,o])}}const $=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[i,a]of Cj(r)){const o=i.toLowerCase();s.has(o)||(e.delete(i),s.add(o)),a===null?(e.delete(i),n.add(o)):(e.append(i,a),n.delete(o))}}return{[Lb]:!0,values:e,nulls:n}};class $b extends F{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:$([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class Fb extends F{create(e,n){return this._client.post("/audio/transcriptions",ns({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class Vb extends F{create(e,n){return this._client.post("/audio/translations",ns({body:e,...n,__metadata:{model:e.model}},this._client))}}class xo extends F{constructor(){super(...arguments),this.transcriptions=new Fb(this._client),this.translations=new Vb(this._client),this.speech=new $b(this._client)}}xo.Transcriptions=Fb;xo.Translations=Vb;xo.Speech=$b;class Bb extends F{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(M`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",we,{query:e,...n})}cancel(e,n){return this._client.post(M`/batches/${e}/cancel`,n)}}class Ub extends F{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(M`/assistants/${e}`,{...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(M`/assistants/${e}`,{body:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/assistants",we,{query:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(M`/assistants/${e}`,{...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let zb=class extends F{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}};class Wb extends F{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let gc=class extends F{constructor(){super(...arguments),this.sessions=new zb(this._client),this.transcriptionSessions=new Wb(this._client)}};gc.Sessions=zb;gc.TranscriptionSessions=Wb;class Hb extends F{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:$([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}cancel(e,n){return this._client.post(M`/chatkit/sessions/${e}/cancel`,{...n,headers:$([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}}let qb=class extends F{retrieve(e,n){return this._client.get(M`/chatkit/threads/${e}`,{...n,headers:$([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",Ru,{query:e,...n,headers:$([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(M`/chatkit/threads/${e}`,{...n,headers:$([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}listItems(e,n={},r){return this._client.getAPIList(M`/chatkit/threads/${e}/items`,Ru,{query:n,...r,headers:$([{"OpenAI-Beta":"chatkit_beta=v1"},r==null?void 0:r.headers])})}};class yc extends F{constructor(){super(...arguments),this.sessions=new Hb(this._client),this.threads=new qb(this._client)}}yc.Sessions=Hb;yc.Threads=qb;class Kb extends F{create(e,n,r){return this._client.post(M`/threads/${e}/messages`,{body:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{thread_id:s}=n;return this._client.get(M`/threads/${s}/messages/${e}`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:s,...i}=n;return this._client.post(M`/threads/${s}/messages/${e}`,{body:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(M`/threads/${e}/messages`,we,{query:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{thread_id:s}=n;return this._client.delete(M`/threads/${s}/messages/${e}`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Gb extends F{retrieve(e,n,r){const{thread_id:s,run_id:i,...a}=n;return this._client.get(M`/threads/${s}/runs/${i}/steps/${e}`,{query:a,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n,r){const{thread_id:s,...i}=n;return this._client.getAPIList(M`/threads/${s}/runs/${e}/steps`,we,{query:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const Ej=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};var Rd={};const ds=t=>{var e,n,r,s;if(typeof globalThis.process<"u")return((e=Rd==null?void 0:Rd[t])==null?void 0:e.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};var De,Fr,wh,an,Ul,Wt,Vr,$s,Ir,Lu,yt,zl,Wl,ka,la,ua,fv,hv,mv,pv,gv,yv,vv;class Ca extends Sp{constructor(){super(...arguments),De.add(this),wh.set(this,[]),an.set(this,{}),Ul.set(this,{}),Wt.set(this,void 0),Vr.set(this,void 0),$s.set(this,void 0),Ir.set(this,void 0),Lu.set(this,void 0),yt.set(this,void 0),zl.set(this,void 0),Wl.set(this,void 0),ka.set(this,void 0)}[(wh=new WeakMap,an=new WeakMap,Ul=new WeakMap,Wt=new WeakMap,Vr=new WeakMap,$s=new WeakMap,Ir=new WeakMap,Lu=new WeakMap,yt=new WeakMap,zl=new WeakMap,Wl=new WeakMap,ka=new WeakMap,De=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Fr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=dn.fromReadableStream(e,this.controller);for await(const a of s)k(this,De,"m",la).call(this,a);if((i=s.controller.signal)!=null&&i.aborted)throw new It;return this._addRun(k(this,De,"m",ua).call(this))}toReadableStream(){return new dn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s){const i=new Fr;return i._run(()=>i._runToolAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.submitToolOutputs(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)k(this,De,"m",la).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new It;return this._addRun(k(this,De,"m",ua).call(this))}static createThreadAssistantStream(e,n,r){const s=new Fr;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const i=new Fr;return i._run(()=>i._runAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return k(this,zl,"f")}currentRun(){return k(this,Wl,"f")}currentMessageSnapshot(){return k(this,Wt,"f")}currentRunStepSnapshot(){return k(this,ka,"f")}async finalRunSteps(){return await this.done(),Object.values(k(this,an,"f"))}async finalMessages(){return await this.done(),Object.values(k(this,Ul,"f"))}async finalRun(){if(await this.done(),!k(this,Vr,"f"))throw Error("Final run was not received.");return k(this,Vr,"f")}async _createThreadAssistantStream(e,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of a)k(this,De,"m",la).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new It;return this._addRun(k(this,De,"m",ua).call(this))}async _createAssistantStream(e,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await e.create(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)k(this,De,"m",la).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new It;return this._addRun(k(this,De,"m",ua).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let i=e[r];if(i==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(Sd(i)&&Sd(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!Sd(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(a):i[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);e[r]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s){return await this._createToolAssistantStream(n,e,r,s)}}Fr=Ca,la=function(e){if(!this.ended)switch(z(this,zl,e),k(this,De,"m",mv).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":k(this,De,"m",vv).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":k(this,De,"m",hv).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":k(this,De,"m",fv).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ua=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");if(!k(this,Vr,"f"))throw Error("Final run has not been received");return k(this,Vr,"f")},fv=function(e){const[n,r]=k(this,De,"m",gv).call(this,e,k(this,Wt,"f"));z(this,Wt,n),k(this,Ul,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=n.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=k(this,$s,"f")){if(k(this,Ir,"f"))switch(k(this,Ir,"f").type){case"text":this._emit("textDone",k(this,Ir,"f").text,k(this,Wt,"f"));break;case"image_file":this._emit("imageFileDone",k(this,Ir,"f").image_file,k(this,Wt,"f"));break}z(this,$s,s.index)}z(this,Ir,n.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(k(this,$s,"f")!==void 0){const s=e.data.content[k(this,$s,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,k(this,Wt,"f"));break;case"text":this._emit("textDone",s.text,k(this,Wt,"f"));break}}k(this,Wt,"f")&&this._emit("messageDone",e.data),z(this,Wt,void 0)}},hv=function(e){const n=k(this,De,"m",pv).call(this,e);switch(z(this,ka,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==k(this,Lu,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(k(this,yt,"f")&&this._emit("toolCallDone",k(this,yt,"f")),z(this,Lu,i.index),z(this,yt,n.step_details.tool_calls[i.index]),k(this,yt,"f")&&this._emit("toolCallCreated",k(this,yt,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":z(this,ka,void 0),e.data.step_details.type=="tool_calls"&&k(this,yt,"f")&&(this._emit("toolCallDone",k(this,yt,"f")),z(this,yt,void 0)),this._emit("runStepDone",e.data,n);break}},mv=function(e){k(this,wh,"f").push(e),this._emit("event",e)},pv=function(e){switch(e.event){case"thread.run.step.created":return k(this,an,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=k(this,an,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=Fr.accumulateDelta(n,r.delta);k(this,an,"f")[e.data.id]=s}return k(this,an,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":k(this,an,"f")[e.data.id]=e.data;break}if(k(this,an,"f")[e.data.id])return k(this,an,"f")[e.data.id];throw new Error("No snapshot available")},gv=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=k(this,De,"m",yv).call(this,i,a)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},yv=function(e,n){return Fr.accumulateDelta(n,e)},vv=function(e){switch(z(this,Wl,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":z(this,Vr,e.data),k(this,yt,"f")&&(this._emit("toolCallDone",k(this,yt,"f")),z(this,yt,void 0));break}};let Ep=class extends F{constructor(){super(...arguments),this.steps=new Gb(this._client)}create(e,n,r){const{include:s,...i}=n;return this._client.post(M`/threads/${e}/runs`,{query:{include:s},body:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(e,n,r){const{thread_id:s}=n;return this._client.get(M`/threads/${s}/runs/${e}`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:s,...i}=n;return this._client.post(M`/threads/${s}/runs/${e}`,{body:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(M`/threads/${e}/runs`,we,{query:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{thread_id:s}=n;return this._client.post(M`/threads/${s}/runs/${e}/cancel`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(s.id,{thread_id:e},r)}createAndStream(e,n,r){return Ca.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){var i;const s=$([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await vo(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,n,r){return Ca.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r){const{thread_id:s,...i}=n;return this._client.post(M`/threads/${s}/runs/${e}/submit_tool_outputs`,{body:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,r){const s=await this.submitToolOutputs(e,n,r);return await this.poll(s.id,n,r)}submitToolOutputsStream(e,n,r){return Ca.createToolAssistantStream(e,this._client.beta.threads.runs,n,r)}};Ep.Steps=Gb;class vc extends F{constructor(){super(...arguments),this.runs=new Ep(this._client),this.messages=new Kb(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(M`/threads/${e}`,{...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(M`/threads/${e}`,{body:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n){return this._client.delete(M`/threads/${e}`,{...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(e,n){return Ca.createThreadAssistantStream(e,this._client.beta.threads,n)}}vc.Runs=Ep;vc.Messages=Kb;class vi extends F{constructor(){super(...arguments),this.realtime=new gc(this._client),this.chatkit=new yc(this._client),this.assistants=new Ub(this._client),this.threads=new vc(this._client)}}vi.Realtime=gc;vi.ChatKit=yc;vi.Assistants=Ub;vi.Threads=vc;class Xb extends F{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class Qb extends F{retrieve(e,n,r){const{container_id:s}=n;return this._client.get(M`/containers/${s}/files/${e}/content`,{...r,headers:$([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let Tp=class extends F{constructor(){super(...arguments),this.content=new Qb(this._client)}create(e,n,r){return this._client.post(M`/containers/${e}/files`,ns({body:n,...r},this._client))}retrieve(e,n,r){const{container_id:s}=n;return this._client.get(M`/containers/${s}/files/${e}`,r)}list(e,n={},r){return this._client.getAPIList(M`/containers/${e}/files`,we,{query:n,...r})}delete(e,n,r){const{container_id:s}=n;return this._client.delete(M`/containers/${s}/files/${e}`,{...r,headers:$([{Accept:"*/*"},r==null?void 0:r.headers])})}};Tp.Content=Qb;class Pp extends F{constructor(){super(...arguments),this.files=new Tp(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(M`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",we,{query:e,...n})}delete(e,n){return this._client.delete(M`/containers/${e}`,{...n,headers:$([{Accept:"*/*"},n==null?void 0:n.headers])})}}Pp.Files=Tp;class Yb extends F{create(e,n,r){const{include:s,...i}=n;return this._client.post(M`/conversations/${e}/items`,{query:{include:s},body:i,...r})}retrieve(e,n,r){const{conversation_id:s,...i}=n;return this._client.get(M`/conversations/${s}/items/${e}`,{query:i,...r})}list(e,n={},r){return this._client.getAPIList(M`/conversations/${e}/items`,Ru,{query:n,...r})}delete(e,n,r){const{conversation_id:s}=n;return this._client.delete(M`/conversations/${s}/items/${e}`,r)}}class Ap extends F{constructor(){super(...arguments),this.items=new Yb(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(M`/conversations/${e}`,n)}update(e,n,r){return this._client.post(M`/conversations/${e}`,{body:n,...r})}delete(e,n){return this._client.delete(M`/conversations/${e}`,n)}}Ap.Items=Yb;class Jb extends F{create(e,n){const r=!!e.encoding_format;let s=r?e.encoding_format:"base64";r&&Oe(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const i=this._client.post("/embeddings",{body:{...e,encoding_format:s},...n});return r?i:(Oe(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const l=o.embedding;o.embedding=Ej(l)}),a)))}}class Zb extends F{retrieve(e,n,r){const{eval_id:s,run_id:i}=n;return this._client.get(M`/evals/${s}/runs/${i}/output_items/${e}`,r)}list(e,n,r){const{eval_id:s,...i}=n;return this._client.getAPIList(M`/evals/${s}/runs/${e}/output_items`,we,{query:i,...r})}}class Rp extends F{constructor(){super(...arguments),this.outputItems=new Zb(this._client)}create(e,n,r){return this._client.post(M`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){const{eval_id:s}=n;return this._client.get(M`/evals/${s}/runs/${e}`,r)}list(e,n={},r){return this._client.getAPIList(M`/evals/${e}/runs`,we,{query:n,...r})}delete(e,n,r){const{eval_id:s}=n;return this._client.delete(M`/evals/${s}/runs/${e}`,r)}cancel(e,n,r){const{eval_id:s}=n;return this._client.post(M`/evals/${s}/runs/${e}`,r)}}Rp.OutputItems=Zb;class Mp extends F{constructor(){super(...arguments),this.runs=new Rp(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(M`/evals/${e}`,n)}update(e,n,r){return this._client.post(M`/evals/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/evals",we,{query:e,...n})}delete(e,n){return this._client.delete(M`/evals/${e}`,n)}}Mp.Runs=Rp;let ek=class extends F{create(e,n){return this._client.post("/files",ns({body:e,...n},this._client))}retrieve(e,n){return this._client.get(M`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",we,{query:e,...n})}delete(e,n){return this._client.delete(M`/files/${e}`,n)}content(e,n){return this._client.get(M`/files/${e}/content`,{...n,headers:$([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(e);for(;!a.status||!s.has(a.status);)if(await vo(n),a=await this.retrieve(e),Date.now()-i>r)throw new gp({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return a}};class tk extends F{}let nk=class extends F{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Np extends F{constructor(){super(...arguments),this.graders=new nk(this._client)}}Np.Graders=nk;class rk extends F{create(e,n,r){return this._client.getAPIList(M`/fine_tuning/checkpoints/${e}/permissions`,pc,{body:n,method:"post",...r})}retrieve(e,n={},r){return this._client.get(M`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}delete(e,n,r){const{fine_tuned_model_checkpoint:s}=n;return this._client.delete(M`/fine_tuning/checkpoints/${s}/permissions/${e}`,r)}}let Ip=class extends F{constructor(){super(...arguments),this.permissions=new rk(this._client)}};Ip.Permissions=rk;class sk extends F{list(e,n={},r){return this._client.getAPIList(M`/fine_tuning/jobs/${e}/checkpoints`,we,{query:n,...r})}}class jp extends F{constructor(){super(...arguments),this.checkpoints=new sk(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(M`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",we,{query:e,...n})}cancel(e,n){return this._client.post(M`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return this._client.getAPIList(M`/fine_tuning/jobs/${e}/events`,we,{query:n,...r})}pause(e,n){return this._client.post(M`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(M`/fine_tuning/jobs/${e}/resume`,n)}}jp.Checkpoints=sk;class wi extends F{constructor(){super(...arguments),this.methods=new tk(this._client),this.jobs=new jp(this._client),this.checkpoints=new Ip(this._client),this.alpha=new Np(this._client)}}wi.Methods=tk;wi.Jobs=jp;wi.Checkpoints=Ip;wi.Alpha=Np;class ik extends F{}class Op extends F{constructor(){super(...arguments),this.graderModels=new ik(this._client)}}Op.GraderModels=ik;class ak extends F{createVariation(e,n){return this._client.post("/images/variations",ns({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",ns({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class ok extends F{retrieve(e,n){return this._client.get(M`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",pc,e)}delete(e,n){return this._client.delete(M`/models/${e}`,n)}}class lk extends F{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class uk extends F{accept(e,n,r){return this._client.post(M`/realtime/calls/${e}/accept`,{body:n,...r,headers:$([{Accept:"*/*"},r==null?void 0:r.headers])})}hangup(e,n){return this._client.post(M`/realtime/calls/${e}/hangup`,{...n,headers:$([{Accept:"*/*"},n==null?void 0:n.headers])})}refer(e,n,r){return this._client.post(M`/realtime/calls/${e}/refer`,{body:n,...r,headers:$([{Accept:"*/*"},r==null?void 0:r.headers])})}reject(e,n={},r){return this._client.post(M`/realtime/calls/${e}/reject`,{body:n,...r,headers:$([{Accept:"*/*"},r==null?void 0:r.headers])})}}class ck extends F{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class wc extends F{constructor(){super(...arguments),this.clientSecrets=new ck(this._client),this.calls=new uk(this._client)}}wc.ClientSecrets=ck;wc.Calls=uk;function Tj(t,e){return!e||!Aj(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:dk(t,e)}function dk(t,e){const n=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:Nj(e,s)};if(s.type==="message"){const i=s.content.map(a=>a.type==="output_text"?{...a,parsed:Pj(e,a.text)}:a);return{...s,content:i}}return s}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||xh(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function Pj(t,e){var n,r,s,i;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=t.text)==null?void 0:s.format)?((i=t.text)==null?void 0:i.format).$parseRaw(e):JSON.parse(e)}function Aj(t){var e;return!!xp((e=t.text)==null?void 0:e.format)}function Rj(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function Mj(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function Nj(t,e){const n=Mj(t.tools??[],e.name);return{...e,...e,parsed_arguments:Rj(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function xh(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}var fs,gl,Bn,yl,wv,xv,_v,Sv;class Dp extends Sp{constructor(e){super(),fs.add(this),gl.set(this,void 0),Bn.set(this,void 0),yl.set(this,void 0),z(this,gl,e)}static createResponse(e,n,r){const s=new Dp(n);return s._run(()=>s._createOrRetrieveResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(e,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),k(this,fs,"m",wv).call(this);let i,a=null;"response_id"in n?(i=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):i=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of i)k(this,fs,"m",xv).call(this,l,a);if((o=i.controller.signal)!=null&&o.aborted)throw new It;return k(this,fs,"m",_v).call(this)}[(gl=new WeakMap,Bn=new WeakMap,yl=new WeakMap,fs=new WeakSet,wv=function(){this.ended||z(this,Bn,void 0)},xv=function(n,r){if(this.ended)return;const s=(a,o)=>{(r==null||o.sequence_number>r)&&this._emit(a,o)},i=k(this,fs,"m",Sv).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const a=i.output[n.output_index];if(!a)throw new V(`missing output at index ${n.output_index}`);if(a.type==="message"){const o=a.content[n.content_index];if(!o)throw new V(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new V(`expected content to be 'output_text', got ${o.type}`);s("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=i.output[n.output_index];if(!a)throw new V(`missing output at index ${n.output_index}`);a.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:s(n.type,n);break}},_v=function(){if(this.ended)throw new V("stream has ended, this shouldn't happen");const n=k(this,Bn,"f");if(!n)throw new V("request ended without sending any events");z(this,Bn,void 0);const r=Ij(n,k(this,gl,"f"));return z(this,yl,r),r},Sv=function(n){var s;let r=k(this,Bn,"f");if(!r){if(n.type!=="response.created")throw new V(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=z(this,Bn,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const i=r.output[n.output_index];if(!i)throw new V(`missing output at index ${n.output_index}`);const a=i.type,o=n.part;a==="message"&&o.type!=="reasoning_text"?i.content.push(o):a==="reasoning"&&o.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(o));break}case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new V(`missing output at index ${n.output_index}`);if(i.type==="message"){const a=i.content[n.content_index];if(!a)throw new V(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new V(`expected content to be 'output_text', got ${a.type}`);a.text+=n.delta}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new V(`missing output at index ${n.output_index}`);i.type==="function_call"&&(i.arguments+=n.delta);break}case"response.reasoning_text.delta":{const i=r.output[n.output_index];if(!i)throw new V(`missing output at index ${n.output_index}`);if(i.type==="reasoning"){const a=(s=i.content)==null?void 0:s[n.content_index];if(!a)throw new V(`missing content at index ${n.content_index}`);if(a.type!=="reasoning_text")throw new V(`expected content to be 'reasoning_text', got ${a.type}`);a.text+=n.delta}break}case"response.completed":{z(this,Bn,n.response);break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=k(this,yl,"f");if(!e)throw new V("stream ended without producing a ChatCompletion");return e}}function Ij(t,e){return Tj(t,e)}class fk extends F{list(e,n={},r){return this._client.getAPIList(M`/responses/${e}/input_items`,we,{query:n,...r})}}class hk extends F{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class xc extends F{constructor(){super(...arguments),this.inputItems=new fk(this._client),this.inputTokens=new hk(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&xh(r),r))}retrieve(e,n={},r){return this._client.get(M`/responses/${e}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&xh(s),s))}delete(e,n){return this._client.delete(M`/responses/${e}`,{...n,headers:$([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>dk(r,e))}stream(e,n){return Dp.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(M`/responses/${e}/cancel`,n)}compact(e,n){return this._client.post("/responses/compact",{body:e,...n})}}xc.InputItems=fk;xc.InputTokens=hk;class mk extends F{create(e,n,r){return this._client.post(M`/uploads/${e}/parts`,ns({body:n,...r},this._client))}}class Lp extends F{constructor(){super(...arguments),this.parts=new mk(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(M`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(M`/uploads/${e}/complete`,{body:n,...r})}}Lp.Parts=mk;const jj=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};class pk extends F{create(e,n,r){return this._client.post(M`/vector_stores/${e}/file_batches`,{body:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:s}=n;return this._client.get(M`/vector_stores/${s}/file_batches/${e}`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{vector_store_id:s}=n;return this._client.post(M`/vector_stores/${s}/file_batches/${e}/cancel`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r){const{vector_store_id:s,...i}=n;return this._client.getAPIList(M`/vector_stores/${s}/file_batches/${e}/files`,we,{query:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(e,n,r){var i;const s=$([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(n,{vector_store_id:e},{...r,headers:s}).withResponse();switch(a.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await vo(l);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,a=Math.min(i,n.length),o=this._client,l=n.values(),u=[...r];async function c(f){for(let m of f){const w=await o.files.create({file:m,purpose:"assistants"},s);u.push(w.id)}}const d=Array(a).fill(l).map(c);return await jj(d),await this.createAndPoll(e,{file_ids:u})}}class gk extends F{create(e,n,r){return this._client.post(M`/vector_stores/${e}/files`,{body:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:s}=n;return this._client.get(M`/vector_stores/${s}/files/${e}`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{vector_store_id:s,...i}=n;return this._client.post(M`/vector_stores/${s}/files/${e}`,{body:i,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(M`/vector_stores/${e}/files`,we,{query:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{vector_store_id:s}=n;return this._client.delete(M`/vector_stores/${s}/files/${e}`,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){var i;const s=$([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:e},{...r,headers:s}).withResponse(),o=a.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=a.response.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await vo(l);break;case"failed":case"completed":return o}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}content(e,n,r){const{vector_store_id:s}=n;return this._client.getAPIList(M`/vector_stores/${s}/files/${e}/content`,pc,{...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class _c extends F{constructor(){super(...arguments),this.files=new gk(this._client),this.fileBatches=new pk(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(M`/vector_stores/${e}`,{...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(M`/vector_stores/${e}`,{body:n,...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",we,{query:e,...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(M`/vector_stores/${e}`,{...n,headers:$([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(e,n,r){return this._client.getAPIList(M`/vector_stores/${e}/search`,pc,{body:n,method:"post",...r,headers:$([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}_c.Files=gk;_c.FileBatches=pk;class yk extends F{create(e,n){return this._client.post("/videos",ov({body:e,...n},this._client))}retrieve(e,n){return this._client.get(M`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",Ru,{query:e,...n})}delete(e,n){return this._client.delete(M`/videos/${e}`,n)}downloadContent(e,n={},r){return this._client.get(M`/videos/${e}/content`,{query:n,...r,headers:$([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}remix(e,n,r){return this._client.post(M`/videos/${e}/remix`,ov({body:n,...r},this._client))}}var vs,vk,Hl;class wk extends F{constructor(){super(...arguments),vs.add(this)}async unwrap(e,n,r=this._client.webhookSecret,s=300){return await this.verifySignature(e,n,r,s),JSON.parse(e)}async verifySignature(e,n,r=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");k(this,vs,"m",vk).call(this,r);const i=$([n]).values,a=k(this,vs,"m",Hl).call(this,i,"webhook-signature"),o=k(this,vs,"m",Hl).call(this,i,"webhook-timestamp"),l=k(this,vs,"m",Hl).call(this,i,"webhook-id"),u=parseInt(o,10);if(isNaN(u))throw new ta("Invalid webhook timestamp format");const c=Math.floor(Date.now()/1e3);if(c-u>s)throw new ta("Webhook timestamp is too old");if(u>c+s)throw new ta("Webhook timestamp is too new");const d=a.split(" ").map(v=>v.startsWith("v1,")?v.substring(3):v),f=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),m=l?`${l}.${o}.${e}`:`${o}.${e}`,w=await crypto.subtle.importKey("raw",f,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const v of d)try{const S=Buffer.from(v,"base64");if(await crypto.subtle.verify("HMAC",w,S,new TextEncoder().encode(m)))return}catch{continue}throw new ta("The given webhook signature does not match the expected signature")}}vs=new WeakSet,vk=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Hl=function(e,n){if(!e)throw new Error("Headers are required");const r=e.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var _h,$p,ql,xk;class G{constructor({baseURL:e=ds("OPENAI_BASE_URL"),apiKey:n=ds("OPENAI_API_KEY"),organization:r=ds("OPENAI_ORG_ID")??null,project:s=ds("OPENAI_PROJECT_ID")??null,webhookSecret:i=ds("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(_h.add(this),ql.set(this,void 0),this.completions=new Xb(this),this.chat=new Cp(this),this.embeddings=new Jb(this),this.files=new ek(this),this.images=new ak(this),this.audio=new xo(this),this.moderations=new lk(this),this.models=new ok(this),this.fineTuning=new wi(this),this.graders=new Op(this),this.vectorStores=new _c(this),this.webhooks=new wk(this),this.beta=new vi(this),this.batches=new Bb(this),this.uploads=new Lp(this),this.responses=new xc(this),this.realtime=new wc(this),this.conversations=new Ap(this),this.evals=new Mp(this),this.containers=new Pp(this),this.videos=new yk(this),n===void 0)throw new V("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const o={apiKey:n,organization:r,project:s,webhookSecret:i,...a,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&DI())throw new V(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=o.baseURL,this.timeout=o.timeout??$p.DEFAULT_TIMEOUT,this.logger=o.logger??console;const l="warn";this.logLevel=l,this.logLevel=iv(o.logLevel,"ClientOptions.logLevel",this)??iv(ds("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??BI(),z(this,ql,zI),this._options=o,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=s,this.webhookSecret=i}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return $([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return XI(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${gs}`}defaultIdempotencyKey(){return`stainless-node-retry-${zS()}`}makeStatusError(e,n,r,s){return Ve.generate(e,n,r,s)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(r){throw r instanceof V?r:new V(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new V(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,r){const s=!k(this,_h,"m",xk).call(this)&&r||this.baseURL,i=MI(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return NI(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>({method:e,path:n,...s})))}request(e,n=null){return new mc(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var y,p;const s=await e,i=s.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(s);const{req:a,url:o,timeout:l}=await this.buildRequest(s,{retryCount:i-n});await this.prepareRequest(a,{url:o,options:s});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),c=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(Oe(this).debug(`[${u}] sending request`,Nr({retryOfRequestLogID:r,method:s.method,url:o,options:s,headers:a.headers})),(y=s.signal)!=null&&y.aborted)throw new It;const f=new AbortController,m=await this.fetchWithTimeout(o,a,l,f).catch(uh),w=Date.now();if(m instanceof globalThis.Error){const g=`retrying, ${n} attempts remaining`;if((p=s.signal)!=null&&p.aborted)throw new It;const x=lh(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(n)return Oe(this).info(`[${u}] connection ${x?"timed out":"failed"} - ${g}`),Oe(this).debug(`[${u}] connection ${x?"timed out":"failed"} (${g})`,Nr({retryOfRequestLogID:r,url:o,durationMs:w-d,message:m.message})),this.retryRequest(s,n,r??u);throw Oe(this).info(`[${u}] connection ${x?"timed out":"failed"} - error; no more retries left`),Oe(this).debug(`[${u}] connection ${x?"timed out":"failed"} (error; no more retries left)`,Nr({retryOfRequestLogID:r,url:o,durationMs:w-d,message:m.message})),x?new gp:new fc({cause:m})}const v=[...m.headers.entries()].filter(([g])=>g==="x-request-id").map(([g,x])=>", "+g+": "+JSON.stringify(x)).join(""),S=`[${u}${c}${v}] ${a.method} ${o} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${w-d}ms`;if(!m.ok){const g=await this.shouldRetry(m);if(n&&g){const I=`retrying, ${n} attempts remaining`;return await UI(m.body),Oe(this).info(`${S} - ${I}`),Oe(this).debug(`[${u}] response error (${I})`,Nr({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:w-d})),this.retryRequest(s,n,r??u,m.headers)}const x=g?"error; no more retries left":"error; not retryable";Oe(this).info(`${S} - ${x}`);const _=await m.text().catch(I=>uh(I).message),b=OI(_),C=b?void 0:_;throw Oe(this).debug(`[${u}] response error (${x})`,Nr({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,message:C,durationMs:Date.now()-d})),this.makeStatusError(m.status,b,C,m.headers)}return Oe(this).info(S),Oe(this).debug(`[${u}] response start`,Nr({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:w-d})),{response:m,options:s,controller:f,requestLogID:u,retryOfRequestLogID:r,startTime:d}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new sj(this,r,e)}async fetchWithTimeout(e,n,r,s){const{signal:i,method:a,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r),u=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,c={signal:s.signal,...u?{duplex:"half"}:{},method:"GET",...o};a&&(c.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,c)}finally{clearTimeout(l)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){let i;const a=s==null?void 0:s.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(i=l)}const o=s==null?void 0:s.get("retry-after");if(o&&!i){const l=parseFloat(o);Number.isNaN(l)?i=Date.parse(o)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,l)}return await vo(i),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:s,path:i,query:a,defaultBaseURL:o}=r,l=this.buildURL(i,a,o);"timeout"in r&&jI("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:c}=this.buildBody({options:r}),d=await this.buildHeaders({options:e,method:s,bodyHeaders:u,retryCount:n});return{req:{method:s,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&c instanceof globalThis.ReadableStream&&{duplex:"half"},...c&&{body:c},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const a=$([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...VI(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=$([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:nb(e)}:k(this,ql,"f").call(this,{body:e,headers:r})}}$p=G,ql=new WeakMap,_h=new WeakSet,xk=function(){return this.baseURL!=="https://api.openai.com/v1"};G.OpenAI=$p;G.DEFAULT_TIMEOUT=6e5;G.OpenAIError=V;G.APIError=Ve;G.APIConnectionError=fc;G.APIConnectionTimeoutError=gp;G.APIUserAbortError=It;G.NotFoundError=KS;G.ConflictError=GS;G.RateLimitError=QS;G.BadRequestError=WS;G.AuthenticationError=HS;G.InternalServerError=YS;G.PermissionDeniedError=qS;G.UnprocessableEntityError=XS;G.InvalidWebhookSignatureError=ta;G.toFile=uj;G.Completions=Xb;G.Chat=Cp;G.Embeddings=Jb;G.Files=ek;G.Images=ak;G.Audio=xo;G.Moderations=lk;G.Models=ok;G.FineTuning=wi;G.Graders=Op;G.VectorStores=_c;G.Webhooks=wk;G.Beta=vi;G.Batches=Bb;G.Uploads=Lp;G.Responses=xc;G.Realtime=wc;G.Conversations=Ap;G.Evals=Mp;G.Containers=Pp;G.Videos=yk;var bv;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(bv||(bv={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kv;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(kv||(kv={}));var Cv;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Cv||(Cv={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=["user","model","function","system"];var Tv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Tv||(Tv={}));var Pv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Pv||(Pv={}));var Av;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Av||(Av={}));var Rv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(Rv||(Rv={}));var Ea;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Ea||(Ea={}));var Mv;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Mv||(Mv={}));var Nv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Nv||(Nv={}));var Iv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Iv||(Iv={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class hs extends He{constructor(e,n){super(e),this.response=n}}class _k extends He{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class dr extends He{}class Sk extends He{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="https://generativelanguage.googleapis.com",Dj="v1beta",Lj="0.24.1",$j="genai-js";var rs;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(rs||(rs={}));class Fj{constructor(e,n,r,s,i){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Dj;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Oj}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function Vj(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${$j}/${Lj}`),e.join(" ")}async function Bj(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Vj(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new dr(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new dr(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new dr(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function Uj(t,e,n,r,s,i){const a=new Fj(t,e,n,r,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},qj(i)),{method:"POST",headers:await Bj(a),body:s})}}async function _o(t,e,n,r,s,i={},a=fetch){const{url:o,fetchOptions:l}=await Uj(t,e,n,r,s,i);return zj(o,l,a)}async function zj(t,e,n=fetch){let r;try{r=await n(t,e)}catch(s){Wj(s,t)}return r.ok||await Hj(r,t),r}function Wj(t,e){let n=t;throw n.name==="AbortError"?(n=new Sk(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof _k||t instanceof dr||(n=new He(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Hj(t,e){let n="",r;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new _k(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function qj(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Kl(t.candidates[0]))throw new hs(`${qn(t)}`,t);return Kj(t)}else if(t.promptFeedback)throw new hs(`Text not available. ${qn(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Kl(t.candidates[0]))throw new hs(`${qn(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),jv(t)[0]}else if(t.promptFeedback)throw new hs(`Function call not available. ${qn(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Kl(t.candidates[0]))throw new hs(`${qn(t)}`,t);return jv(t)}else if(t.promptFeedback)throw new hs(`Function call not available. ${qn(t)}`,t)},t}function Kj(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const a of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function jv(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const a of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const Gj=[Ea.RECITATION,Ea.SAFETY,Ea.LANGUAGE];function Kl(t){return!!t.finishReason&&Gj.includes(t.finishReason)}function qn(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const i=t.candidates[0];Kl(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function eo(t){return this instanceof eo?(this.v=t,this):new eo(t)}function Xj(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(f){r[f]&&(s[f]=function(m){return new Promise(function(w,v){i.push([f,m,w,v])>1||o(f,m)})})}function o(f,m){try{l(r[f](m))}catch(w){d(i[0][3],w)}}function l(f){f.value instanceof eo?Promise.resolve(f.value.v).then(u,c):d(i[0][2],f)}function u(f){o("next",f)}function c(f){o("throw",f)}function d(f,m){f(m),i.shift(),i.length&&o(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Qj(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Zj(e),[r,s]=n.tee();return{stream:Jj(r),response:Yj(s)}}async function Yj(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return Fp(eO(e));e.push(s)}}function Jj(t){return Xj(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield eo(n.read());if(s)break;yield yield eo(Fp(r))}})}function Zj(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return e.read().then(({value:a,done:o})=>{if(o){if(s.trim()){r.error(new He("Failed to parse stream"));return}r.close();return}s+=a;let l=s.match(Ov),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new He(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),s=s.substring(l[0].length),l=s.match(Ov)}return i()}).catch(a=>{let o=a;throw o.stack=a.stack,o.name==="AbortError"?o=new Sk("Request aborted when reading from the stream"):o=new He("Error reading from the stream"),o})}}})}function eO(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let s=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const a={};for(const o of i.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),n.candidates[s].content.parts.push(a)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e,n,r){const s=await _o(e,rs.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return Qj(s)}async function kk(t,e,n,r){const i=await(await _o(e,rs.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Fp(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function to(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return tO(e)}function tO(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),s=!0):(e.parts.push(i),r=!0);if(r&&s)throw new He("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new He("No content is provided for sending chat message.");return r?e:n}function nO(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new dr("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(s)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const i=to(t);r.contents=[i]}return{generateContentRequest:r}}function Dv(t){let e;return t.contents?e=t:e={contents:[to(t)]},t.systemInstruction&&(e.systemInstruction=Ck(t.systemInstruction)),e}function rO(t){return typeof t=="string"||Array.isArray(t)?{content:to(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],sO={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function iO(t){let e=!1;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new He(`First content should be with role 'user', got ${r}`);if(!Ev.includes(r))throw new He(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Ev)}`);if(!Array.isArray(s))throw new He("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new He("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of s)for(const l of Lv)l in o&&(i[l]+=1);const a=sO[r];for(const o of Lv)if(!a.includes(o)&&i[o]>0)throw new He(`Content with role '${r}' can't contain '${o}' part`);e=!0}}function $v(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="SILENT_ERROR";class aO{constructor(e,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(iO(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,s,i,a,o,l;await this._sendPromise;const u=to(e),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>kk(this._apiKey,this.model,c,d)).then(m=>{var w;if($v(m.response)){this._history.push(u);const v=Object.assign({parts:[],role:"model"},(w=m.response.candidates)===null||w===void 0?void 0:w[0].content);this._history.push(v)}else{const v=qn(m.response);v&&console.warn(`sendMessage() was unsuccessful. ${v}. Inspect response object for details.`)}f=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,f}async sendMessageStream(e,n={}){var r,s,i,a,o,l;await this._sendPromise;const u=to(e),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),n),f=bk(this._apiKey,this.model,c,d);return this._sendPromise=this._sendPromise.then(()=>f).catch(m=>{throw new Error(Fv)}).then(m=>m.response).then(m=>{if($v(m)){this._history.push(u);const w=Object.assign({},m.candidates[0].content);w.role||(w.role="model"),this._history.push(w)}else{const w=qn(m);w&&console.warn(`sendMessageStream() was unsuccessful. ${w}. Inspect response object for details.`)}}).catch(m=>{m.message!==Fv&&console.error(m)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t,e,n,r){return(await _o(e,rs.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t,e,n,r){return(await _o(e,rs.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function uO(t,e,n,r){const s=n.requests.map(a=>Object.assign(Object.assign({},a),{model:e}));return(await _o(e,rs.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Ck(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const s=Dv(e),i=Object.assign(Object.assign({},this._requestOptions),n);return kk(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(e,n={}){var r;const s=Dv(e),i=Object.assign(Object.assign({},this._requestOptions),n);return bk(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(e){var n;return new aO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=nO(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return oO(this.apiKey,this.model,r,s)}async embedContent(e,n={}){const r=rO(e),s=Object.assign(Object.assign({},this._requestOptions),n);return lO(this.apiKey,this.model,r,s)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return uO(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new He("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Vv(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new dr("Cached content must contain a `name` field.");if(!e.model)throw new dr("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const a of s)if(n!=null&&n[a]&&e[a]&&(n==null?void 0:n[a])!==e[a]){if(a==="model"){const o=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(o===l)continue}throw new dr(`Different value for "${a}" specified in modelParams (${n[a]}) and cachedContent (${e[a]})`)}const i=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Vv(this.apiKey,i,r)}}let Ek=null,Tk=null;function UD(t){Ek=new yo({apiKey:t,dangerouslyAllowBrowser:!0})}function zD(t){new G({apiKey:t,dangerouslyAllowBrowser:!0})}function WD(t){Tk=new cO(t)}function Md(){return Ek!==null||Tk!==null}const dO=({className:t,variant:e="compact"})=>{var d;const n=Ge(f=>f.errorState),s=n.errors.filter(f=>!f.resolved).length,a=Md()?s>3?"error":s>0?"warning":"healthy":"warning",l={healthy:{color:"text-aurora-neon",bgColor:"bg-aurora-neon/10",borderColor:"border-aurora-neon/30",icon:ac,label:"Systems Nominal",glow:"shadow-glow-soft"},warning:{color:"text-warning",bgColor:"bg-warning/10",borderColor:"border-warning/30",icon:Jf,label:s>0?`${s} Issue${s>1?"s":""}`:"API Not Configured",glow:""},error:{color:"text-critical",bgColor:"bg-critical/10",borderColor:"border-critical/30",icon:Jf,label:`${s} Errors`,glow:""}}[a],u=l.icon,c=()=>{if(!n.lastError)return null;const f=new Date(n.lastError.timestamp),w=new Date().getTime()-f.getTime(),v=Math.floor(w/6e4);if(v<1)return"Just now";if(v<60)return`${v}m ago`;const S=Math.floor(v/60);return S<24?`${S}h ago`:f.toLocaleDateString()};return e==="compact"?h.jsxs("div",{className:Ee("flex items-center gap-2 px-2 py-1.5 rounded-lg",l.bgColor,"border",l.borderColor,l.glow,"transition-all duration-400 ease-aurora",t),children:[h.jsx(u,{size:14,className:l.color}),h.jsx("span",{className:Ee("text-[10px] font-medium",l.color),children:l.label}),s>0&&h.jsx("span",{className:Ee("w-4 h-4 flex items-center justify-center rounded-full text-[9px] font-bold",a==="error"?"bg-critical text-white":"bg-warning text-black"),children:s})]}):h.jsxs("div",{className:Ee("p-3 rounded-lg",l.bgColor,"border",l.borderColor,l.glow,"transition-all duration-400 ease-aurora",t),children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(pM,{size:16,className:l.color}),h.jsx("span",{className:Ee("text-sm font-medium",l.color),children:"System Health"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:Ee("w-2 h-2 rounded-full animate-pulse",a==="healthy"&&"bg-aurora-neon",a==="warning"&&"bg-warning",a==="error"&&"bg-critical")}),h.jsx("span",{className:"text-xs text-gray-400",children:l.label})]})]}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsxs("div",{className:"flex items-center justify-between text-xs",children:[h.jsx("span",{className:"text-gray-500",children:"AI Provider"}),h.jsx("span",{className:Md()?"text-aurora-neon":"text-warning",children:Md()?"Connected":"Not Configured"})]}),n.lastError&&h.jsxs("div",{className:"flex items-center justify-between text-xs",children:[h.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[h.jsx(tp,{size:10}),"Last Issue"]}),h.jsx("span",{className:"text-gray-400",children:c()})]}),s>0&&h.jsx("div",{className:"mt-2 p-2 rounded bg-black/20 border border-white/5",children:h.jsx("p",{className:"text-[10px] text-gray-400 truncate",children:((d=n.lastError)==null?void 0:d.message)||"Unknown error"})})]})]})},fO=[{id:"dashboard",label:"Growth Hub",icon:sp},{id:"trends",label:"Trend Radar",icon:lc},{id:"content",label:"Content Lab",icon:nS},{id:"templates",label:"Templates",icon:J_},{id:"hashtags",label:"Hashtags",icon:np},{id:"media",label:"Media Library",icon:eS},{id:"drafts",label:"Queue",icon:oc},{id:"published",label:"Published",icon:ac},{id:"calendar",label:"Calendar",icon:ep},{id:"video",label:"Video Lab",icon:ap},{id:"budget",label:"Budget",icon:RM},{id:"automation",label:"Automation",icon:ip}];function hO({activeView:t,onViewChange:e,onShowShortcuts:n,onShowNotifications:r}){const s=Ge(i=>i.logout);return h.jsxs(pe.aside,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3},className:"fixed left-0 top-0 h-screen w-64 glass-panel border-r border-glass-border flex flex-col z-50",children:[h.jsx("div",{className:"p-5 border-b border-glass-border",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg gradient-bg flex items-center justify-center shadow-glow-primary",children:h.jsx(op,{size:20,className:"text-white"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold gradient-text",children:"SOCI"}),h.jsx("p",{className:"text-xs text-gray-500",children:"AI Growth Engine"})]})]})}),h.jsx("nav",{className:"flex-1 p-3 overflow-y-auto",children:h.jsx("ul",{className:"space-y-1",children:fO.map(i=>{const a=t===i.id,o=i.icon;return h.jsx("li",{children:h.jsxs("button",{onClick:()=>e(i.id),className:`
                    w-full flex items-center gap-3 px-3 py-2.5 rounded-lg
                    transition-all duration-400 ease-aurora text-left relative
                    ${a?"bg-aurora-neon/10 text-white":"text-gray-400 hover:text-white hover:bg-white/5 hover:shadow-glow-soft"}
                  `,children:[a&&h.jsx(pe.div,{layoutId:"activeNavBg",className:"absolute inset-0 rounded-lg bg-aurora-neon/10 border border-aurora-neon/20 shadow-glow-soft",transition:{type:"spring",stiffness:300,damping:30}}),h.jsx("span",{className:`relative z-10 ${a?"text-aurora-neon":""}`,children:h.jsx(o,{size:18})}),h.jsx("span",{className:"relative z-10 text-sm font-medium",children:i.label})]})},i.id)})})}),h.jsxs("div",{className:"flex-shrink-0 p-3 border-t border-glass-border space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between px-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs text-gray-500",children:"Theme"}),h.jsx(qM,{variant:"compact"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[n&&h.jsx("button",{onClick:n,className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors text-gray-400 hover:text-white",title:"Keyboard Shortcuts (/)",children:h.jsx(rp,{size:14})}),r&&h.jsx(UN,{onClick:r})]})]}),h.jsx(dO,{className:"mx-1"}),h.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg bg-critical/10 hover:bg-critical/20 transition-colors text-critical/80 hover:text-critical border border-critical/20",children:[h.jsx(kM,{size:16}),h.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})]})]})}const Bv=[{id:"dashboard",label:"Growth Hub",icon:sp},{id:"trends",label:"Trend Radar",icon:lc},{id:"content",label:"Content Lab",icon:nS},{id:"templates",label:"Templates",icon:J_},{id:"hashtags",label:"Hashtags",icon:np},{id:"media",label:"Media Library",icon:eS},{id:"drafts",label:"Queue",icon:oc},{id:"calendar",label:"Calendar",icon:ep},{id:"video",label:"Video Lab",icon:ap},{id:"automation",label:"Automation",icon:ip}];function mO({activeView:t,onViewChange:e,isOpen:n,onToggle:r}){return h.jsxs(h.Fragment,{children:[h.jsxs("header",{className:"fixed top-0 left-0 right-0 h-14 glass-panel border-b border-glass-border z-50 flex items-center justify-between px-4",children:[h.jsxs("div",{className:"flex items-center gap-2.5",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg gradient-bg flex items-center justify-center",children:h.jsx(op,{size:16,className:"text-white"})}),h.jsx("h1",{className:"text-lg font-bold gradient-text",children:"SOCI"})]}),h.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-white/5 transition-colors text-gray-400","aria-label":n?"Close menu":"Open menu","aria-expanded":n,children:n?h.jsx(ci,{size:22}):h.jsx(CM,{size:22})})]}),h.jsx(gr,{children:n&&h.jsxs(h.Fragment,{children:[h.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:r}),h.jsx(pe.nav,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-14 right-0 bottom-0 w-64 glass-panel border-l border-glass-border z-50 overflow-y-auto",children:h.jsxs("div",{className:"p-3",children:[h.jsx("ul",{className:"space-y-1",children:Bv.map(s=>{const i=t===s.id,a=s.icon;return h.jsx("li",{children:h.jsxs("button",{onClick:()=>e(s.id),className:`
                            w-full flex items-center gap-3 px-3 py-2.5 rounded-lg
                            transition-all duration-200 text-left
                            ${i?"bg-primary/15 text-white border border-primary/20":"text-gray-400 hover:text-white hover:bg-white/5"}
                          `,children:[h.jsx(a,{size:18,className:i?"text-primary-light":""}),h.jsx("span",{className:"text-sm font-medium",children:s.label})]})},s.id)})}),h.jsxs("div",{className:"mt-4 p-3 bg-white/5 rounded-lg border border-glass-border",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"w-1.5 h-1.5 bg-success rounded-full animate-pulse"}),h.jsx("span",{className:"text-xs font-medium text-success",children:"Engine Online"})]}),h.jsx("p",{className:"text-[10px] text-gray-500",children:"v2.0 Autonomous Core"})]})]})})]})}),h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 glass-panel border-t border-glass-border z-40",children:h.jsx("div",{className:"flex justify-around items-center h-16 px-1 pb-safe",children:Bv.slice(0,5).map(s=>{const i=t===s.id,a=s.icon;return h.jsxs("button",{onClick:()=>e(s.id),className:`
                  flex flex-col items-center justify-center py-1.5 px-3 rounded-lg min-w-[56px]
                  transition-all duration-200
                  ${i?"text-primary bg-primary/10":"text-gray-500 hover:text-gray-300"}
                `,"aria-label":s.label,"aria-current":i?"page":void 0,children:[h.jsx(a,{size:20,strokeWidth:i?2.5:2}),h.jsx("span",{className:"text-[10px] mt-0.5 font-medium",children:s.label.split(" ")[0]})]},s.id)})})})]})}const pO={success:ac,error:Jf,warning:Zm,info:_M},gO={success:"border-success/30 bg-success/10",error:"border-critical/30 bg-critical/10",warning:"border-warning/30 bg-warning/10",info:"border-info/30 bg-info/10"},yO={success:"text-success",error:"text-critical",warning:"text-warning",info:"text-info"};function vO({id:t,type:e,title:n,message:r,duration:s=5e3}){const i=Ge(o=>o.removeNotification),a=pO[e];return A.useEffect(()=>{if(s>0){const o=setTimeout(()=>{i(t)},s);return()=>clearTimeout(o)}},[t,s,i]),h.jsx(pe.div,{layout:!0,initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.2},className:`
        glass-panel rounded-xl border p-4 min-w-[300px] max-w-[400px]
        ${gO[e]}
      `,children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(a,{size:20,className:yO[e]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-medium text-white",children:n}),r&&h.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r})]}),h.jsx("button",{onClick:()=>i(t),className:"text-gray-500 hover:text-white transition-colors","aria-label":"Dismiss notification",children:h.jsx(ci,{size:16})})]})})}function wO(){const t=Ge(e=>e.notifications);return h.jsx("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2",children:h.jsx(gr,{mode:"popLayout",children:t.map(e=>h.jsx(vO,{...e},e.id))})})}const Uv=[{key:"1",description:"Go to Dashboard"},{key:"2",description:"Go to Trend Radar"},{key:"3",description:"Go to Content Lab"},{key:"4",description:"Go to Queue"},{key:"5",description:"Go to Calendar"},{key:"6",description:"Go to Video Lab"},{key:"7",description:"Go to Automation"},{key:"n",ctrlKey:!0,description:"New Post (go to Content Lab)"},{key:"k",metaKey:!0,description:"Open Command Palette"},{key:"/",description:"Show Keyboard Shortcuts"}];function xO(t){const{setActiveView:e,addNotification:n}=Ge(),r=A.useCallback((s,i)=>{e(s),n({type:"info",title:"Navigation",message:`Switched to ${i}`,duration:1500})},[e,n]);A.useEffect(()=>{const s=i=>{const a=i.target;if(a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.isContentEditable)return;const{key:o,ctrlKey:l,metaKey:u,shiftKey:c}=i;if(!l&&!u&&!c)switch(o){case"1":i.preventDefault(),r("dashboard","Dashboard");break;case"2":i.preventDefault(),r("trends","Trend Radar");break;case"3":i.preventDefault(),r("content","Content Lab");break;case"4":i.preventDefault(),r("drafts","Queue");break;case"5":i.preventDefault(),r("calendar","Calendar");break;case"6":i.preventDefault(),r("video","Video Lab");break;case"7":i.preventDefault(),r("automation","Automation");break;case"/":case"?":i.preventDefault(),t==null||t();break}(l||u)&&o.toLowerCase()==="n"&&(i.preventDefault(),r("content","Content Lab"))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[r,t])}function vl({children:t}){return h.jsx("span",{className:"inline-flex items-center justify-center min-w-[24px] h-6 px-2 bg-white/10 border border-glass-border rounded text-xs font-mono text-gray-300",children:t})}function _O({isOpen:t,onClose:e}){const n=navigator.platform.toUpperCase().indexOf("MAC")>=0,r=s=>{const i=[];return s.ctrlKey&&i.push(n?"":"Ctrl"),s.metaKey&&i.push(n?"":"Ctrl"),s.shiftKey&&i.push(n?"":"Shift"),i.push(s.key.toUpperCase()),i};return h.jsx(gr,{children:t&&h.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:e,children:h.jsxs(pe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"glass-panel rounded-2xl p-6 max-w-md w-full",onClick:s=>s.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 rounded-lg bg-primary/20",children:h.jsx(rp,{size:20,className:"text-primary"})}),h.jsx("h3",{className:"text-xl font-bold text-white",children:"Keyboard Shortcuts"})]}),h.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-white/5 transition-colors",children:h.jsx(ci,{size:20,className:"text-gray-400"})})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Navigation"}),h.jsx("div",{className:"space-y-2",children:Uv.slice(0,6).map(s=>h.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:[h.jsx("span",{className:"text-sm text-gray-300",children:s.description}),h.jsx("div",{className:"flex items-center gap-1",children:r(s).map((i,a)=>h.jsx(vl,{children:i},a))})]},s.key+s.description))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Actions"}),h.jsx("div",{className:"space-y-2",children:Uv.slice(6).map(s=>h.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:[h.jsx("span",{className:"text-sm text-gray-300",children:s.description}),h.jsx("div",{className:"flex items-center gap-1",children:r(s).map((i,a)=>h.jsx(vl,{children:i},a))})]},s.key+s.description))})]})]}),h.jsx("div",{className:"mt-6 pt-4 border-t border-glass-border",children:h.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Press ",h.jsx(vl,{children:"/"})," or ",h.jsx(vl,{children:"?"})," anytime to show this help"]})})]})})})}function SO({isOpen:t,onClose:e,onShowShortcuts:n,onShowNotifications:r,onShowDataManager:s}){const[i,a]=A.useState(""),[o,l]=A.useState(0),u=A.useRef(null),c=A.useRef(null),{setActiveView:d,theme:f,setTheme:m}=Ge(),w=A.useCallback(()=>{m(f==="dark"?"light":"dark")},[f,m]),v=A.useMemo(()=>[{id:"nav-dashboard",label:"Go to Dashboard",description:"View analytics and overview",icon:h.jsx(sp,{size:18}),category:"navigation",keywords:["dashboard","home","analytics","overview","stats"],action:()=>{d("dashboard"),e()}},{id:"nav-trends",label:"Go to Trend Engine",description:"Discover trending topics",icon:h.jsx(lc,{size:18}),category:"navigation",keywords:["trends","trending","viral","discover","topics"],action:()=>{d("trends"),e()}},{id:"nav-content",label:"Go to Content Lab",description:"Create AI-powered content",icon:h.jsx(PM,{size:18}),category:"navigation",keywords:["content","create","generate","ai","write","lab"],action:()=>{d("content"),e()}},{id:"nav-drafts",label:"Go to Drafts & Queue",description:"Manage scheduled posts",icon:h.jsx(oc,{size:18}),category:"navigation",keywords:["drafts","queue","scheduled","posts","pending"],action:()=>{d("drafts"),e()}},{id:"nav-calendar",label:"Go to Calendar",description:"View content calendar",icon:h.jsx(ep,{size:18}),category:"navigation",keywords:["calendar","schedule","dates","plan","timeline"],action:()=>{d("calendar"),e()}},{id:"nav-video",label:"Go to Video Lab",description:"Create video content",icon:h.jsx(ap,{size:18}),category:"navigation",keywords:["video","reels","tiktok","clips","shorts"],action:()=>{d("video"),e()}},{id:"nav-automation",label:"Go to Automation Hub",description:"Manage automations and workflows",icon:h.jsx(op,{size:18}),category:"navigation",keywords:["automation","workflows","rules","triggers","auto"],action:()=>{d("automation"),e()}},{id:"action-new-post",label:"Create New Post",description:"Start creating a new post",icon:h.jsx(TM,{size:18}),category:"actions",keywords:["new","create","post","add","write"],action:()=>{d("content"),e()}},{id:"action-schedule",label:"Schedule Content",description:"Schedule a post for later",icon:h.jsx(tp,{size:18}),category:"actions",keywords:["schedule","later","time","post","plan"],action:()=>{d("calendar"),e()}},{id:"action-hashtags",label:"Find Trending Hashtags",description:"Discover popular hashtags",icon:h.jsx(np,{size:18}),category:"actions",keywords:["hashtags","tags","trending","popular"],action:()=>{d("trends"),e()}},{id:"settings-theme",label:f==="dark"?"Switch to Light Mode":"Switch to Dark Mode",description:"Toggle between light and dark theme",icon:f==="dark"?h.jsx(sS,{size:18}):h.jsx(tS,{size:18}),category:"settings",keywords:["theme","dark","light","mode","appearance"],action:()=>{w(),e()}},{id:"settings-shortcuts",label:"View Keyboard Shortcuts",description:"See all available shortcuts",icon:h.jsx(rp,{size:18}),category:"settings",keywords:["keyboard","shortcuts","keys","hotkeys","help"],action:()=>{e(),n()}},{id:"settings-notifications",label:"Open Notifications",description:"View recent notifications",icon:h.jsx(Cu,{size:18}),category:"settings",keywords:["notifications","alerts","messages","inbox"],action:()=>{e(),r()}},...s?[{id:"settings-data",label:"Manage Data",description:"Import, export, or reset your data",icon:h.jsx(Z_,{size:18}),category:"settings",keywords:["data","backup","export","import","reset","storage"],action:()=>{e(),s()}}]:[]],[f,d,w,e,n,r,s]),S=A.useMemo(()=>{if(!i.trim())return v;const _=i.toLowerCase();return v.filter(b=>{var R;const C=b.label.toLowerCase().includes(_),T=(R=b.description)==null?void 0:R.toLowerCase().includes(_),I=b.keywords.some(O=>O.includes(_));return C||T||I})},[v,i]),y=A.useMemo(()=>{const _={navigation:[],actions:[],settings:[]};return S.forEach(b=>{_[b.category].push(b)}),_},[S]);A.useEffect(()=>{l(0)},[i]),A.useEffect(()=>{t&&(a(""),l(0),setTimeout(()=>{var _;return(_=u.current)==null?void 0:_.focus()},50))},[t]);const p=A.useCallback(_=>{switch(_.key){case"ArrowDown":_.preventDefault(),l(b=>b<S.length-1?b+1:0);break;case"ArrowUp":_.preventDefault(),l(b=>b>0?b-1:S.length-1);break;case"Enter":_.preventDefault(),S[o]&&S[o].action();break;case"Escape":_.preventDefault(),e();break}},[S,o,e]);A.useEffect(()=>{const _=c.current;if(!_)return;const b=_.querySelector(`[data-index="${o}"]`);b&&b.scrollIntoView({block:"nearest"})},[o]);const g=_=>{switch(_){case"navigation":return"Navigation";case"actions":return"Quick Actions";case"settings":return"Settings";default:return _}};let x=-1;return h.jsx(gr,{children:t&&h.jsxs(h.Fragment,{children:[h.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:e}),h.jsx(pe.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{duration:.15},className:"fixed top-[20%] left-1/2 -translate-x-1/2 w-full max-w-lg z-50",children:h.jsxs("div",{className:"bg-surface border border-glass-border rounded-xl shadow-2xl overflow-hidden",children:[h.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-glass-border",children:[h.jsx(w0,{size:20,className:"text-gray-500"}),h.jsx("input",{ref:u,type:"text",placeholder:"Type a command or search...",value:i,onChange:_=>a(_.target.value),onKeyDown:p,className:"flex-1 bg-transparent text-white placeholder-gray-500 outline-none text-base"}),h.jsx("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-2 py-1 bg-white/5 border border-glass-border rounded text-xs text-gray-500",children:"ESC"})]}),h.jsx("div",{ref:c,className:"max-h-80 overflow-y-auto p-2",children:S.length===0?h.jsxs("div",{className:"p-8 text-center text-gray-500",children:[h.jsx(w0,{size:32,className:"mx-auto mb-2 opacity-50"}),h.jsx("p",{children:"No commands found"})]}):Object.entries(y).map(([_,b])=>b.length===0?null:h.jsxs("div",{className:"mb-2",children:[h.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase px-2 py-1",children:g(_)}),b.map(C=>{x++;const T=x;return h.jsxs("button",{"data-index":T,onClick:C.action,onMouseEnter:()=>l(T),className:`
                                w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left
                                transition-colors group
                                ${o===T?"bg-primary/20 text-white":"text-gray-300 hover:bg-white/5"}
                              `,children:[h.jsx("span",{className:`
                                ${o===T?"text-primary":"text-gray-500"}
                              `,children:C.icon}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-medium truncate",children:C.label}),C.description&&h.jsx("p",{className:"text-xs text-gray-500 truncate",children:C.description})]}),h.jsx(gM,{size:14,className:`
                                  opacity-0 group-hover:opacity-100 transition-opacity
                                  ${o===T?"opacity-100 text-primary":"text-gray-500"}
                                `})]},C.id)})]},_))}),h.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t border-glass-border bg-white/5 text-xs text-gray-500",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/10 rounded",children:""}),h.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/10 rounded",children:""}),"to navigate"]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/10 rounded",children:""}),"to select"]})]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("kbd",{className:"px-1.5 py-0.5 bg-white/10 rounded",children:"esc"}),"to close"]})]})]})})]})})}function bO(){const[t,e]=A.useState(!1);return A.useEffect(()=>{const n=r=>{(r.metaKey||r.ctrlKey)&&r.key.toLowerCase()==="k"&&(r.preventDefault(),e(s=>!s))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[]),{isOpen:t,open:()=>e(!0),close:()=>e(!1),toggle:()=>e(n=>!n)}}const zv=["w-full","w-5/6","w-4/5","w-3/4","w-2/3"],kO=({lines:t=3})=>h.jsxs("div",{className:"animate-pulse space-y-3",children:[h.jsx("div",{className:"h-4 bg-white/5 rounded w-3/4"}),Array.from({length:t-1}).map((e,n)=>h.jsx("div",{className:Ee("h-4 bg-white/5 rounded",zv[(n+1)%zv.length])},n))]}),CO=({children:t,className:e,title:n,subtitle:r,action:s,highlight:i=!1,noPadding:a=!1,hoverable:o=!0,variant:l="default",loading:u=!1})=>{const c=l==="aurora",d=l==="gradient-border";return h.jsx("div",{className:Ee("relative overflow-hidden rounded-xl","backdrop-blur-xl",c?"bg-gradient-to-br from-aurora-neon/5 to-aurora-purple/5":"bg-glass-bg",d?"p-[1px] bg-gradient-to-br from-aurora-neon/30 via-aurora-purple/20 to-primary/30":"border border-glass-border",o&&"card-hover cursor-default",o&&!d&&"hover:border-glass-border-hover",i&&"shadow-glow-primary border-primary/30",e),children:h.jsxs("div",{className:Ee(d&&"bg-glass-bg rounded-xl overflow-hidden",d&&"backdrop-blur-xl"),children:[(i||c)&&h.jsx("div",{className:Ee("absolute top-0 left-0 w-full h-0.5",c?"bg-gradient-to-r from-aurora-neon via-aurora-purple to-primary":"gradient-bg")}),(n||s)&&h.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-glass-border",children:[h.jsxs("div",{children:[n&&h.jsx("h3",{className:Ee("text-base font-semibold",c?"text-aurora-neon":"text-white"),children:n}),r&&h.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r})]}),s&&h.jsx("div",{className:"flex-shrink-0",children:s})]}),h.jsx("div",{className:a?"":"p-5",children:u?h.jsx(kO,{}):t})]})})};function ws({children:t,variant:e="primary",size:n="md",isLoading:r=!1,className:s="",disabled:i,onClick:a,type:o="button",title:l}){const u=Ee("inline-flex items-center justify-center gap-2 font-medium rounded-lg","transition-all duration-400 ease-aurora relative overflow-hidden","focus:outline-none focus:ring-2","disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"),c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"},d={primary:Ee("gradient-bg text-white","shadow-md hover:shadow-lg hover:shadow-primary/25","focus:ring-primary/30"),aurora:Ee("bg-aurora-neon text-black font-semibold","shadow-md hover:shadow-glow-soft","focus:ring-aurora-neon/30","hover:bg-aurora-neon/90"),secondary:Ee("bg-white/5 text-gray-200 border border-glass-border","hover:bg-white/10 hover:border-glass-border-hover hover:shadow-glow-soft","focus:ring-aurora-neon/20"),ghost:Ee("bg-transparent text-gray-400","hover:text-white hover:bg-white/5","focus:ring-white/10"),danger:Ee("bg-critical/10 text-critical border border-critical/20","hover:bg-critical/20 hover:border-critical/30","focus:ring-critical/30")},f=r||i;return h.jsxs(pe.button,{type:o,whileHover:{scale:f?1:1.02},whileTap:{scale:f?1:.98},className:Ee(u,c[n],d[e],s),disabled:f,onClick:a,title:l,children:[r&&h.jsx(SM,{className:"w-4 h-4 animate-spin"}),t]})}function EO({isOpen:t,onClose:e}){const[n,r]=A.useState("idle"),[s,i]=A.useState(""),[a,o]=A.useState(!1),l=A.useRef(null),{persona:u,posts:c,automationSettings:d,platformCredentials:f,theme:m,persistentNotifications:w,setPersona:v,setPosts:S,updateAutomationSettings:y,updatePlatformCredential:p,setTheme:g,addNotification:x}=Ge(),_=()=>{const I={version:"1.0.0",exportedAt:new Date().toISOString(),data:{persona:u,posts:c,automationSettings:d,platformCredentials:f,theme:m,persistentNotifications:w}},R=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),O=URL.createObjectURL(R),se=document.createElement("a");se.href=O,se.download=`soci-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(O),x({type:"success",title:"Export Complete",message:"Your data has been exported successfully"})},b=I=>{var se;const R=(se=I.target.files)==null?void 0:se[0];if(!R)return;const O=new FileReader;O.onload=dt=>{var en,tn;try{const On=(en=dt.target)==null?void 0:en.result,Q=JSON.parse(On);if(!Q.version||!Q.data)throw new Error("Invalid backup file format");Q.data.persona&&v(Q.data.persona),Q.data.posts&&S(Q.data.posts),Q.data.automationSettings&&y(Q.data.automationSettings),Q.data.platformCredentials&&Q.data.platformCredentials.forEach(j=>{p(j.platform,j)}),Q.data.theme&&g(Q.data.theme),r("success"),i(`Successfully imported ${((tn=Q.data.posts)==null?void 0:tn.length)||0} posts`),x({type:"success",title:"Import Complete",message:"Your data has been restored successfully"})}catch(On){console.error("Import error:",On),r("error"),i("Failed to import data. Please check the file format."),x({type:"error",title:"Import Failed",message:"Could not parse the backup file"})}},O.readAsText(R),l.current&&(l.current.value="")},C=()=>{localStorage.removeItem("soci-storage-v2"),window.location.reload()},T=()=>{const I=localStorage.getItem("soci-storage-v2");if(!I)return"0 KB";const R=new Blob([I]).size;return R<1024?`${R} B`:R<1024*1024?`${(R/1024).toFixed(1)} KB`:`${(R/(1024*1024)).toFixed(2)} MB`};return h.jsx(gr,{children:t&&h.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:e,children:h.jsx(pe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"w-full max-w-md",onClick:I=>I.stopPropagation(),children:h.jsxs(CO,{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 rounded-lg bg-primary/20",children:h.jsx(Z_,{size:20,className:"text-primary"})}),h.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Management"})]}),h.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-white/5 transition-colors",children:h.jsx(ci,{size:20,className:"text-gray-400"})})]}),h.jsxs("div",{className:"p-4 bg-white/5 rounded-lg mb-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-gray-400",children:"Local Storage Used"}),h.jsx("span",{className:"text-sm font-medium text-white",children:T()})]}),h.jsxs("div",{className:"flex items-center justify-between mt-2",children:[h.jsx("span",{className:"text-sm text-gray-400",children:"Total Posts"}),h.jsx("span",{className:"text-sm font-medium text-white",children:c.length})]})]}),h.jsx(gr,{children:n!=="idle"&&h.jsxs(pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`p-3 rounded-lg mb-4 flex items-center gap-2 ${n==="success"?"bg-success/20 text-success":"bg-critical/20 text-critical"}`,children:[n==="success"?h.jsx(ac,{size:16}):h.jsx(Zm,{size:16}),h.jsx("span",{className:"text-sm",children:s}),h.jsx("button",{onClick:()=>r("idle"),className:"ml-auto p-1 hover:bg-white/10 rounded",children:h.jsx(ci,{size:14})})]})}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs(ws,{onClick:_,variant:"secondary",className:"w-full justify-start gap-3",children:[h.jsx(yM,{size:18}),h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"font-medium",children:"Export Data"}),h.jsx("p",{className:"text-xs text-gray-400",children:"Download all data as JSON backup"})]})]}),h.jsx("input",{ref:l,type:"file",accept:".json",onChange:b,className:"hidden"}),h.jsxs(ws,{onClick:()=>{var I;return(I=l.current)==null?void 0:I.click()},variant:"secondary",className:"w-full justify-start gap-3",children:[h.jsx(AM,{size:18}),h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"font-medium",children:"Import Data"}),h.jsx("p",{className:"text-xs text-gray-400",children:"Restore from JSON backup file"})]})]}),h.jsx("div",{className:"pt-3 border-t border-glass-border",children:a?h.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-critical/10 border border-critical/30 rounded-lg",children:[h.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"This will permanently delete all your data including posts, settings, and preferences. This action cannot be undone."}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(ws,{onClick:C,variant:"primary",className:"flex-1 bg-critical hover:bg-critical/80",children:[h.jsx(iS,{size:16,className:"mr-2"}),"Delete All Data"]}),h.jsx(ws,{onClick:()=>o(!1),variant:"secondary",className:"flex-1",children:"Cancel"})]})]}):h.jsxs(ws,{onClick:()=>o(!0),variant:"secondary",className:"w-full justify-start gap-3 text-critical hover:bg-critical/10",children:[h.jsx(rS,{size:18}),h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"font-medium",children:"Reset All Data"}),h.jsx("p",{className:"text-xs text-gray-400",children:"Clear all data and start fresh"})]})]})})]}),h.jsx("div",{className:"mt-4 pt-4 border-t border-glass-border",children:h.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-500",children:[h.jsx(xM,{size:14,className:"mt-0.5 flex-shrink-0"}),h.jsx("p",{children:"Backup files are stored as JSON and include posts, settings, persona, and preferences. API keys are not exported for security."})]})})]})})})})}const Pk=A.forwardRef(({label:t,error:e,hint:n,leftIcon:r,rightIcon:s,className:i,id:a,...o},l)=>{const u=A.useId(),c=a||u;return h.jsxs("div",{className:"w-full",children:[t&&h.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-gray-300 mb-1.5",children:t}),h.jsxs("div",{className:"relative",children:[r&&h.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:r}),h.jsx("input",{ref:l,id:c,className:Ee("w-full bg-white/5 border rounded-lg py-2.5 px-3 text-white placeholder-gray-500","transition-all duration-200","focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20","hover:border-glass-border-hover",e?"border-critical":"border-glass-border",r&&"pl-10",s&&"pr-10",i),"aria-invalid":e?"true":"false","aria-describedby":e?`${c}-error`:n?`${c}-hint`:void 0,...o}),s&&h.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:s})]}),e&&h.jsx("p",{id:`${c}-error`,className:"mt-1 text-xs text-critical",role:"alert",children:e}),n&&!e&&h.jsx("p",{id:`${c}-hint`,className:"mt-1 text-xs text-gray-500",children:n})]})});Pk.displayName="Input";function TO(){const[t,e]=A.useState(""),[n,r]=A.useState(!1),[s,i]=A.useState(""),[a,o]=A.useState(!1),l=Ge(c=>c.login),u=async c=>{c.preventDefault(),i(""),o(!0);try{await l(t)||i("Incorrect password")}catch{i("Authentication failed")}finally{o(!1)}};return h.jsxs("div",{className:"min-h-screen bg-dark flex items-center justify-center p-4",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/20 rounded-full blur-3xl"}),h.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/20 rounded-full blur-3xl"})]}),h.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative w-full max-w-md",children:h.jsxs("div",{className:"glass-card rounded-2xl p-8 shadow-2xl border border-glass-border",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx(pe.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl gradient-bg mb-4",children:h.jsx("span",{className:"text-3xl font-bold text-white",children:"S"})}),h.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Welcome to Soci"}),h.jsx("p",{className:"text-gray-400",children:"Enter your password to continue"})]}),h.jsxs("form",{onSubmit:u,className:"space-y-6",children:[h.jsx(Pk,{type:n?"text":"password",placeholder:"Enter password",value:t,onChange:c=>e(c.target.value),error:s,leftIcon:h.jsx(bM,{className:"w-4 h-4"}),rightIcon:h.jsx("button",{type:"button",onClick:()=>r(!n),className:"hover:text-white transition-colors",children:n?h.jsx(vM,{className:"w-4 h-4"}):h.jsx(wM,{className:"w-4 h-4"})}),autoFocus:!0}),h.jsx(ws,{type:"submit",variant:"primary",size:"lg",isLoading:a,disabled:!t,className:"w-full",children:"Sign In"})]})]})})]})}const PO=()=>Ge.getState();class Sh extends A.Component{constructor(){super(...arguments);ko(this,"state",{hasError:!1,error:null,errorInfo:null,showStack:!1});ko(this,"handleReset",()=>{var n,r;this.setState({hasError:!1,error:null,errorInfo:null,showStack:!1}),(r=(n=this.props).onReset)==null||r.call(n)});ko(this,"toggleStack",()=>{this.setState(n=>({showStack:!n.showStack}))})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){this.setState({errorInfo:r}),PO().addError({message:n.message||"Unknown error",stack:n.stack,source:"ErrorBoundary"})}render(){if(this.state.hasError){const{error:r,errorInfo:s,showStack:i}=this.state;return h.jsxs("div",{className:"min-h-[300px] w-full flex flex-col items-center justify-center p-8 bg-deep/50 border border-critical/30 rounded-xl backdrop-blur-md",children:[h.jsx(Zm,{className:"w-12 h-12 text-critical mb-4"}),h.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:this.props.fallbackTitle||"System Boundary Triggered"}),h.jsx("p",{className:"text-gray-400 text-center max-w-md mb-6",children:"Our resilience protocols caught an anomaly. Click below to recover this view without losing your work."}),h.jsx("div",{className:"p-3 bg-black/40 rounded-md border border-white/5 mb-4 w-full max-w-sm overflow-hidden",children:h.jsx("code",{className:"text-xs text-critical font-mono break-all",children:(r==null?void 0:r.message)||"Unknown Error"})}),!1,h.jsxs("button",{onClick:this.handleReset,className:"flex items-center gap-2 px-6 py-2 bg-aurora-neon/10 hover:bg-aurora-neon/20 text-aurora-neon border border-aurora-neon/50 rounded-lg transition-all duration-300 hover:shadow-glow-soft",children:[h.jsx(rS,{size:16}),"Graceful Reset"]})]})}return this.props.children}}function AO(){const{theme:t}=Ge();A.useEffect(()=>{const e=document.documentElement,n=r=>{r?(e.classList.add("dark"),e.classList.remove("light")):(e.classList.add("light"),e.classList.remove("dark"))};if(t==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)");n(r.matches);const s=i=>n(i.matches);return r.addEventListener("change",s),()=>r.removeEventListener("change",s)}else n(t==="dark")},[t])}const Wv=A.lazy(()=>$t(()=>import("./Dashboard-B1K3jsJY.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(t=>({default:t.Dashboard}))),RO=A.lazy(()=>$t(()=>import("./TrendEngine-C22AtgZt.js"),__vite__mapDeps([7,8,9])).then(t=>({default:t.TrendEngine}))),MO=A.lazy(()=>$t(()=>import("./ContentLab-CTwpoFB0.js"),__vite__mapDeps([10,8,3,11,12,13,14,5,15,16,17,4])).then(t=>({default:t.ContentLab}))),NO=A.lazy(()=>$t(()=>import("./TemplatesLibrary-D8XMoEUo.js"),__vite__mapDeps([18,19,20,14,16,21,22,5])).then(t=>({default:t.TemplatesLibrary}))),IO=A.lazy(()=>$t(()=>import("./HashtagCollections-1EPWY2-k.js"),__vite__mapDeps([23,19,14,16,21,22,24])).then(t=>({default:t.HashtagCollections}))),jO=A.lazy(()=>$t(()=>import("./MediaLibrary-o_1JPzMi.js"),__vite__mapDeps([25,19,21,14,16,9])).then(t=>({default:t.MediaLibrary}))),OO=A.lazy(()=>$t(()=>import("./DraftsQueue-Dtm9ZOor.js"),__vite__mapDeps([26,1,2,27,14,28,20,12,16,17])).then(t=>({default:t.DraftsQueue}))),DO=A.lazy(()=>$t(()=>import("./PublishedPosts-BeKzdY6n.js"),__vite__mapDeps([29,11,17,20,22])).then(t=>({default:t.PublishedPosts}))),LO=A.lazy(()=>$t(()=>import("./CalendarView-WnlO6Hqs.js"),__vite__mapDeps([30,2,15,21])).then(t=>({default:t.CalendarView}))),$O=A.lazy(()=>$t(()=>import("./VideoLab-0d8lY_Kv.js"),__vite__mapDeps([31,8,5,14,16,4,28])).then(t=>({default:t.VideoLab}))),FO=A.lazy(()=>$t(()=>import("./AutomationHub-Udh-L0Ru.js"),__vite__mapDeps([32,8,27,14])).then(t=>({default:t.AutomationHub}))),VO=A.lazy(()=>$t(()=>import("./BudgetManager-DbmUfKdq.js"),__vite__mapDeps([33,5,14,6,3,13,24])).then(t=>({default:t.BudgetManager}))),BO=new IE({defaultOptions:{queries:{staleTime:1e3*60,retry:2,refetchOnWindowFocus:!1}}});function UO(){return h.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-deep",children:[h.jsxs("div",{className:"relative w-20 h-20 mb-6",children:[h.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary/20"}),h.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-t-primary animate-spin"}),h.jsx("div",{className:"absolute inset-2 rounded-full border-2 border-t-accent-purple animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}}),h.jsx("div",{className:"absolute inset-4 rounded-full border-2 border-t-accent-pink animate-spin",style:{animationDuration:"2s"}})]}),h.jsx("h2",{className:"text-xl font-bold gradient-text mb-2",children:"SOCI"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Initializing AI Growth Engine..."})]})}function zO(){return h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsxs("div",{className:"relative w-12 h-12",children:[h.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary/20"}),h.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-t-primary animate-spin"})]})})}function WO(){const{activeView:t,setActiveView:e}=Ge(),[n,r]=A.useState(!1),[s,i]=A.useState(!1),[a,o]=A.useState(!1),[l,u]=A.useState(!1),c=bO(),d=A.useCallback(()=>{i(!0)},[]),f=A.useCallback(()=>{o(!0)},[]),m=A.useCallback(()=>{u(!0)},[]);xO(d),AO();const w={dashboard:"Growth Hub",trends:"Trend Radar",content:"Content Lab",templates:"Templates",hashtags:"Hashtags",media:"Media Library",drafts:"Queue",published:"Published",calendar:"Calendar",video:"Video Lab",automation:"Automation",budget:"Budget"},v=()=>{const y=(p,g)=>h.jsx(Sh,{fallbackTitle:`${w[g]} encountered an issue`,children:p},g);switch(t){case"dashboard":return y(h.jsx(Wv,{}),"dashboard");case"trends":return y(h.jsx(RO,{}),"trends");case"content":return y(h.jsx(MO,{}),"content");case"templates":return y(h.jsx(NO,{}),"templates");case"hashtags":return y(h.jsx(IO,{}),"hashtags");case"media":return y(h.jsx(jO,{}),"media");case"drafts":return y(h.jsx(OO,{}),"drafts");case"published":return y(h.jsx(DO,{}),"published");case"calendar":return y(h.jsx(LO,{}),"calendar");case"video":return y(h.jsx($O,{}),"video");case"automation":return y(h.jsx(FO,{}),"automation");case"budget":return y(h.jsx(VO,{}),"budget");default:return y(h.jsx(Wv,{}),"dashboard")}},S=y=>{e(y),r(!1)};return h.jsxs("div",{className:"min-h-screen bg-deep",children:[h.jsx("div",{className:"bg-glow bg-glow-primary"}),h.jsx("div",{className:"bg-glow bg-glow-purple"}),h.jsx("div",{className:"hidden lg:block",children:h.jsx(hO,{activeView:t,onViewChange:S,onShowShortcuts:d,onShowNotifications:f})}),h.jsx("div",{className:"lg:hidden",children:h.jsx(mO,{activeView:t,onViewChange:S,isOpen:n,onToggle:()=>r(!n)})}),h.jsx("main",{className:"lg:ml-64 min-h-screen p-4 lg:p-6 pt-16 lg:pt-6 pb-20 lg:pb-6",children:h.jsx(Sh,{fallbackTitle:`Error in ${t}`,children:h.jsx(A.Suspense,{fallback:h.jsx(zO,{}),children:h.jsx(gr,{mode:"wait",children:h.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:v()},t)})})})}),h.jsx(wO,{}),h.jsx(_O,{isOpen:s,onClose:()=>i(!1)}),h.jsx(BN,{isOpen:a,onClose:()=>o(!1)}),h.jsx(SO,{isOpen:c.isOpen,onClose:c.close,onShowShortcuts:d,onShowNotifications:f,onShowDataManager:m}),h.jsx(EO,{isOpen:l,onClose:()=>u(!1)})]})}function HO(){const[t,e]=A.useState(!0),n=Ge(r=>r.isAuthenticated);return A.useEffect(()=>{(async()=>{await new Promise(s=>setTimeout(s,1500)),e(!1)})()},[]),t?h.jsx(UO,{}):n?h.jsx(Sh,{fallbackTitle:"Application Error",children:h.jsx(jE,{client:BO,children:h.jsx(WO,{})})}):h.jsx(TO,{})}const qO=[];function KO(){const t={VITE_API_BASE_URL:void 0},e=[];for(const n of qO)t[n]||e.push(n);if(e.length>0){const n=`Missing required environment variables:
${e.map(r=>`  - ${r}`).join(`
`)}`;throw console.error(n),new Error(`Environment validation failed: ${e.join(", ")}`)}return t}try{KO()}catch(t){console.error("Environment validation failed:",t)}Nd.createRoot(document.getElementById("root")).render(h.jsx(xs.StrictMode,{children:h.jsx(HO,{})}));export{ET as $,Zm as A,ws as B,ep as C,gr as D,wM as E,oc as F,CO as G,np as H,w0 as I,yM as J,rS as K,SM as L,PM as M,Jf as N,ac as O,gM as P,eS as Q,XO as R,ec as S,lc as T,tD as U,ap as V,RM as W,ci as X,TM as Y,op as Z,iS as _,Tf as a,_m as a0,li as a1,zm as a2,w1 as a3,ae as a4,mr as a5,_y as a6,ue as a7,ZO as a8,qe as a9,yr as aa,lp as ab,up as ac,GM as ad,XM as ae,iD as af,sD as ag,eN as ah,k0 as ai,rD as aj,nD as ak,DN as al,AM as am,EM as an,ip as ao,vM as ap,UD as aq,zD as ar,WD as as,_M as at,dE as b,Ef as c,TE as d,gE as e,m1 as f,Ze as g,A as h,tc as i,YO as j,K as k,Ee as l,Nk as m,zt as n,sE as o,_E as p,h as q,hE as r,QO as s,fE as t,JO as u,Ge as v,pe as w,$N as x,tp as y,J_ as z};
