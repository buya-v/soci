import{v as B,h as i,q as e,w as v,B as u,Y as P,G as I,I as E,H as T,_ as L,D as M,X as A}from"./index-BhtDYtLX.js";import{B as U}from"./Badge-Du1y36bn.js";import{C as O}from"./check-B9KMwBVL.js";import{C as q}from"./copy-wao3SMMI.js";import{P as G}from"./pen-fsJh_gWw.js";import{B as Q}from"./bar-chart-2-DbjNrkoY.js";import{P as R}from"./palette-BvF4roAU.js";const N=[{id:"blue",bg:"bg-blue-500/20",border:"border-blue-500/30",text:"text-blue-400"},{id:"purple",bg:"bg-purple-500/20",border:"border-purple-500/30",text:"text-purple-400"},{id:"pink",bg:"bg-pink-500/20",border:"border-pink-500/30",text:"text-pink-400"},{id:"green",bg:"bg-green-500/20",border:"border-green-500/30",text:"text-green-400"},{id:"orange",bg:"bg-orange-500/20",border:"border-orange-500/30",text:"text-orange-400"},{id:"teal",bg:"bg-teal-500/20",border:"border-teal-500/30",text:"text-teal-400"},{id:"red",bg:"bg-red-500/20",border:"border-red-500/30",text:"text-red-400"},{id:"yellow",bg:"bg-yellow-500/20",border:"border-yellow-500/30",text:"text-yellow-400"}],K=[{id:"all",label:"All Platforms"},{id:"instagram",label:"Instagram"},{id:"twitter",label:"Twitter"},{id:"linkedin",label:"LinkedIn"},{id:"tiktok",label:"TikTok"}];function W({collection:a,onClose:c,onSave:z}){const[m,$]=i.useState((a==null?void 0:a.name)||""),[o,g]=i.useState((a==null?void 0:a.description)||""),[l,b]=i.useState((a==null?void 0:a.hashtags)||[]),[x,y]=i.useState((a==null?void 0:a.platform)||"all"),[h,H]=i.useState((a==null?void 0:a.color)||"blue"),[j,C]=i.useState(""),[p,f]=i.useState(!1),[w,k]=i.useState(""),S=()=>{const t=j.replace(/^#/,"").trim().toLowerCase();t&&!l.includes(t)&&b([...l,t]),C("")},D=()=>{const t=w.split(/[\s,#]+/).map(d=>d.trim().toLowerCase()).filter(d=>d&&!l.includes(d));b([...l,...t]),k(""),f(!1)},s=t=>{b(l.filter(d=>d!==t))},n=()=>{if(!m.trim()||l.length===0)return;const t=new Date().toISOString(),d={id:(a==null?void 0:a.id)||crypto.randomUUID(),name:m.trim(),description:o.trim()||void 0,hashtags:l,platform:x,color:h,createdAt:(a==null?void 0:a.createdAt)||t,usageCount:(a==null?void 0:a.usageCount)||0};z(d),c()},r=N.find(t=>t.id===h)||N[0];return e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:c,children:e.jsxs(v.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"glass-panel rounded-2xl p-6 max-w-xl w-full max-h-[90vh] overflow-y-auto",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:a?"Edit Collection":"Create Collection"}),e.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-white/5 transition-colors",children:e.jsx(A,{size:20,className:"text-gray-400"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Collection Name *"}),e.jsx("input",{type:"text",value:m,onChange:t=>$(t.target.value),placeholder:"e.g., Tech Trending, Marketing, Lifestyle",className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),e.jsx("input",{type:"text",value:o,onChange:t=>g(t.target.value),placeholder:"When to use this collection",className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[e.jsx(R,{size:14,className:"inline mr-1"}),"Color"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(t=>e.jsx("button",{onClick:()=>H(t.id),className:`w-8 h-8 rounded-lg ${t.bg} border-2 transition-all ${h===t.id?t.border+" scale-110":"border-transparent"}`},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform"}),e.jsx("select",{value:x,onChange:t=>y(t.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white appearance-none cursor-pointer focus:border-primary transition-colors",children:K.map(t=>e.jsx("option",{value:t.id,className:"bg-gray-900",children:t.label},t.id))})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300",children:["Hashtags (",l.length,") *"]}),e.jsx("button",{onClick:()=>f(!p),className:"text-xs text-primary hover:text-primary-light transition-colors",children:p?"Single mode":"Bulk add"})]}),p?e.jsxs("div",{className:"space-y-2",children:[e.jsx("textarea",{value:w,onChange:t=>k(t.target.value),placeholder:"Paste hashtags separated by commas, spaces, or new lines...",rows:4,className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors resize-none"}),e.jsx(u,{variant:"secondary",size:"sm",onClick:D,children:"Add All"})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:j,onChange:t=>C(t.target.value),onKeyDown:t=>t.key==="Enter"&&S(),placeholder:"Type hashtag and press Enter...",className:"flex-1 bg-white/5 border border-glass-border rounded-xl py-2 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors"}),e.jsx(u,{variant:"secondary",size:"sm",onClick:S,children:e.jsx(P,{size:16})})]}),l.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3 p-3 bg-white/5 rounded-xl max-h-40 overflow-y-auto",children:l.map(t=>e.jsxs(v.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm ${r.bg} ${r.text} border ${r.border}`,children:["#",t,e.jsx("button",{onClick:()=>s(t),className:"ml-1 hover:opacity-70 transition-opacity",children:e.jsx(A,{size:12})})]},t))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-glass-border",children:[e.jsx(u,{variant:"secondary",className:"flex-1",onClick:c,children:"Cancel"}),e.jsx(u,{variant:"primary",className:"flex-1",onClick:n,disabled:!m.trim()||l.length===0,children:a?"Save Changes":"Create Collection"})]})]})})}function ee(){const{hashtagCollections:a,addHashtagCollection:c,updateHashtagCollection:z,deleteHashtagCollection:m,incrementHashtagCollectionUsage:$,addNotification:o}=B(),[g,l]=i.useState(""),[b,x]=i.useState(!1),[y,h]=i.useState(null),[H,j]=i.useState(null),[C,p]=i.useState(null),f=i.useMemo(()=>{if(!g)return a;const s=g.toLowerCase();return a.filter(n=>{var r;return n.name.toLowerCase().includes(s)||((r=n.description)==null?void 0:r.toLowerCase().includes(s))||n.hashtags.some(t=>t.includes(s))})},[a,g]),w=async s=>{const n=s.hashtags.map(r=>`#${r}`).join(" ");await navigator.clipboard.writeText(n),j(s.id),$(s.id),setTimeout(()=>j(null),2e3),o({type:"success",title:"Copied!",message:`${s.hashtags.length} hashtags copied to clipboard`})},k=s=>{y?(z(s.id,s),o({type:"success",title:"Collection Updated",message:`"${s.name}" has been updated`})):(c(s),o({type:"success",title:"Collection Created",message:`"${s.name}" with ${s.hashtags.length} hashtags`})),h(null),x(!1)},S=s=>{confirm(`Delete "${s.name}"? This action cannot be undone.`)&&(m(s.id),o({type:"info",title:"Collection Deleted",message:`"${s.name}" has been removed`}))},D=s=>N.find(n=>n.id===s)||N[0];return e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Hashtag Collections"}),e.jsx("p",{className:"text-gray-400",children:"Organize and quickly apply your favorite hashtag groups"})]}),e.jsxs(u,{variant:"primary",onClick:()=>x(!0),children:[e.jsx(P,{size:18}),"New Collection"]})]}),e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(E,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:g,onChange:s=>l(s.target.value),placeholder:"Search collections or hashtags...",className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 pl-11 pr-4 text-white placeholder-gray-500 focus:border-primary transition-colors"})]})}),f.length===0?e.jsxs(I,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mx-auto mb-4",children:e.jsx(T,{size:32,className:"text-gray-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:a.length===0?"No collections yet":"No matching collections"}),e.jsx("p",{className:"text-gray-400 mb-4",children:a.length===0?"Create your first hashtag collection to speed up posting":"Try adjusting your search"}),a.length===0&&e.jsxs(u,{variant:"primary",onClick:()=>x(!0),children:[e.jsx(P,{size:18}),"Create Collection"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map((s,n)=>{const r=D(s.color),t=C===s.id;return e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.05},children:e.jsxs(I,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${r.bg} border ${r.border} flex items-center justify-center`,children:e.jsx(T,{size:20,className:r.text})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.hashtags.length," hashtags"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>w(s),className:"p-2 rounded-lg hover:bg-white/5 transition-colors",title:"Copy all hashtags",children:H===s.id?e.jsx(O,{size:16,className:"text-success"}):e.jsx(q,{size:16,className:"text-gray-400"})}),e.jsx("button",{onClick:()=>h(s),className:"p-2 rounded-lg hover:bg-white/5 transition-colors",title:"Edit collection",children:e.jsx(G,{size:16,className:"text-gray-400"})}),e.jsx("button",{onClick:()=>S(s),className:"p-2 rounded-lg hover:bg-white/5 transition-colors",title:"Delete collection",children:e.jsx(L,{size:16,className:"text-gray-400 hover:text-critical"})})]})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-400 mb-3",children:s.description}),s.platform!=="all"&&e.jsx("div",{className:"mb-3",children:e.jsx(U,{variant:"info",size:"sm",children:s.platform})}),e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[(t?s.hashtags:s.hashtags.slice(0,8)).map(d=>e.jsxs("span",{className:`text-xs px-2 py-1 rounded-lg ${r.bg} ${r.text}`,children:["#",d]},d)),!t&&s.hashtags.length>8&&e.jsxs("button",{onClick:()=>p(s.id),className:"text-xs px-2 py-1 rounded-lg bg-white/5 text-gray-400 hover:text-white transition-colors",children:["+",s.hashtags.length-8," more"]}),t&&s.hashtags.length>8&&e.jsx("button",{onClick:()=>p(null),className:"text-xs px-2 py-1 rounded-lg bg-white/5 text-gray-400 hover:text-white transition-colors",children:"Show less"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-3 mt-3 border-t border-glass-border",children:[e.jsxs("span",{children:["Created ",new Date(s.createdAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{size:12}),"Used ",s.usageCount,"x"]})]})]})},s.id)})}),e.jsx(M,{children:(b||y)&&e.jsx(W,{collection:y||void 0,onClose:()=>{x(!1),h(null)},onSave:k})})]})}export{ee as HashtagCollections};
