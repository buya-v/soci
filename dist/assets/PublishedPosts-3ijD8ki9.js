import{v as S,h as d,q as e,G as x,O as j,E as b,I as z,X as P,D as L,w as T,y as A}from"./index-jVMbJHpP.js";import{H as N,M as y}from"./message-circle-BdL6D6P2.js";import{S as w}from"./share-2-BFHGjrfq.js";import{F}from"./filter-DVNnECk9.js";import{B}from"./bar-chart-2-xOl8cDlv.js";const v={twitter:"X",linkedin:"in",instagram:"IG",tiktok:"TT",facebook:"FB"},D={twitter:"bg-gray-800 text-white",linkedin:"bg-blue-600 text-white",instagram:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",tiktok:"bg-black text-white",facebook:"bg-blue-500 text-white"};function M({post:a}){const c=D[a.platform],h=v[a.platform],i=a.engagement||{likes:0,comments:0,shares:0,reach:0},f=r=>r?new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown",n=r=>r>=1e6?`${(r/1e6).toFixed(1)}M`:r>=1e3?`${(r/1e3).toFixed(1)}K`:r.toString();return e.jsxs(T.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"glass-panel rounded-xl p-5 border border-glass-border hover:border-success/30 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ${c}`,children:h}),e.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-success/20 text-success",children:"Published"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[e.jsx(A,{size:12}),e.jsx("span",{children:f(a.publishedAt)})]})]}),e.jsxs("div",{className:"mb-4",children:[a.imageUrl&&e.jsx("div",{className:"mb-3 rounded-lg overflow-hidden bg-white/5 aspect-video flex items-center justify-center",children:e.jsx("img",{src:a.imageUrl,alt:"Post preview",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"text-sm text-gray-300 line-clamp-3 mb-2",children:a.content||a.caption}),a.hashtags&&a.hashtags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.hashtags.slice(0,5).map(r=>e.jsxs("span",{className:"text-[10px] text-primary/80 bg-primary/10 px-1.5 py-0.5 rounded",children:["#",r]},r)),a.hashtags.length>5&&e.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",a.hashtags.length-5," more"]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center gap-1 text-pink-400 mb-1",children:e.jsx(N,{size:14})}),e.jsx("p",{className:"text-sm font-bold text-white",children:n(i.likes)}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Likes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center gap-1 text-blue-400 mb-1",children:e.jsx(y,{size:14})}),e.jsx("p",{className:"text-sm font-bold text-white",children:n(i.comments)}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Comments"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center gap-1 text-green-400 mb-1",children:e.jsx(w,{size:14})}),e.jsx("p",{className:"text-sm font-bold text-white",children:n(i.shares)}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Shares"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center gap-1 text-purple-400 mb-1",children:e.jsx(b,{size:14})}),e.jsx("p",{className:"text-sm font-bold text-white",children:n(i.reach)}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Reach"})]})]})]})}function R(){const a=S(t=>t.posts),[c,h]=d.useState(""),[i,f]=d.useState("all"),[n,r]=d.useState("date"),o=d.useMemo(()=>{let t=a.filter(s=>s.status==="published");if(c){const s=c.toLowerCase();t=t.filter(l=>{var m,u;return((m=l.content)==null?void 0:m.toLowerCase().includes(s))||((u=l.caption)==null?void 0:u.toLowerCase().includes(s))||l.hashtags.some(C=>C.toLowerCase().includes(s))})}return i!=="all"&&(t=t.filter(s=>s.platform===i)),n==="date"?t.sort((s,l)=>{const m=s.publishedAt?new Date(s.publishedAt).getTime():0;return(l.publishedAt?new Date(l.publishedAt).getTime():0)-m}):t.sort((s,l)=>{const m=s.engagement?s.engagement.likes+s.engagement.comments+s.engagement.shares:0;return(l.engagement?l.engagement.likes+l.engagement.comments+l.engagement.shares:0)-m}),t},[a,c,i,n]),g=d.useMemo(()=>o.reduce((t,s)=>(s.engagement&&(t.likes+=s.engagement.likes,t.comments+=s.engagement.comments,t.shares+=s.engagement.shares,t.reach+=s.engagement.reach),t),{likes:0,comments:0,shares:0,reach:0}),[o]),p=t=>t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString(),k=["all","instagram","facebook","twitter","linkedin","tiktok"];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold gradient-text mb-1",children:"Published Posts"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Track your published content and engagement metrics"})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs(x,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-success mb-2",children:[e.jsx(j,{size:18}),e.jsx("span",{className:"text-xs font-medium",children:"Total Posts"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:o.length})]}),e.jsxs(x,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-pink-400 mb-2",children:[e.jsx(N,{size:18}),e.jsx("span",{className:"text-xs font-medium",children:"Total Likes"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:p(g.likes)})]}),e.jsxs(x,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-400 mb-2",children:[e.jsx(y,{size:18}),e.jsx("span",{className:"text-xs font-medium",children:"Total Comments"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:p(g.comments)})]}),e.jsxs(x,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400 mb-2",children:[e.jsx(w,{size:18}),e.jsx("span",{className:"text-xs font-medium",children:"Total Shares"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:p(g.shares)})]}),e.jsxs(x,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-400 mb-2",children:[e.jsx(b,{size:18}),e.jsx("span",{className:"text-xs font-medium",children:"Total Reach"})]}),e.jsx("p",{className:"text-2xl font-bold text-white",children:p(g.reach)})]})]}),e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(z,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:c,onChange:t=>h(t.target.value),placeholder:"Search published posts...",className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-glass-border rounded-lg text-sm text-white placeholder-gray-500 focus:outline-none focus:border-primary/50"}),c&&e.jsx("button",{onClick:()=>h(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:e.jsx(P,{size:14})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{size:16,className:"text-gray-400"}),e.jsx("div",{className:"flex gap-1",children:k.map(t=>e.jsx("button",{onClick:()=>f(t),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${i===t?"bg-primary/20 text-primary border border-primary/30":"bg-white/5 text-gray-400 hover:text-white border border-transparent"}`,children:t==="all"?"All":v[t]},t))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{size:16,className:"text-gray-400"}),e.jsxs("select",{value:n,onChange:t=>r(t.target.value),className:"bg-white/5 border border-glass-border rounded-lg px-3 py-1.5 text-xs text-white focus:outline-none focus:border-primary/50",children:[e.jsx("option",{value:"date",children:"Latest First"}),e.jsx("option",{value:"engagement",children:"Top Engagement"})]})]})]})}),o.length===0?e.jsxs(x,{className:"p-12 text-center",children:[e.jsx(j,{size:48,className:"mx-auto mb-4 text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Published Posts Yet"}),e.jsx("p",{className:"text-sm text-gray-400 max-w-md mx-auto",children:"Posts will appear here once they've been published. Create content in the Content Lab and schedule it for publishing."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.jsx(L,{mode:"popLayout",children:o.map(t=>e.jsx(M,{post:t},t.id))})})]})}export{R as PublishedPosts};
