import{$ as Pe,a0 as M,a1 as De,h as o,a2 as Le,a3 as Ae,a4 as Te,a5 as Ie,a6 as O,a7 as Me,a8 as $e,w as j,q as e,a9 as Ee,k as R,v as Ue,G as I,F as J,y as Y,I as Z,D as z,X as L,B as b,J as Oe,z as V,C as $,_,A as Ve,M as Fe}from"./index-Cc7iMCs3.js";import{F as Be,D as Re,b as qe,e as Ge}from"./export-B7xrLMKo.js";import{C as E}from"./check-0glAjt2x.js";import{S as K}from"./square-CeVwK0HY.js";import{F as He}from"./filter-aAKmrghv.js";import{M as Qe,S as F,L as Je}from"./send-CboHG0j4.js";import{C as Xe}from"./copy-B_sqEbEz.js";import{S as B}from"./share-2-tb2b37Ua.js";import"./format-D5wvM1zf.js";function We(...t){const l=!Array.isArray(t[0]),c=l?0:-1,i=t[0+c],n=t[1+c],r=t[2+c],d=t[3+c],x=Pe(n,r,d);return l?x(i):x}function ee(t){const l=M(()=>De(t)),{isStatic:c}=o.useContext(Le);if(c){const[,i]=o.useState(t);o.useEffect(()=>l.on("change",i),[])}return l}function te(t,l){const c=ee(l()),i=()=>c.set(l());return i(),Ae(()=>{const n=()=>Te.preRender(i,!1,!0),r=t.map(d=>d.on("change",n));return()=>{r.forEach(d=>d()),Ie(i)}}),c}function Ye(t){O.current=[],t();const l=te(O.current,t);return O.current=void 0,l}function Ze(t,l,c,i){if(typeof t=="function")return Ye(t);const n=typeof l=="function"?l:We(l,c,i);return Array.isArray(t)?X(t,n):X([t],([r])=>n(r))}function X(t,l){const c=M(()=>[]);return te(t,()=>{c.length=0;const i=t.length;for(let n=0;n<i;n++)c[n]=t[n].get();return l(c)})}const se=o.createContext(null);function _e(t,l,c,i){if(!i)return t;const n=t.findIndex(m=>m.value===l);if(n===-1)return t;const r=i>0?1:-1,d=t[n+r];if(!d)return t;const x=t[n],s=d.layout,u=Me(s.min,s.max,.5);return r===1&&x.layout.max+c>u||r===-1&&x.layout.min+c<u?$e(t,n,n+r):t}function Ke({children:t,as:l="ul",axis:c="y",onReorder:i,values:n,...r},d){const x=M(()=>j[l]),s=[],u=o.useRef(!1),m={axis:c,registerItem:(h,g)=>{const N=s.findIndex(k=>h===k.value);N!==-1?s[N].layout=g[c]:s.push({value:h,layout:g[c]}),s.sort(st)},updateOrder:(h,g,N)=>{if(u.current)return;const k=_e(s,h,g,N);s!==k&&(u.current=!0,i(k.map(tt).filter(v=>n.indexOf(v)!==-1)))}};return o.useEffect(()=>{u.current=!1}),e.jsx(x,{...r,ref:d,ignoreStrict:!0,children:e.jsx(se.Provider,{value:m,children:t})})}const et=o.forwardRef(Ke);function tt(t){return t.value}function st(t,l){return t.layout.min-l.layout.min}function W(t,l=0){return Ee(t)?t:ee(l)}function at({children:t,style:l={},value:c,as:i="li",onDrag:n,layout:r=!0,...d},x){const s=M(()=>j[i]),u=o.useContext(se),m={x:W(l.x),y:W(l.y)},h=Ze([m.x,m.y],([v,P])=>v||P?1:"unset"),{axis:g,registerItem:N,updateOrder:k}=u;return e.jsx(s,{drag:g,...d,dragSnapToOrigin:!0,style:{...l,x:m.x,y:m.y,zIndex:h},layout:r,onDrag:(v,P)=>{const{velocity:w}=P;w[g]&&k(c,m[g].get(),w[g]),n&&n(v,P)},onLayoutMeasure:v=>N(c,v),ref:x,ignoreStrict:!0,children:t})}const lt=o.forwardRef(at);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=R("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=R("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=R("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),G={twitter:{id:"twitter",name:"Twitter / X",maxLength:280,hashtagLimit:3,supportsImages:!0,supportsVideo:!0,supportsLinks:!0,optimalTimes:["9:00 AM","12:00 PM","5:00 PM"],audienceActive:"Weekdays, business hours"},linkedin:{id:"linkedin",name:"LinkedIn",maxLength:3e3,hashtagLimit:5,supportsImages:!0,supportsVideo:!0,supportsLinks:!0,optimalTimes:["7:00 AM","12:00 PM","5:00 PM"],audienceActive:"Weekdays, especially Tue-Thu"},instagram:{id:"instagram",name:"Instagram",maxLength:2200,hashtagLimit:30,supportsImages:!0,supportsVideo:!0,supportsLinks:!1,optimalTimes:["11:00 AM","2:00 PM","7:00 PM"],audienceActive:"Evenings and weekends"},tiktok:{id:"tiktok",name:"TikTok",maxLength:300,hashtagLimit:5,supportsImages:!1,supportsVideo:!0,supportsLinks:!1,optimalTimes:["7:00 PM","8:00 PM","9:00 PM"],audienceActive:"Evenings, especially weekends"},facebook:{id:"facebook",name:"Facebook",maxLength:63206,hashtagLimit:5,supportsImages:!0,supportsVideo:!0,supportsLinks:!0,optimalTimes:["9:00 AM","1:00 PM","7:00 PM"],audienceActive:"Midday and evenings, all week"}};function nt(t,l,c){const i=G[c],n=[],r=[];let d=!1,x=t;t.length>i.maxLength&&(x=t.slice(0,i.maxLength-3)+"...",d=!0,n.push(`Content truncated to ${i.maxLength} characters`));const s=l.slice(0,i.hashtagLimit);switch(l.length>i.hashtagLimit&&n.push(`Only ${i.hashtagLimit} hashtags will be included (${l.length} provided)`),c){case"twitter":t.length>200&&r.push("Consider using a thread for longer content"),!t.includes("?")&&!t.includes("!")&&r.push("Adding a question or call-to-action may boost engagement");break;case"linkedin":t.includes(`
`)||r.push("Use line breaks for better readability"),t.length<100&&r.push("Longer posts (500-1000 chars) perform better on LinkedIn");break;case"instagram":l.length<10&&r.push("Consider using more hashtags (10-20 recommended)"),!i.supportsLinks&&t.includes("http")&&(n.push("Links in captions are not clickable on Instagram"),r.push('Use "link in bio" instead of direct URLs'));break;case"tiktok":t.length>150&&r.push("Shorter captions work better on TikTok");break}return{platform:c,content:x,truncated:d,characterCount:x.length,maxCharacters:i.maxLength,hashtags:s,hashtagsIncluded:s.length,warnings:n,optimizations:r}}function ct(t,l){return Object.keys(G).map(c=>nt(t,l,c))}const ae={twitter:"X",linkedin:"in",instagram:"IG",tiktok:"TT",facebook:"FB"},le={twitter:"bg-gray-800 text-white",linkedin:"bg-blue-600 text-white",instagram:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",tiktok:"bg-black text-white",facebook:"bg-blue-500 text-white"},ot={draft:{label:"Draft",color:"bg-gray-500/20 text-gray-400"},scheduled:{label:"Scheduled",color:"bg-primary/20 text-primary"},published:{label:"Published",color:"bg-success/20 text-success"},failed:{label:"Failed",color:"bg-critical/20 text-critical"}};function dt({post:t,onEdit:l,onDelete:c,onSchedule:i,onPublish:n,onCrossPost:r,onDuplicate:d,isSelected:x,onSelect:s,showDragHandle:u}){const m=ot[t.status],h=le[t.platform],g=ae[t.platform];return e.jsxs(j.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:`glass-panel rounded-xl p-5 border transition-all duration-300 ${x?"border-primary bg-primary/5":"border-glass-border hover:border-primary/30"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[u&&e.jsx("div",{className:"cursor-grab active:cursor-grabbing text-gray-500 hover:text-gray-300 -ml-1",children:e.jsx(rt,{size:16})}),s&&e.jsx("button",{onClick:()=>s(t.id),className:"text-gray-400 hover:text-white transition-colors",children:x?e.jsx(q,{size:18,className:"text-primary"}):e.jsx(K,{size:18})}),e.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ${h}`,children:g}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${m.color}`,children:m.label})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>l(t),className:"p-2 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white transition-colors",title:"Edit",children:e.jsx(it,{size:16})}),e.jsx("button",{onClick:()=>d(t),className:"p-2 rounded-lg hover:bg-primary/10 text-gray-400 hover:text-primary transition-colors",title:"Duplicate",children:e.jsx(Xe,{size:16})}),e.jsx("button",{onClick:()=>c(t.id),className:"p-2 rounded-lg hover:bg-critical/10 text-gray-400 hover:text-critical transition-colors",title:"Delete",children:e.jsx(_,{size:16})})]})]}),e.jsxs("div",{className:"mb-3",children:[t.imageUrl&&e.jsx("div",{className:"mb-3 rounded-lg overflow-hidden bg-white/5 aspect-video flex items-center justify-center",children:e.jsx("img",{src:t.imageUrl,alt:"Post preview",className:"w-full h-full object-cover",onError:N=>{N.currentTarget.style.display="none"}})}),e.jsx("p",{className:"text-sm text-gray-300 line-clamp-3",children:t.content||t.caption})]}),t.hashtags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[t.hashtags.slice(0,4).map((N,k)=>e.jsxs("span",{className:"text-xs text-primary bg-primary/10 px-2 py-0.5 rounded",children:["#",N]},k)),t.hashtags.length>4&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.hashtags.length-4," more"]})]}),t.scheduledAt&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-3",children:[e.jsx(Y,{size:12}),e.jsxs("span",{children:[new Date(t.scheduledAt).toLocaleDateString()," at"," ",new Date(t.scheduledAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-glass-border",children:[t.status==="draft"&&e.jsxs(e.Fragment,{children:[e.jsxs(b,{variant:"secondary",size:"sm",onClick:()=>i(t),className:"flex-1",children:[e.jsx($,{size:14,className:"mr-1"}),"Schedule"]}),e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>r(t),title:"Preview on all platforms",children:e.jsx(B,{size:14})}),e.jsxs(b,{variant:"primary",size:"sm",onClick:()=>n(t),className:"flex-1",children:[e.jsx(F,{size:14,className:"mr-1"}),"Publish"]})]}),t.status==="scheduled"&&e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>r(t),title:"Preview on all platforms",children:e.jsx(B,{size:14})}),e.jsxs(b,{variant:"secondary",size:"sm",onClick:()=>n(t),className:"flex-1",children:[e.jsx(F,{size:14,className:"mr-1"}),"Publish Now"]})]})]})]})}function xt({post:t,onClose:l,onSave:c}){const[i,n]=o.useState(t.content||t.caption||""),[r,d]=o.useState(t.hashtags.join(", ")),x=()=>{c({content:i,caption:i,hashtags:r.split(",").map(s=>s.trim().replace(/^#/,"")).filter(Boolean)}),l()};return e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:l,children:e.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"glass-panel rounded-2xl p-6 w-full max-w-lg border border-glass-border",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Draft"}),e.jsx("button",{onClick:l,className:"p-2 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white",children:e.jsx(L,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content"}),e.jsx("textarea",{value:i,onChange:s=>n(s.target.value),rows:6,className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Hashtags"}),e.jsx("input",{type:"text",value:r,onChange:s=>d(s.target.value),placeholder:"tag1, tag2, tag3",className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separate hashtags with commas"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(b,{variant:"secondary",onClick:l,className:"flex-1",children:"Cancel"}),e.jsxs(b,{variant:"primary",onClick:x,className:"flex-1",children:[e.jsx(E,{size:16,className:"mr-1"}),"Save Changes"]})]})]})]})})}function mt({post:t,onClose:l,onSchedule:c}){const[i,n]=o.useState(""),[r,d]=o.useState(""),x=()=>{if(i&&r){const s=new Date(`${i}T${r}`);c(s),l()}};return o.useState(()=>{const s=new Date;s.setDate(s.getDate()+1),s.setHours(9,0,0,0),n(s.toISOString().split("T")[0]),d("09:00")}),e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:l,children:e.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"glass-panel rounded-2xl p-6 w-full max-w-md border border-glass-border",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Schedule Post"}),e.jsx("button",{onClick:l,className:"p-2 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white",children:e.jsx(L,{size:20})})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-4 line-clamp-2",children:t.content||t.caption}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:i,onChange:s=>n(s.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white focus:border-primary transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Time"}),e.jsx("input",{type:"time",value:r,onChange:s=>d(s.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white focus:border-primary transition-colors"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(b,{variant:"secondary",onClick:l,className:"flex-1",children:"Cancel"}),e.jsxs(b,{variant:"primary",onClick:x,className:"flex-1",disabled:!i||!r,children:[e.jsx($,{size:16,className:"mr-1"}),"Schedule"]})]})]})]})})}function ht({post:t,onClose:l,onCopyToPlatform:c}){const i=ct(t.content||t.caption||"",t.hashtags),[n,r]=o.useState(new Set),d=s=>{s.platform!==t.platform&&(c(s.platform,s.content,s.hashtags),r(u=>new Set([...u,s.platform])))},x=()=>{i.forEach(s=>{s.platform!==t.platform&&(c(s.platform,s.content,s.hashtags),r(u=>new Set([...u,s.platform])))})};return e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:l,children:e.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"glass-panel rounded-2xl p-6 w-full max-w-3xl border border-glass-border max-h-[80vh] overflow-y-auto",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Copy to Other Platforms"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Preview and copy optimized content to other platforms"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{variant:"secondary",size:"sm",onClick:x,className:"gap-1",children:[e.jsx(B,{size:14}),"Copy to All"]}),e.jsx("button",{onClick:l,className:"p-2 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white",children:e.jsx(L,{size:20})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(s=>{const u=s.platform===t.platform,m=n.has(s.platform);return e.jsxs("div",{className:`p-4 rounded-xl border ${u?"border-primary/50 bg-primary/5":m?"border-success/50 bg-success/5":"border-glass-border bg-white/5"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold ${le[s.platform]}`,children:ae[s.platform]}),e.jsx("span",{className:"font-medium text-white",children:G[s.platform].name})]}),u?e.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-0.5 rounded",children:"Original"}):m?e.jsxs("span",{className:"text-xs text-success bg-success/10 px-2 py-0.5 rounded flex items-center gap-1",children:[e.jsx(E,{size:10}),"Copied"]}):e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>d(s),className:"text-xs h-6 px-2",children:"Copy"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[s.characterCount," / ",s.maxCharacters," characters"]}),s.truncated&&e.jsx("span",{className:"text-xs text-warning",children:"Truncated"})]}),e.jsx("div",{className:"w-full h-1 bg-white/10 rounded-full mb-3",children:e.jsx("div",{className:`h-full rounded-full transition-all ${s.characterCount/s.maxCharacters>.9?"bg-warning":"bg-primary"}`,style:{width:`${Math.min(100,s.characterCount/s.maxCharacters*100)}%`}})}),e.jsx("p",{className:"text-sm text-gray-300 line-clamp-3 mb-3",children:s.content}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[s.hashtags.map((h,g)=>e.jsxs("span",{className:"text-xs text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:["#",h]},g)),s.hashtags.length<t.hashtags.length&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",t.hashtags.length-s.hashtags.length," hidden"]})]}),s.warnings.length>0&&e.jsx("div",{className:"space-y-1 mb-2",children:s.warnings.map((h,g)=>e.jsxs("div",{className:"flex items-start gap-1.5 text-xs text-warning",children:[e.jsx(Ve,{size:12,className:"mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},g))}),s.optimizations.length>0&&e.jsx("div",{className:"space-y-1",children:s.optimizations.map((h,g)=>e.jsxs("div",{className:"flex items-start gap-1.5 text-xs text-accent-purple",children:[e.jsx(Je,{size:12,className:"mt-0.5 flex-shrink-0"}),e.jsx("span",{children:h})]},g))})]},s.platform)})}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-glass-border flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-gray-500",children:n.size>0?`${n.size} platform${n.size!==1?"s":""} copied to drafts`:'Click "Copy" to create drafts for other platforms'}),e.jsx(b,{variant:"secondary",onClick:l,children:"Done"})]})]})})}function ut({selectedCount:t,onScheduleAll:l,onPublishAll:c,onDeleteAll:i,onApplyTemplate:n,onClearSelection:r,hasTemplates:d}){const[x,s]=o.useState(!1);return t===0?null:e.jsxs("div",{className:"relative",children:[e.jsxs(b,{variant:"secondary",size:"sm",onClick:()=>s(!x),className:"flex items-center gap-2",children:[e.jsx(q,{size:16}),e.jsxs("span",{children:[t," selected"]}),e.jsx(Qe,{size:14})]}),e.jsx(z,{children:x&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),e.jsx(j.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-48 bg-surface border border-glass-border rounded-xl shadow-xl z-50 overflow-hidden",children:e.jsxs("div",{className:"p-2",children:[d&&e.jsxs("button",{onClick:()=>{n(),s(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-300 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:[e.jsx(V,{size:16,className:"text-accent-purple"}),"Apply Template"]}),e.jsxs("button",{onClick:()=>{l(),s(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-300 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:[e.jsx($,{size:16,className:"text-primary"}),"Schedule All"]}),e.jsxs("button",{onClick:()=>{c(),s(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-300 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:[e.jsx(F,{size:16,className:"text-success"}),"Publish All"]}),e.jsx("div",{className:"border-t border-glass-border my-1"}),e.jsxs("button",{onClick:()=>{i(),s(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-critical hover:bg-critical/10 rounded-lg transition-colors",children:[e.jsx(_,{size:16}),"Delete All"]}),e.jsx("div",{className:"border-t border-glass-border my-1"}),e.jsxs("button",{onClick:()=>{r(),s(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:[e.jsx(L,{size:16}),"Clear Selection"]})]})})]})})]})}function pt({posts:t,onNotify:l}){const[c,i]=o.useState(!1),n=()=>{qe(t),l("Exported posts to CSV"),i(!1)},r=()=>{Ge({posts:t,activities:[]}),l("Exported posts to JSON"),i(!1)};return e.jsxs("div",{className:"relative",children:[e.jsxs(b,{variant:"ghost",size:"sm",onClick:()=>i(!c),className:"flex items-center gap-2",children:[e.jsx(Oe,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),e.jsx(z,{children:c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),e.jsx(j.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-48 bg-surface border border-glass-border rounded-xl shadow-xl z-50 overflow-hidden",children:e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-300 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:[e.jsx(Be,{size:16,className:"text-success"}),"Export as CSV"]}),e.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-300 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:[e.jsx(Re,{size:16,className:"text-info"}),"Export as JSON"]})]})})]})})]})}function gt({templates:t,selectedCount:l,onClose:c,onApply:i}){const[n,r]=o.useState(null),[d,x]=o.useState(""),s=o.useMemo(()=>{if(!d.trim())return t;const m=d.toLowerCase();return t.filter(h=>h.name.toLowerCase().includes(m)||h.category.toLowerCase().includes(m))},[t,d]),u=()=>{n&&i(n)};return e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:c,children:e.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"glass-panel rounded-2xl p-6 w-full max-w-lg border border-glass-border max-h-[80vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(V,{size:20,className:"text-accent-purple"}),"Apply Template to ",l," Posts"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selected content will be replaced with template content"})]}),e.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white",children:e.jsx(L,{size:20})})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Z,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",value:d,onChange:m=>x(m.target.value),placeholder:"Search templates...",className:"w-full bg-white/5 border border-glass-border rounded-xl py-2.5 pl-10 pr-4 text-white placeholder-gray-500 focus:border-primary transition-colors text-sm"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-0",children:s.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(V,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No templates found"})]}):s.map(m=>e.jsxs("button",{onClick:()=>r(m),className:`w-full p-4 rounded-xl border text-left transition-all ${(n==null?void 0:n.id)===m.id?"border-primary bg-primary/10":"border-glass-border hover:border-primary/30 bg-white/5 hover:bg-white/10"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:m.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-[10px] text-gray-500 bg-white/5 px-1.5 py-0.5 rounded capitalize",children:m.category}),e.jsx("span",{className:"text-[10px] text-gray-500 bg-white/5 px-1.5 py-0.5 rounded capitalize",children:m.platform})]})]}),(n==null?void 0:n.id)===m.id&&e.jsx(E,{size:16,className:"text-primary"})]}),e.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:m.content}),m.hashtags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[m.hashtags.slice(0,3).map(h=>e.jsxs("span",{className:"text-[10px] text-primary",children:["#",h]},h)),m.hashtags.length>3&&e.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",m.hashtags.length-3]})]})]},m.id))}),e.jsxs("div",{className:"flex gap-3 pt-4 mt-4 border-t border-glass-border",children:[e.jsx(b,{variant:"secondary",onClick:c,className:"flex-1",children:"Cancel"}),e.jsxs(b,{variant:"primary",onClick:u,className:"flex-1",disabled:!n,children:[e.jsx(Fe,{size:16,className:"mr-1"}),"Apply to ",l," Posts"]})]})]})})}function zt(){const{posts:t,setPosts:l,addPost:c,updatePost:i,deletePost:n,addNotification:r,addActivity:d,templates:x,incrementTemplateUsage:s}=Ue(),[u,m]=o.useState(""),[h,g]=o.useState("all"),[N,k]=o.useState("all"),[v,P]=o.useState(null),[w,H]=o.useState(null),[D,Q]=o.useState(null),[y,S]=o.useState(new Set),[re,A]=o.useState(!1),[ie,U]=o.useState(!1),C=t.filter(a=>{const p=(a.content||a.caption||"").toLowerCase().includes(u.toLowerCase()),f=h==="all"||a.status===h,T=N==="all"||a.platform===N;return p&&f&&T}),ne=o.useCallback(a=>{S(p=>{const f=new Set(p);return f.has(a)?f.delete(a):f.add(a),f})},[]),ce=o.useCallback(()=>{y.size===C.length?S(new Set):S(new Set(C.map(a=>a.id)))},[C,y.size]),oe=o.useCallback(()=>{S(new Set)},[]),de=o.useCallback(a=>{const p=new Set(a.map(T=>T.id)),f=t.filter(T=>!p.has(T.id));l([...a,...f])},[t,l]),xe=o.useCallback(a=>{c({id:crypto.randomUUID(),content:a.content,caption:a.caption,hashtags:[...a.hashtags],platform:a.platform,status:"draft",imageUrl:a.imageUrl}),r({type:"success",title:"Post Duplicated",message:"Created a copy in drafts"})},[c,r]),me=o.useCallback(()=>{A(!0)},[]),he=o.useCallback(a=>{const p=t.filter(f=>y.has(f.id));p.forEach(f=>{i(f.id,{status:"scheduled",scheduledAt:a,scheduledFor:a.toISOString()})}),r({type:"success",title:"Posts Scheduled",message:`${p.length} posts scheduled for ${a.toLocaleDateString()}`}),d({id:crypto.randomUUID(),action:"Bulk Schedule",description:`Scheduled ${p.length} posts`,timestamp:new Date().toISOString(),status:"success"}),S(new Set),A(!1)},[t,y,i,r,d]),ue=o.useCallback(()=>{const a=t.filter(p=>y.has(p.id));a.forEach(p=>{i(p.id,{status:"published",publishedAt:new Date})}),r({type:"success",title:"Posts Published",message:`${a.length} posts published successfully`}),d({id:crypto.randomUUID(),action:"Bulk Publish",description:`Published ${a.length} posts`,timestamp:new Date().toISOString(),status:"success"}),S(new Set)},[t,y,i,r,d]),pe=o.useCallback(()=>{const a=y.size;y.forEach(p=>{n(p)}),r({type:"info",title:"Posts Deleted",message:`${a} posts removed from queue`}),S(new Set)},[y,n,r]),ge=o.useCallback(a=>{const p=t.filter(f=>y.has(f.id));p.forEach(f=>{i(f.id,{content:a.content,caption:a.content,hashtags:[...a.hashtags]})}),s(a.id),r({type:"success",title:"Template Applied",message:`Applied "${a.name}" to ${p.length} posts`}),d({id:crypto.randomUUID(),action:"Bulk Template Apply",description:`Applied "${a.name}" to ${p.length} posts`,timestamp:new Date().toISOString(),status:"success"}),S(new Set),U(!1)},[t,y,i,s,r,d]),fe=t.filter(a=>a.status==="draft").length,be=t.filter(a=>a.status==="scheduled").length,ye=t.filter(a=>a.status==="published").length,je=a=>{P(a)},Ne=a=>{v&&(i(v.id,a),r({type:"success",title:"Draft Updated",message:"Your changes have been saved"}))},ve=a=>{n(a),r({type:"info",title:"Post Deleted",message:"The post has been removed from your drafts"})},ke=a=>{H(a)},we=a=>{Q(a)},Ce=o.useCallback((a,p,f)=>{c({id:crypto.randomUUID(),content:p,caption:p,hashtags:f,platform:a,status:"draft",imageUrl:D==null?void 0:D.imageUrl}),r({type:"success",title:"Draft Created",message:`Content copied to ${a} drafts`})},[c,r,D]),Se=a=>{w&&(i(w.id,{status:"scheduled",scheduledAt:a}),r({type:"success",title:"Post Scheduled",message:`Scheduled for ${a.toLocaleDateString()} at ${a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}),d({id:crypto.randomUUID(),action:"Post Scheduled",description:`Scheduled post for ${w.platform}`,timestamp:new Date().toISOString(),status:"success",platform:w.platform}))},ze=a=>{i(a.id,{status:"published",publishedAt:new Date}),r({type:"success",title:"Post Published",message:`Successfully published to ${a.platform}`}),d({id:crypto.randomUUID(),action:"Post Published",description:`Published post to ${a.platform}`,timestamp:new Date().toISOString(),status:"success",platform:a.platform})};return e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Content Queue"}),e.jsx("p",{className:"text-gray-400",children:"Manage your drafts and scheduled posts"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pt,{posts:C,onNotify:a=>r({type:"success",title:"Export Complete",message:a})}),e.jsx(ut,{selectedCount:y.size,onScheduleAll:me,onPublishAll:ue,onDeleteAll:pe,onApplyTemplate:()=>U(!0),onClearSelection:oe,hasTemplates:x.length>0})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(I,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(J,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:fe})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Drafts"})]}),e.jsxs(I,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(Y,{size:16,className:"text-primary"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:be})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Scheduled"})]}),e.jsxs(I,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(E,{size:16,className:"text-success"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:ye})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Published"})]})]}),e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[C.length>0&&e.jsxs("button",{onClick:ce,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-colors",children:[y.size===C.length?e.jsx(q,{size:18,className:"text-primary"}):e.jsx(K,{size:18}),e.jsx("span",{className:"text-sm",children:"Select All"})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Z,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search posts...",value:u,onChange:a=>m(a.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-2.5 pl-10 pr-4 text-white placeholder-gray-500 focus:border-primary transition-colors"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{size:16,className:"text-gray-500"}),e.jsxs("select",{value:h,onChange:a=>g(a.target.value),className:"bg-white/5 border border-glass-border rounded-xl py-2.5 px-4 text-white focus:border-primary transition-colors",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Drafts"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"published",children:"Published"})]})]}),e.jsxs("select",{value:N,onChange:a=>k(a.target.value),className:"bg-white/5 border border-glass-border rounded-xl py-2.5 px-4 text-white focus:border-primary transition-colors",children:[e.jsx("option",{value:"all",children:"All Platforms"}),e.jsx("option",{value:"twitter",children:"Twitter / X"}),e.jsx("option",{value:"linkedin",children:"LinkedIn"}),e.jsx("option",{value:"instagram",children:"Instagram"}),e.jsx("option",{value:"tiktok",children:"TikTok"})]})]})}),C.length>0?e.jsx(et,{axis:"y",values:C,onReorder:de,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.jsx(z,{mode:"popLayout",children:C.map(a=>e.jsx(lt,{value:a,dragListener:!1,children:e.jsx(dt,{post:a,onEdit:je,onDelete:ve,onSchedule:ke,onPublish:ze,onCrossPost:we,onDuplicate:xe,isSelected:y.has(a.id),onSelect:ne,showDragHandle:!0})},a.id))})}):e.jsxs(I,{className:"p-12 text-center",children:[e.jsx(J,{size:48,className:"mx-auto text-gray-600 mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"No posts found"}),e.jsx("p",{className:"text-sm text-gray-500",children:t.length===0?"Create content in Content Lab to see it here":"Try adjusting your filters"})]}),e.jsx(z,{children:v&&e.jsx(xt,{post:v,onClose:()=>P(null),onSave:Ne})}),e.jsx(z,{children:w&&e.jsx(mt,{post:w,onClose:()=>H(null),onSchedule:Se})}),e.jsx(z,{children:D&&e.jsx(ht,{post:D,onClose:()=>Q(null),onCopyToPlatform:Ce})}),e.jsx(z,{children:ie&&e.jsx(gt,{templates:x,selectedCount:y.size,onClose:()=>U(!1),onApply:ge})}),e.jsx(z,{children:re&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>A(!1),children:e.jsxs(j.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"glass-panel rounded-2xl p-6 w-full max-w-md border border-glass-border",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Schedule ",y.size," Posts"]}),e.jsx("button",{onClick:()=>A(!1),className:"p-2 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white",children:e.jsx(L,{size:20})})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"All selected posts will be scheduled for the same date and time."}),e.jsx(ft,{onSchedule:he,onCancel:()=>A(!1)})]})})})]})}function ft({onSchedule:t,onCancel:l}){const[c,i]=o.useState(""),[n,r]=o.useState("");o.useState(()=>{const x=new Date;x.setDate(x.getDate()+1),x.setHours(9,0,0,0),i(x.toISOString().split("T")[0]),r("09:00")});const d=()=>{if(c&&n){const x=new Date(`${c}T${n}`);t(x)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:c,onChange:x=>i(x.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white focus:border-primary transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Time"}),e.jsx("input",{type:"time",value:n,onChange:x=>r(x.target.value),className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white focus:border-primary transition-colors"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(b,{variant:"secondary",onClick:l,className:"flex-1",children:"Cancel"}),e.jsxs(b,{variant:"primary",onClick:d,className:"flex-1",disabled:!c||!n,children:[e.jsx($,{size:16,className:"mr-1"}),"Schedule All"]})]})]})}export{zt as DraftsQueue};
