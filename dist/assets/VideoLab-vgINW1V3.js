import{k,v as de,h as a,q as e,w as N,G as o,F as me,A as U,B as m,L as q,V as H,ai as xe,H as W,D as pe,aj as ue}from"./index-DA9us14W.js";import{i as he,A as ge,b as be}from"./ai-BAV12cDm.js";import{C as ye}from"./chevron-down-UPDRpE81.js";import{C as v}from"./check-C3zPQPiO.js";import{C as w}from"./copy-BmO7Mg4Q.js";import{P as fe}from"./play-BE2WikIR.js";import{S as je}from"./square-DETVvttf.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=k("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=k("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=k("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=k("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),B=[{id:"educational",label:"Educational",description:"Informative & teaching"},{id:"promotional",label:"Promotional",description:"Product or brand focused"},{id:"storytelling",label:"Storytelling",description:"Narrative & engaging"},{id:"tutorial",label:"Tutorial",description:"Step-by-step guide"}],K=[{id:"tiktok",label:"TikTok",maxDuration:"60s"},{id:"instagram",label:"Reels",maxDuration:"90s"},{id:"youtube",label:"YouTube Shorts",maxDuration:"60s"},{id:"linkedin",label:"LinkedIn",maxDuration:"2min"}],R=["Dreaming up frames...","Synthesizing temporal consistency...","Rendering cinematic lighting...","Adding motion dynamics...","Polishing final touches..."],Se=[{id:"16:9",label:"Landscape",icon:e.jsx(ue,{size:16})},{id:"9:16",label:"Portrait",icon:e.jsx(we,{size:16})},{id:"1:1",label:"Square",icon:e.jsx(je,{size:16})}],Ce=["720p","1080p"];function De(){const{apiKeys:x,addNotification:p}=de(),[S,T]=a.useState(""),[I,Y]=a.useState("16:9"),[J,_]=a.useState("1080p"),[D,Z]=a.useState(null),[n,G]=a.useState(!1),[V,M]=a.useState(0),[C,Q]=a.useState(null),[z,A]=a.useState(!1),u=a.useRef(null),O=a.useRef(null),[P,X]=a.useState(!0),[h,ee]=a.useState(""),[g,se]=a.useState("educational"),[b,te]=a.useState("tiktok"),[F,L]=a.useState(!1),[i,ae]=a.useState(null),[y,E]=a.useState(null);a.useEffect(()=>{x.anthropic&&he(x.anthropic)},[x.anthropic]);const c=be();a.useEffect(()=>{if(!n)return;const s=setInterval(()=>{M(t=>(t+1)%R.length)},3e3);return()=>clearInterval(s)},[n]);const ie=s=>{var l;const t=(l=s.target.files)==null?void 0:l[0];if(t){const j=new FileReader;j.onloadend=()=>{Z(j.result)},j.readAsDataURL(t)}},re=async()=>{S.trim()&&(G(!0),M(0),await new Promise(s=>setTimeout(s,8e3)),Q("https://www.w3schools.com/html/mov_bbb.mp4"),G(!1))},ne=()=>{u.current&&(z?u.current.pause():u.current.play(),A(!z))},le=async()=>{if(h.trim()){if(!c){p({type:"warning",title:"API Key Required",message:"Configure Anthropic API key in Automation Hub"});return}L(!0);try{const s=new ge({apiKey:x.anthropic,dangerouslyAllowBrowser:!0}),t=K.find(d=>d.id===b),l=B.find(d=>d.id===g),$=(await s.messages.create({model:"claude-sonnet-4-20250514",max_tokens:1024,system:`You are an expert video scriptwriter specializing in short-form social media content. Create engaging, platform-optimized scripts that capture attention immediately.

Output format: Respond with valid JSON only, no markdown, no code blocks.`,messages:[{role:"user",content:`Create a ${g} video script for ${b} about: "${h}"

Requirements:
- Platform: ${t==null?void 0:t.label} (max ${t==null?void 0:t.maxDuration})
- Style: ${l==null?void 0:l.description}
- Must start with a strong hook (first 3 seconds are crucial)
- Include visual suggestions for each section
- End with a clear call-to-action

Respond with this exact JSON structure:
{
  "hook": "The attention-grabbing opening line (spoken in first 3 seconds)",
  "body": ["Point 1 with key message", "Point 2 with supporting info", "Point 3 with value/insight"],
  "callToAction": "What viewers should do next",
  "visualSuggestions": ["Visual for hook", "Visual for body section", "Visual for CTA"],
  "duration": "Estimated video duration"
}

Make the script conversational, authentic, and optimized for ${b}'s audience.`}]})).content.find(d=>d.type==="text");if(!$||$.type!=="text")throw new Error("No text content in response");const r=JSON.parse($.text);ae({hook:r.hook||"",body:Array.isArray(r.body)?r.body:[],callToAction:r.callToAction||"",visualSuggestions:Array.isArray(r.visualSuggestions)?r.visualSuggestions:[],duration:r.duration||"30-60s"}),T(`${r.hook} - ${r.body.join(". ")} Visual style: cinematic, engaging, ${g}`),p({type:"success",title:"Script Generated",message:"Your video script is ready. Review and customize as needed."})}catch(s){p({type:"error",title:"Script Generation Failed",message:s instanceof Error?s.message:"Could not generate script"})}finally{L(!1)}}},f=async(s,t)=>{try{await navigator.clipboard.writeText(s),E(t),setTimeout(()=>E(null),2e3)}catch{p({type:"error",title:"Copy Failed",message:"Could not copy to clipboard"})}},oe=()=>i?`HOOK:
${i.hook}

BODY:
${i.body.map((s,t)=>`${t+1}. ${s}`).join(`
`)}

CALL TO ACTION:
${i.callToAction}

VISUAL SUGGESTIONS:
${i.visualSuggestions.map((s,t)=>`${t+1}. ${s}`).join(`
`)}`:"",ce=()=>{switch(I){case"16:9":return"aspect-video";case"9:16":return"aspect-[9/16]";case"1:1":return"aspect-square"}};return e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"Video Lab"}),e.jsx("p",{className:"text-gray-400",children:"Create AI-powered video content from text prompts"})]}),e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium ${c?"bg-success/10 text-success":"bg-warning/10 text-warning"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${c?"bg-success":"bg-warning"}`}),"Script AI ",c?"Ready":"Not Configured"]})]}),e.jsxs(o,{className:"p-6",children:[e.jsxs("button",{onClick:()=>X(!P),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-accent-purple/20",children:e.jsx(me,{size:20,className:"text-accent-purple"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"AI Script Writer"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Generate platform-optimized video scripts"})]})]}),P?e.jsx(Ne,{size:20,className:"text-gray-400"}):e.jsx(ye,{size:20,className:"text-gray-400"})]}),e.jsx(U,{children:P&&e.jsx(N.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"pt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Video Topic"}),e.jsx("input",{type:"text",value:h,onChange:s=>ee(s.target.value),placeholder:"e.g., 5 productivity tips for remote workers",className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:K.map(s=>e.jsxs("button",{onClick:()=>te(s.id),className:`py-2 px-3 rounded-lg text-xs font-medium transition-all ${b===s.id?"bg-primary/20 text-primary-light border border-primary/30":"bg-white/5 text-gray-400 border border-glass-border hover:border-glass-border-hover"}`,children:[e.jsx("span",{className:"block",children:s.label}),e.jsx("span",{className:"text-[10px] opacity-60",children:s.maxDuration})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Style"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:B.map(s=>e.jsx("button",{onClick:()=>se(s.id),className:`py-2 px-3 rounded-lg text-xs font-medium transition-all ${g===s.id?"bg-accent-purple/20 text-accent-purple border border-accent-purple/30":"bg-white/5 text-gray-400 border border-glass-border hover:border-glass-border-hover"}`,children:s.label},s.id))})]})]}),e.jsx(m,{variant:"primary",onClick:le,disabled:!h.trim()||F||!c,className:"w-full",children:F?e.jsxs(e.Fragment,{children:[e.jsx(q,{size:16,className:"animate-spin mr-2"}),"Writing Script..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{size:16,className:"mr-2"}),"Generate Script"]})}),e.jsx(U,{children:i&&e.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4 pt-4 border-t border-glass-border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Estimated Duration"}),e.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full font-medium",children:i.duration})]}),e.jsxs("div",{className:"p-4 bg-accent-pink/5 rounded-xl border border-accent-pink/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-accent-pink uppercase",children:"Hook (0-3s)"}),e.jsx("button",{onClick:()=>f(i.hook,"hook"),className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors",children:y==="hook"?e.jsx(v,{size:14,className:"text-success"}):e.jsx(w,{size:14,className:"text-gray-400"})})]}),e.jsx("p",{className:"text-sm text-white",children:i.hook})]}),e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-glass-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Main Content"}),e.jsx("button",{onClick:()=>f(i.body.join(`
`),"body"),className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors",children:y==="body"?e.jsx(v,{size:14,className:"text-success"}):e.jsx(w,{size:14,className:"text-gray-400"})})]}),e.jsx("ul",{className:"space-y-2",children:i.body.map((s,t)=>e.jsxs("li",{className:"flex gap-2 text-sm text-gray-300",children:[e.jsxs("span",{className:"text-primary font-medium",children:[t+1,"."]}),e.jsx("span",{children:s})]},t))})]}),e.jsxs("div",{className:"p-4 bg-success/5 rounded-xl border border-success/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-success uppercase",children:"Call to Action"}),e.jsx("button",{onClick:()=>f(i.callToAction,"cta"),className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors",children:y==="cta"?e.jsx(v,{size:14,className:"text-success"}):e.jsx(w,{size:14,className:"text-gray-400"})})]}),e.jsx("p",{className:"text-sm text-white",children:i.callToAction})]}),e.jsxs("div",{className:"p-4 bg-accent-purple/5 rounded-xl border border-accent-purple/20",children:[e.jsx("span",{className:"text-xs font-bold text-accent-purple uppercase block mb-2",children:"Visual Suggestions"}),e.jsx("ul",{className:"space-y-1",children:i.visualSuggestions.map((s,t)=>e.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-400",children:[e.jsx(H,{size:12,className:"mt-0.5 text-accent-purple"}),e.jsx("span",{children:s})]},t))})]}),e.jsx(m,{variant:"secondary",size:"sm",onClick:()=>f(oe(),"full"),className:"w-full",children:y==="full"?e.jsxs(e.Fragment,{children:[e.jsx(v,{size:14,className:"mr-1"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{size:14,className:"mr-1"}),"Copy Full Script"]})})]})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{className:"p-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Motion Prompt"}),e.jsx("textarea",{value:S,onChange:s=>T(s.target.value),placeholder:"Describe the video you want to create... e.g., 'A futuristic city at sunset with flying cars and neon lights'",rows:4,className:"w-full bg-white/5 border border-glass-border rounded-xl py-3 px-4 text-white placeholder-gray-500 focus:border-primary transition-colors resize-none"}),i&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Prompt auto-filled from script. Edit as needed."})]}),e.jsxs(o,{className:"p-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Aspect Ratio"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Se.map(s=>e.jsxs("button",{onClick:()=>Y(s.id),className:`
                    py-3 px-4 rounded-xl text-sm font-medium transition-all
                    flex flex-col items-center gap-2
                    ${I===s.id?"bg-primary/20 text-primary-light border border-primary/30":"bg-white/5 text-gray-400 border border-glass-border hover:border-glass-border-hover"}
                  `,children:[s.icon,e.jsx("span",{children:s.label}),e.jsx("span",{className:"text-xs opacity-60",children:s.id})]},s.id))})]}),e.jsxs(o,{className:"p-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Resolution"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ce.map(s=>e.jsx("button",{onClick:()=>_(s),className:`
                    py-2.5 px-4 rounded-xl text-sm font-medium transition-all
                    ${J===s?"bg-accent-purple/20 text-accent-purple border border-accent-purple/30":"bg-white/5 text-gray-400 border border-glass-border hover:border-glass-border-hover"}
                  `,children:s},s))})]}),e.jsxs(o,{className:"p-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Source Image (Optional)"}),e.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:ie,className:"hidden"}),e.jsx("button",{onClick:()=>{var s;return(s=O.current)==null?void 0:s.click()},className:"w-full py-8 border-2 border-dashed border-glass-border rounded-xl text-gray-400 hover:border-primary/50 hover:text-primary-light transition-all flex flex-col items-center gap-2",children:D?e.jsx("img",{src:D,alt:"Source",className:"h-20 object-contain rounded"}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{size:24}),e.jsx("span",{className:"text-sm",children:"Upload image to animate"})]})})]}),e.jsx(m,{variant:"primary",size:"lg",onClick:re,disabled:!S.trim()||n,className:"w-full",children:n?e.jsxs(e.Fragment,{children:[e.jsx(q,{size:18,className:"animate-spin"}),R[V]]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{size:18}),"Generate Video"]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Preview"}),e.jsx("div",{className:`bg-gray-900 rounded-xl overflow-hidden mx-auto max-w-md ${ce()}`,children:n?e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative w-16 h-16 mb-4",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-t-primary animate-spin"}),e.jsx("div",{className:"absolute inset-2 rounded-full border-2 border-t-accent-purple animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),e.jsx("p",{className:"text-sm text-gray-400 animate-pulse",children:R[V]})]}):C?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("video",{ref:u,src:C,className:"w-full h-full object-cover",loop:!0,playsInline:!0,onPlay:()=>A(!0),onPause:()=>A(!1)}),e.jsx("button",{onClick:ne,className:"absolute inset-0 flex items-center justify-center bg-black/30 hover:bg-black/40 transition-colors",children:z?e.jsx(ve,{size:48,className:"text-white"}):e.jsx(fe,{size:48,className:"text-white"})})]}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-600",children:[e.jsx(H,{size:48,className:"mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Video preview"})]})})]}),C&&!n&&e.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex gap-3",children:[e.jsxs(m,{variant:"secondary",className:"flex-1",children:[e.jsx(W,{size:16}),"Regenerate"]}),e.jsxs(m,{variant:"primary",className:"flex-1",children:[e.jsx(pe,{size:16}),"Download"]})]})]})]})]})}export{De as VideoLab};
